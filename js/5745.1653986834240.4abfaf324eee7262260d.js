(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[5745],{5311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(92950),r=n.n(a),o=n(45697),l=n.n(o),i=function(e){var t=e.operatingSystem;if("RHEL"===(null==t?void 0:t.name)){var n=t.major&&null!==t.minor&&"".concat(t.major,".").concat(null==t?void 0:t.minor)||null;return r().createElement("span",null,"RHEL ",n)}return r().createElement("span",null,(null==t?void 0:t.name)||"Not available")};i.propTypes={operatingSystem:l().shape({name:l().string,major:l().number,minor:l().number})};const s=i},2907:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(45987),r=n(92950),o=n.n(r),l=n(45697),i=n.n(l),s=n(43707),c=n(65413),u=["writePermissions"],d=function(e){var t=e.link,n=e.onClick;return o().createElement("a",{className:"ins-c-inventory__detail--action",href:"".concat(window.location.href,"/").concat(t),onClick:n},o().createElement(c.ZP,null))};d.propTypes={link:i().string.isRequired,onClick:i().func.isRequired};var p=void 0,f=function(e){var t=(0,s.T)("inventory",["inventory:*:*","inventory:hosts:write","inventory:*:write"]).hasAccess;return t&&(p=t),t?o().createElement(d,e):null};f.propTypes={link:i().string.isRequired,onClick:i().func.isRequired};var m=function(e){var t=e.writePermissions,n=(0,a.Z)(e,u);return insights.chrome.isProd||t||p?o().createElement(d,n):"boolean"!=typeof t?o().createElement(f,n):null};m.propTypes={writePermissions:i().bool};const y=m},45664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>te});var a=n(15671),r=n(43144),o=n(97326),l=n(60136),i=n(82963),s=n(61120),c=n(4942),u=n(92950),d=n.n(u),p=n(45697),f=n.n(p),m=n(32384),y=n(50693),v=n(16475),h=n(80236),g=n(57971),b=n(94778),E=n(71002),C=n(87462),Z=n(29439),O=n(45987),P=n(68774),S=n(68340),T=n(71070),w=n(7887),k=n(65550),_=n(94654),L=n.n(_),x=n(58061),D=["child"];function R(e){var t=function(e,t){if("object"!==(0,E.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==(0,E.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===(0,E.Z)(t)?t:String(t)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(e){(0,l.Z)(f,e);var t,n,p=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function f(){var e;(0,a.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=p.call.apply(p,[this].concat(n)),(0,c.Z)((0,o.Z)(e),"state",{sortBy:{index:0,direction:g.SortByDirection.asc},opened:[],pagination:{page:1,perPage:10},activeFilters:{}}),(0,c.Z)((0,o.Z)(e),"onSort",(function(t,n,a){var r=e.props.expandable;e.props.onSort(t,r?n-1:n,a),e.setState({sortBy:{index:n,direction:a}})})),(0,c.Z)((0,o.Z)(e),"onCollapse",(function(t,n,a){var r=e.state.opened;r[n]=a,e.setState({opened:r})})),(0,c.Z)((0,o.Z)(e),"onUpdatePagination",(function(t){var n=t.page,a=t.perPage;e.setState({pagination:j(j({},e.state.pagination),{},{page:n,perPage:a})})})),(0,c.Z)((0,o.Z)(e),"setFilter",(function(t,n,a){var r=e.state.activeFilters,o=(r[t],(0,O.Z)(r,[t].map(R)));e.setState({activeFilters:j(j({},o),0!==n.length&&(0,c.Z)({},t,{key:t,value:n,label:a})),pagination:j(j({},e.state.pagination),{},{page:1})})})),(0,c.Z)((0,o.Z)(e),"onDeleteFilter",(function(t,n,a){var r=(0,Z.Z)(n,1)[0];e.setState({activeFilters:(0,x.Jr)(r,a,e.state.activeFilters),pagination:j(j({},e.state.pagination),{},{page:1})})})),e}return(0,r.Z)(f,[{key:"render",value:function(){var e=this,t=this.props,n=t.cells,a=t.rows,r=t.expandable,o=t.filters,l=this.state,i=l.sortBy,s=l.opened,c=l.pagination,p=l.activeFilters,f=r?{onCollapse:this.onCollapse}:{},m=(0,x.ey)(a,p),y=r?L()((0,x.Ew)(m,c),(function(e,t){var n=e.child;return[j(j({},(0,O.Z)(e,D)),{},{isOpen:s[2*t]||!1}),{cells:[{title:n}],parent:2*t}]})):(0,x.Ew)(m,c);return d().createElement(u.Fragment,null,d().createElement(w.Z,(0,C.Z)({pagination:j(j({},c),{},{itemCount:m.length,onSetPage:function(t,n){return e.onUpdatePagination(j(j({},c),{},{page:n}))},onPerPageSelect:function(t,n){return e.onUpdatePagination(j(j({},c),{},{page:1,perPage:n}))}})},o&&{filterConfig:{items:(0,x.FX)(n,o,p,this.setFilter)}},{activeFiltersConfig:{filters:Object.values(p).map((function(e){return j(j({},e),{},{category:e.label,chips:Array.isArray(e.value)?e.value.map((function(e){return{name:e}})):[{name:e.value}]})})),onDelete:this.onDeleteFilter}})),1!==n.length?d().createElement(g.Table,(0,C.Z)({"aria-label":"General information dialog table",variant:g.TableVariant.compact,cells:n,rows:y,sortBy:j(j({},i),{},{index:r&&0===i.index?1:i.index}),onSort:this.onSort},f),d().createElement(g.TableHeader,null),d().createElement(g.TableBody,null)):d().createElement(P.D,null,(0,x.Ew)(m,c).map((function(e,t){return d().createElement(S.x,{component:S.q.small,key:t},e.title||e)}))),d().createElement(k.Z,{isFooter:!0,className:"ins-c-inventory__table--toolbar"},d().createElement(T.t,(0,C.Z)({},c,{itemCount:m.length,variant:"bottom",onSetPage:function(t,n){return e.onUpdatePagination(j(j({},c),{},{page:n}))},onPerPageSelect:function(t,n){return e.onUpdatePagination(j(j({},c),{},{page:1,perPage:n}))}}))))}}]),f}(u.Component);I.propTypes={rows:f().array,cells:f().array,onSort:f().func,expandable:f().bool,filters:f().arrayOf(f().shape({index:f().number,title:f().string,type:f().oneOf(["text","checkbox","radio","group"]),options:f().arrayOf(f().shape({value:f().oneOfType([f().string,f().node]),label:f().node}))}))},I.defaultProps={cells:[],rows:[],onSort:function(){},sortBy:{},expandable:!1};const M=I;var W=n(66e3),F=n(19299),N=n(6014),A=n(82838),H=n(61537),V=n(93433),U=n(40409),q=n(62410),G=n(45026),z=function(e){var t=e.detailLoaded,n=e.hasState,a=e.hasRegistered,r=e.hasLastCheckIn,o=e.hasRHC,l=e.entity,i=e.systemProfile,s=e.systemStatus;return d().createElement(U.Z,{title:"System status",isLoading:!t,items:[].concat((0,V.Z)(n?[{title:"Current state",value:s.stale?"Stale":"Active"}]:[]),(0,V.Z)(a?[{title:"Registered",value:l&&d().createElement(q.Z,{date:l.created,type:"exact"})}]:[]),(0,V.Z)(r?[{title:"Last upload",value:l&&d().createElement(q.Z,{date:l.updated,type:"exact"})}]:[]),(0,V.Z)(o?[{title:"RHC",value:null!=i&&i.rhc_client_id?"Connected":"Not available"}]:[]))})};z.propTypes={detailLoaded:f().bool,entity:f().shape({updated:f().string,created:f().string}),systemProfile:f().shape({rhc_client_id:f().string}),systemStatus:f().object,handleClick:f().func,hasState:f().bool,hasLastCheckIn:f().bool,hasRegistered:f().bool,hasRHC:f().bool},z.defaultProps={detailLoaded:!1,systemStatus:{},handleClick:function(){},hasState:!0,hasLastCheckIn:!0,hasRegistered:!0,hasRHC:!0};const Y=(0,m.connect)((function(e){var t=e.entityDetails.entity,n=e.systemProfileStore.systemProfile;return{entity:t,systemProfile:n,detailLoaded:null==n?void 0:n.loaded,systemStatus:(0,G.systemStatus)(t)}}))(z);var J=n(28191),K=n(92298),X=n(67782),Q=function(e){var t=e.detailLoaded,n=e.collectors,a=e.entity,r=e.dataMapper,o=(0,u.useState)([]),l=(0,Z.Z)(o,2),i=l[0],s=l[1],c=(0,u.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return s((function(n){var a=n.filter((function(t){return t!==e.name}));return t?[].concat((0,V.Z)(a),[e.name]):a}))}),[]),p=function(e){return i.includes(e.name)},f=null!=n?n:(0,X.f_)(a);return d().createElement(U.Z,{title:"Data collectors",isLoading:!t},d().createElement(g.TableComposable,{"aria-label":"Data collectors",variant:g.TableVariant.compact,borders:!1},d().createElement(g.Thead,null,d().createElement(g.Tr,{className:"ins-c__no-border"},d().createElement(g.Th,null),d().createElement(g.Th,null,"Name"),d().createElement(g.Th,null,"Status"),d().createElement(g.Th,null,"Last upload"))),r?r(f,p,c):f.map((function(e,t){var n;return d().createElement(g.Tbody,{key:e.name,isExpanded:p(e)},d().createElement(g.Tr,null,e.details.name?d().createElement(g.Td,{expand:e.details?{rowIndex:t,isExpanded:p(e),onToggle:function(){return c(e,!p(e))}}:void 0,style:{paddingLeft:0}}):d().createElement(g.Td,null),d().createElement(g.Td,{dataLabel:"Name"},e.name),d().createElement(g.Td,{dataLabel:"Status"},e.status?"Active":"N/A"),d().createElement(g.Td,{dataLabel:"Last upload"},e.updated?d().createElement(q.Z,{date:e.updated,type:"exact"}):"N/A")),e.details&&e.details.name&&d().createElement(g.Tr,{isExpanded:p(e)},d().createElement(g.Td,null),d().createElement(g.Td,{colSpan:3},d().createElement(g.ExpandableRowContent,null,d().createElement(J.k,null,d().createElement(K.B,{className:"ins-c__flex-row-margin"},"".concat(e.details.name,":")),d().createElement(K.B,{grow:{default:"grow"}},null!==(n=e.details.id)&&void 0!==n?n:"N/A"))))))}))))};Q.propTypes={detailLoaded:f().bool,collectors:f().array,dataMapper:f().func,entity:f().shape({per_reporter_staleness:f().object})},Q.defaultProps={detailLoaded:!1};const $=(0,m.connect)((function(e){var t=e.entityDetails.entity,n=e.systemProfileStore.systemProfile;return{entity:t,systemProfile:n,detailLoaded:null==n?void 0:n.loaded,defaultCollectors:(0,X.f_)(t)}}))(Q);var ee=function(e){(0,l.Z)(f,e);var t,n,p=(t=f,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,s.Z)(t);if(n){var r=(0,s.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,i.Z)(this,e)});function f(){var e;(0,a.Z)(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=p.call.apply(p,[this].concat(n)),(0,c.Z)((0,o.Z)(e),"state",{isModalOpen:!1,modalTitle:"",modalVariant:"small"}),(0,c.Z)((0,o.Z)(e),"onSort",(function(t,n,a,r){var o=e.state.rows,l=(r||o).sort((function(e,t){var a=e.cells||e,r=t.cells||t;return(""+(a[n].sortValue||a[n])).toLocaleLowerCase()>(""+(r[n].sortValue||r[n])).toLocaleLowerCase()?-1:1}));e.setState({rows:a===g.SortByDirection.asc?l:l.reverse()})})),(0,c.Z)((0,o.Z)(e),"handleModalToggle",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.cells,r=n.rows,o=n.expandable,l=n.filters,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"small";r&&e.onSort(void 0,o?1:0,g.SortByDirection.asc,r),e.setState((function(e){return{isModalOpen:!e.isModalOpen,modalTitle:t,cells:a,expandable:o,filters:l,modalVariant:i}}))})),e}return(0,r.Z)(f,[{key:"componentDidMount",value:function(){this.props.loadSystemDetail&&this.props.loadSystemDetail(this.props.entity.id)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isModalOpen,a=t.modalTitle,r=t.cells,o=t.rows,l=t.expandable,i=t.filters,s=t.modalVariant,c=this.props,p=c.store,f=c.writePermissions,g=c.SystemCardWrapper,b=c.OperatingSystemCardWrapper,E=c.BiosCardWrapper,C=c.InfrastructureCardWrapper,Z=c.ConfigurationCardWrapper,O=c.SystemStatusCardWrapper,P=c.DataCollectorsCardWrapper,S=c.CollectionCardWrapper,T=c.children,w=p?m.Provider:u.Fragment;return d().createElement(w,p&&{store:p},d().createElement("div",{className:"ins-c-general-information"},d().createElement(y.r,{sm:12,md:6,hasGutter:!0},g&&d().createElement(v.P,null,d().createElement(g,{handleClick:this.handleModalToggle,writePermissions:f})),b&&d().createElement(v.P,null,d().createElement(b,{handleClick:this.handleModalToggle})),C&&d().createElement(v.P,null,d().createElement(C,{handleClick:this.handleModalToggle})),E&&d().createElement(v.P,null,d().createElement(E,{handleClick:this.handleModalToggle})),O&&d().createElement(v.P,null,d().createElement(O,{handleClick:this.handleModalToggle})),Z&&d().createElement(v.P,null,d().createElement(Z,{handleClick:this.handleModalToggle})),P&&d().createElement(v.P,null,d().createElement(P,{handleClick:this.handleModalToggle})),S&&d().createElement(v.P,null,d().createElement(S,{handleClick:this.handleModalToggle})),T,d().createElement(h.u,{title:a||"","aria-label":"".concat(a||""," modal"),isOpen:n,onClose:function(){return e.handleModalToggle()},className:"ins-c-inventory__detail--dialog",variant:s},d().createElement(M,{cells:r,rows:o,expandable:l,onSort:this.onSort,filters:i})))))}}]),f}(u.Component);ee.propTypes={entity:f().shape({id:f().oneOfType([f().string,f().number])}),loadSystemDetail:f().func,store:f().any,writePermissions:f().bool,SystemCardWrapper:f().oneOfType([f().node,f().bool]),OperatingSystemCardWrapper:f().oneOfType([f().node,f().bool]),BiosCardWrapper:f().oneOfType([f().node,f().bool]),InfrastructureCardWrapper:f().oneOfType([f().node,f().bool]),ConfigurationCardWrapper:f().oneOfType([f().node,f().bool]),SystemStatusCardWrapper:f().oneOfType([f().node,f().bool]),DataCollectorsCardWrapper:f().oneOfType([f().node,f().bool]),CollectionCardWrapper:f().oneOfType([f().node,f().bool]),children:f().node},ee.defaultProps={entity:{},SystemCardWrapper:F.default,OperatingSystemCardWrapper:W.default,BiosCardWrapper:N.default,InfrastructureCardWrapper:A.default,ConfigurationCardWrapper:H.default,SystemStatusCardWrapper:Y,DataCollectorsCardWrapper:$,CollectionCardWrapper:!1};const te=(0,m.connect)((function(e){return{entity:e.entityDetails.entity}}),(function(e){return{loadSystemDetail:function(t){return e((0,b.eR)(t))}}}))(ee)},95364:(e,t,n)=>{"use strict";n.d(t,{Z:()=>y});var a=n(15671),r=n(43144),o=n(60136),l=n(82963),i=n(61120),s=n(92950),c=n.n(s),u=n(45697),d=n.n(u),p=n(47173),f=n(80236),m=n(92607);var y=function(e){(0,o.Z)(u,e);var t,n,s=(t=u,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,a=(0,i.Z)(t);if(n){var r=(0,i.Z)(this).constructor;e=Reflect.construct(a,arguments,r)}else e=a.apply(this,arguments);return(0,l.Z)(this,e)});function u(e){var t;return(0,a.Z)(this,u),(t=s.call(this,e)).state={},t}return(0,r.Z)(u,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.isOpen,r=t.onCancel,o=t.onSubmit,l=t.ariaLabel,i=t.modalOuiaId,s=t.cancelOuiaId,u=t.confirmOuiaId,d=t.inputOuiaId,y=this.state.value;return c().createElement(f.u,{variant:"small",title:n,className:"ins-c-inventory__detail--edit","aria-label":l?"".concat(l," - modal"):"input modal",ouiaId:i,isOpen:a,onClose:function(e){return r(e)},actions:[c().createElement(p.zx,{key:"cancel","data-action":"cancel",variant:"secondary",onClick:r,ouiaId:s},"Cancel"),c().createElement(p.zx,{key:"confirm","data-action":"confirm",variant:"primary",onClick:function(){return o(e.state.value)},ouiaId:u},"Save")]},c().createElement(m.oi,{value:y,type:"text",ouiaId:d,onChange:function(t){return e.setState({value:t})},"aria-label":l}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isOpen?void 0!==t.value?null:{value:e.value||""}:{value:void 0}}}]),u}(s.Component);y.propTypes={title:d().string,isOpen:d().bool,onCancel:d().func,onSubmit:d().func,ariaLabel:d().string,modalOuiaId:d().string,cancelOuiaId:d().string,confirmOuiaId:d().string,inputOuiaId:d().string,value:d().string},y.defaultProps={onCancel:function(){},onSubmit:function(){},isOpen:!1,title:"",ariaLabel:"input text"}},57785:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p});var a,r=n(93433),o=n(4942),l=n(9036),i=n(59086);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],d=function(e){if(0===e||isNaN(Number(e)))return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(u[t])};const p=(0,l.Gg)((a={},(0,o.Z)(a,i.aI.LOAD_SYSTEM_PROFILE_FULFILLED,(function(e,t){var n,a,o=t.payload.results,l=o&&o[0]&&o[0].system_profile||{},i=o&&o[0]&&void 0!==o[0].system_profile.cloud_provider&&o[0].system_profile.cloud_provider;return c(c({},e),{},{disabledApps:(0,r.Z)("aws"===i||"azure"===i?[]:["ros"]),systemProfile:c(c({loaded:!0},l),{},{ramSize:l.system_memory_bytes&&d(l.system_memory_bytes),repositories:(a=l.yum_repos,a&&a.reduce((function(e,t){return c(c({},e),t.enabled?{enabled:[].concat((0,r.Z)(e.enabled),[t])}:{disabled:[].concat((0,r.Z)(e.disabled),[t])})}),{enabled:[],disabled:[]})),network:(n=l.network_interfaces,n&&n.reduce((function(e,t){return{interfaces:[].concat((0,r.Z)(e.interfaces),[t]),ipv4:[].concat((0,r.Z)(e.ipv4),(0,r.Z)(t.ipv4_addresses||[])).filter(Boolean),ipv6:[].concat((0,r.Z)(e.ipv6),(0,r.Z)(t.ipv6_addresses||[])).filter(Boolean)}}),{interfaces:[],ipv4:[],ipv6:[]}))})})})),(0,o.Z)(a,i.aI.LOAD_SYSTEM_PROFILE_PENDING,(function(e){return c(c({},e),{},{systemProfile:{loaded:!1}})})),a),{systemProfile:{loaded:!1}})},30187:()=>{},93398:()=>{},46928:()=>{},91993:()=>{},314:()=>{},38299:()=>{},72816:()=>{}}]);
//# sourceMappingURL=../sourcemaps/5745.d7bf8c21bc5ea1aed390e5916b35aa79.js.map