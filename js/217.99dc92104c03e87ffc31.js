(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[217],{44554:(e,t,n)=>{(t=e.exports=n(23645)(!1)).i(n(35747),""),t.i(n(42454),""),t.push([e.id,"button:focus{outline:none}table.ins-entity-table th{padding:1rem;padding-left:2rem}\n",""])},78693:(e,t,n)=>{"use strict";n.d(t,{Z:()=>k});var r=n(34575),o=n.n(r),a=n(93913),i=n.n(a),c=n(2205),s=n.n(c),l=n(78585),u=n.n(l),p=n(29754),f=n.n(p),d=n(45697),v=n.n(d),y=n(80150),h=n.n(y),m=n(70983),E=n(19811),g=(n(33172),n(70995)),I=n(45514),O=n(75061),P=n(14018),b=n(89460),S=n(59713),_=n.n(S),w=n(6479),T=n.n(w),L=n(55229);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){_()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=n(77053);const j=function(){var e=function(){var e=(0,L.T)("inventory",["inventory:*:*","inventory:hosts:write","inventory:*:write"]),t=e.hasAccess;return N(N({},T()(e,["hasAccess"])),{},{hasAccess:t})}(),t=e.isLoading,n=e.hasAccess,r=(0,m.useDispatch)();return(0,y.useEffect)((function(){r({type:"".concat(A.aI.LOAD_WRITE_PERMISSIONS,"_PENDING")})}),[]),(0,y.useEffect)((function(){t||r({type:"".concat(A.aI.LOAD_WRITE_PERMISSIONS,"_FULFILLED"),payload:{writePermissions:n}})}),[t]),null};var R;var F=(0,O.ZP)()(R=function(e){s()(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=f()(t);if(n){var o=f()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return u()(this,e)});function a(e){var t;return o()(this,a),(t=r.call(this,e)).getRegistry().register(P.ll),t}return i()(a,[{key:"componentDidMount",value:function(){var e=this;insights.chrome.init(),insights.chrome.identifyApp(g.U),this.appNav=insights.chrome.on("APP_NAVIGATION",(function(t){return e.props.history.push("/".concat(t.navId).concat(location.search).concat(location.hash))}))}},{key:"componentWillUnmount",value:function(){this.appNav()}},{key:"render",value:function(){return h().createElement(h().Fragment,null,h().createElement(b.ZP,null),h().createElement(j,null),h().createElement(E.Z,{childProps:this.props}))}}]),a}(y.Component))||R;F.propTypes={history:v().object};const k=(0,I.Z)((0,m.connect)()(F))},19811:(e,t,n)=>{"use strict";n.d(t,{_:()=>h,Z:()=>m});var r=n(67154),o=n.n(r),a=n(6479),i=n.n(a),c=n(55399),s=n(45697),l=n.n(s),u=n(80150),p=n.n(u),f=n(77053),d=(0,u.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(310),n.e(370),n.e(1),n.e(149)]).then(n.bind(n,25149))})),v=(0,u.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(310),n.e(370),n.e(1),n.e(245)]).then(n.bind(n,37245))})),y=function(e){var t=e.component,n=e.rootClass,r=i()(e,["component","rootClass"]),a=document.getElementById("root");return a.removeAttribute("class"),a.classList.add("page__".concat(n),"pf-c-page__main"),a.classList.add("page__".concat(n),"pf-l-page__main"),p().createElement(c.Route,o()({},r,{component:t}))};y.propTypes={component:l().func,rootClass:l().string};var h={table:"/",detail:"/:inventoryId"},m=function(e){var t,n,r=e.childProps.history,o=window.location.pathname.split("/"),a=new URLSearchParams(location.search);return o.shift(),"beta"===o[0]&&o.shift(),t=o[0],n=o[1],Object.values(h).some((function(e){return(0,c.matchPath)(location.href,{path:"".concat(document.baseURI).concat(t,"/").concat(n).concat(e)})}))||r.push("".concat(h.table).concat(location.search).concat(location.hash)),p().createElement(u.Suspense,{fallback:""},p().createElement(c.Switch,null,p().createElement(y,{exact:!0,path:h.table,render:function(){var e,t,n,r,o;return p().createElement(d,{status:a.getAll("status"),source:a.getAll("source"),filterbyName:a.getAll("hostname_or_id"),tagsFilter:null===(e=a.getAll("tags"))||void 0===e||null===(t=e[0])||void 0===t||null===(n=t.split)||void 0===n||null===(r=(o=n.call(t,",")).reduce)||void 0===r?void 0:r.call(o,f.Pv,[]),page:a.getAll("page"),perPage:a.getAll("per_page")})},rootClass:"inventory"}),p().createElement(y,{path:h.detail,component:v,rootClass:"inventory"})))};m.propTypes={childProps:l().shape({history:l().shape({push:l().func,location:l().shape({search:l().string})})})}},70995:(e,t,n)=>{"use strict";n.d(t,{$:()=>r,U:()=>o});var r="/api/inventory/v1",o="inventory"},77053:(e,t,n)=>{"use strict";n.d(t,{aI:()=>p,wt:()=>f,pr:()=>d,uW:()=>v,fT:()=>y,Pv:()=>h});var r=n(63038),o=n.n(r),a=n(319),i=n.n(a),c=n(24350),s=n.n(c),l=n(94654),u=n.n(l)()(["GET_ENTITIES","GET_ENTITY","UPDATE_DISPLAY_NAME","LOAD_WRITE_PERMISSIONS"],(function(e){return[e,"".concat(e,"_PENDING"),"".concat(e,"_FULFILLED"),"".concat(e,"_REJECTED")]})),p=s()([].concat(["ALERT_ADD","ALERT_DISMISS","REMOVE_ENTITY"],i()(u)),(function(e){return e})),f="@@INSIGHTS-CORE/NOTIFICATIONS/CLEAR_NOTIFICATIONS",d="SELECT_ENTITY",v="SET_INVENTORY_FILTER",y="SET_PAGINATION",h=function(e,t){var n=t.split("/"),r=o()(n,2),a=r[0],i=r[1];i||(i=a,a=null);var c=i.split("="),s=o()(c,2),l=s[0],u=s[1],p=void 0===u?null:u,f=e.findIndex((function(e){return e.category===a})),d=e[f]||{category:a,key:a,type:"tags",values:[]};return d.values.push({name:"".concat(l).concat(p?"=".concat(p):""),key:"".concat(l).concat(p?"=".concat(p):""),tagKey:l,value:p,group:{label:a,value:a,type:"checkbox"}}),e[f]||e.push(d),e}},14018:(e,t,n)=>{"use strict";n.d(t,{CB:()=>q,zw:()=>K,S1:()=>X,ll:()=>$});var r=n(86914),o=n(75061),a=n(64539),i=n(72689),c=n.n(i),s=n(59713),l=n.n(s),u=n(77053),p=n(13486),f=n(80150),d=n.n(f),v=(n(12166),n(55399)),y=(0,f.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(679),n.e(998),n.e(259),n.e(121),n.e(10)]).then(n.bind(n,10515))}));const h=function(){return d().createElement(f.Suspense,{fallback:""},d().createElement(y,{customItnl:!0,intlProps:{locale:navigator.language},inventoryId:(0,v.useParams)().inventoryId}))};var m=n(87757),E=n.n(m),g=n(48926),I=n.n(g),O=n(63038),P=n.n(O);n(63544);const b=function(){var e=(0,f.useState)(f.Fragment),t=P()(e,2),r=t[0],a=t[1];return(0,f.useEffect)((function(){a((function(){return d().lazy(I()(E().mark((function e(){var t,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(410),n.e(252),n.e(679),n.e(122),n.e(310),n.e(998),n.e(919),n.e(259),n.e(575),n.e(832)]).then(n.bind(n,32208));case 2:return t=e.sent,r=t.SystemCvesStore,(0,o.JH)().register({SystemCvesStore:r}),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)}))))}))}),[]),d().createElement(f.Suspense,null,d().createElement(r,{customItnlProvider:!0,entity:{id:(0,v.useParams)().inventoryId}}))};var S=n(70983),_=(0,f.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(998),n.e(919),n.e(84)]).then(n.bind(n,60568))}));const w=function(){return d().createElement(f.Suspense,{fallback:""},d().createElement(_,{store:(0,S.useStore)()}))};var T=(0,f.lazy)((function(){return Promise.all([n.e(410),n.e(252),n.e(880),n.e(310),n.e(418),n.e(949)]).then(n.bind(n,57291))}));const L=function(){var e=(0,S.useSelector)((function(e){var t=e.permissionsReducer;return null==t?void 0:t.writePermissions}));return d().createElement(f.Suspense,{fallback:""},d().createElement(T,{store:(0,S.useStore)(),writePermissions:e}))};var D,N=n(10535),A=n(87446),j=n(20909),R=n(79111);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const C=(0,A.Gg)((D={},l()(D,"".concat(u.aI.LOAD_WRITE_PERMISSIONS,"_PENDING"),(function(e){return k(k({},e),{},{loadingFailed:!1,loading:!0,writePermissions:void 0})})),l()(D,"".concat(u.aI.LOAD_WRITE_PERMISSIONS,"_FULFILLED"),(function(e,t){var n=t.payload;return k(k({},e),{},{loading:!1,loadingFailed:!1,writePermissions:n.writePermissions})})),l()(D,"".concat(u.aI.LOAD_WRITE_PERMISSIONS,"_FAILED"),(function(e){return k(k({},e),{},{loading:!1,loadingFailed:!0})})),D),{loading:!0,writePermissions:!1,loadingFailed:!1});function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={loaded:!1,selected:new Map},Z=function(e){return"true"===window.sessionStorage.getItem("disableEntitlements")||e&&e.is_entitled};function W(e,t){var n=t.payload;return G(G({},e),{},{rows:(0,j.r0)([e.rows,n.results]),entities:(0,j.r0)([e.entities,n.results])})}function x(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{payload:{}},n=t.payload.entitlements;return G(G({},e),{},{loaded:!0,activeApps:[{title:"General information",name:"general_information",component:L},Z(n&&n.insights)&&{title:"Advisor",name:"advisor",component:w},Z(n&&n.insights)&&{title:"Vulnerability",name:"vulnerabilities",component:b},Z(n&&n.insights)&&{title:"Compliance",name:"compliance",component:h},Z(n&&n.insights)&&{title:"Patch",name:"patch",component:N.ZP}].filter(Boolean)})}function z(e,t){var n=t.payload,r=e.selected||new Map;if(n.selected)if(0===n.id)e.rows.forEach((function(e){return r.set(e.id,e)}));else{var o=e.rows&&e.rows.find((function(e){return e.id===n.id}));r.set(n.id,G(G({},o||{}),{},{id:n.id}))}else 0===n.id?e.rows.forEach((function(e){return r.delete(e.id)})):-1===n.id?r.clear():r.delete(n.id);return G(G({},e),{},{selected:new Map(r)})}function Y(e,t){var n=t.meta,r=e.selected||new Map;return n.systems.forEach((function(e){return r.delete(e)})),G(G({},e),{},{selected:new Map(r)})}function V(e,t){var n=t.payload;return G(G({},e),{},{rows:(0,j.r0)([e.rows,n.results.map((function(t){return G(G({},t),{},{selected:e.selected&&e.selected.has(t.id)})}))])})}function B(e,t){var n=t.payload;return G(G({},e),{},{activeFilters:n.filtersList})}function H(e,t){var n=t.payload,r=parseInt(n.perPage,10),o=parseInt(n.page,10);return G(G({},e),{},{perPage:isNaN(r)?50:r,page:isNaN(o)?1:o})}var J={notifications:R.ZP,systemProfileStore:p.ZP,permissionsReducer:C,SystemPackageListStore:N.fq,SystemAdvisoryListStore:N.gn},K=function(e){var t,n=e.LOAD_ENTITIES_FULFILLED;return(0,A.Gg)((t={},l()(t,u.aI.GET_ENTITIES_FULFILLED,W),l()(t,n,V),l()(t,"".concat(u.aI.REMOVE_ENTITY,"_FULFILLED"),Y),l()(t,u.pr,z),l()(t,"FILTER_SELECT",(function(e){return G(G({},e),{},{selected:{}})})),l()(t,u.uW,B),l()(t,u.fT,H),t),U)},q=function(){return(0,A.Gg)(l()({},u.aI.GET_ENTITY_FULFILLED,x),U)};const $=J;var Q;function X(){Q=new r.Z;for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,o.JH)({},[Q.getMiddleware(),c(),(0,a.Z)({errorDescriptionKey:["detail","stack"]})].concat(t))}},33172:(e,t,n)=>{"use strict";var r=n(93379),o=n.n(r),a=n(44554),i=n.n(a),c=o()(i(),{insert:"head",singleton:!1});if(!i().locals||e.hot.invalidate){var s=i().locals;e.hot.accept(44554,(t=>{a=n(44554),function(e,t,n){if(!e&&t||e&&!t)return!1;var r;for(r in e)if(e[r]!==t[r])return!1;for(r in t)if(!e[r])return!1;return!0}(s,(i=n.n(a))().locals)?(s=i().locals,c(i())):e.hot.invalidate()}))}e.hot.dispose((function(){c()})),i().locals}}]);
//# sourceMappingURL=217.99dc92104c03e87ffc31.js.map