(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[154],{67389:(e,t,n)=>{"use strict";n.d(t,{Z:()=>M});var r=n(87462),i=n(45987),a=n(92950),l=n.n(a),s=n(5436),o=n(76770),c=n(28985),u=n(34241),d=n(16537),m=n(58409),p=n(29821),E=n(16941),v=n(49739),f=n(83826),y=n(45697),h=n.n(y),g=n(50533),O=n(94474),b=n(71710),_=n(21039),T=n(79851),I=n(34512),L=n(38779),P=function(e){var t=e.hideInvLink,n=e.showTags,r=(0,g.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.display_name})),i=(0,g.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),a=(0,g.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.tags}));return l().createElement(v.K,{hasGutter:!0},l().createElement(f.v,null,l().createElement(T.P,null,l().createElement(I.J,{isFilled:!0},l().createElement(L.D,{headingLevel:"h3",size:"xl"},r)),!t&&l().createElement(I.J,null,l().createElement("a",{className:"ins-c-entity-detail__inv-link",href:"./insights/inventory/".concat(i)},"Open in Inventory")))),n&&l().createElement(f.v,null,l().createElement(T.P,{hasGutter:!0},l().createElement(I.J,null,"Tags:"),l().createElement(I.J,null,l().createElement(_.Z,null,0!==(null==a?void 0:a.length)?null==a?void 0:a.map((function(e,t){return l().createElement(b.A,{key:t,isReadOnly:!0},(null==e?void 0:e.namespace)&&"".concat(null==e?void 0:e.namespace,"/"),null==e?void 0:e.key,(null==e?void 0:e.value)&&"=".concat(null==e?void 0:e.value))})):"No tags")))))};P.propTypes={hideInvLink:h().bool,showTags:h().bool},P.defaultProps={hideInvLink:!1,showTags:!1};const w=P;var D=n(86487),N=n(86050),S=n(35664),Z=n(52653),A=n(80971),j=n(19210),F=function(e){var t,n,r,i,s,o,c,u,d,m,p=e.isOpened,E=(0,g.useDispatch)(),y=(0,g.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),h=(0,g.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.advisor})),b=(0,g.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.compliance})),_=(0,g.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.cve})),T=(0,g.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.patch}));return(0,a.useEffect)((function(){y&&p&&(E((0,O.gb)(y)),E((0,O.Oj)(y)),E((0,O.k0)(y)),E((0,O.Fo)(y)))}),[y,p]),l().createElement(v.K,{hasGutter:!0,className:"ins-c-inventory__drawer-system-issues"},l().createElement(f.v,null,l().createElement(L.D,{headingLevel:"h4",size:"lg"},"Top system issues")),l().createElement(f.v,null,l().createElement(D.a,null,l().createElement(N.Z,null,l().createElement(v.K,{hasGutter:!0},l().createElement(f.v,{className:"ins-c-inventory__drawer--title"},"Applicable CVEs"),l().createElement(f.v,null,null!=_&&_.isLoaded?l().createElement(D.a,{hasGutter:!0,className:"ins-c-inventory__drawer-cve"},l().createElement(N.Z,{className:"ins-m-critical"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(y,"?impact=7")},(null==_||null===(t=_.critical)||void 0===t?void 0:t.count)||0," critical")),l().createElement(N.Z,{className:"ins-m-important"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(y,"?impact=5")},(null==_||null===(n=_.important)||void 0===n?void 0:n.count)||0," important")),l().createElement(N.Z,{className:"ins-m-moderate"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(y,"?impact=4")},(null==_||null===(r=_.moderate)||void 0===r?void 0:r.count)||0," moderate")),l().createElement(N.Z,{className:"ins-m-low"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(y,"?impact=2")},(null==_||null===(i=_.low)||void 0===i?void 0:i.count)||0," low"))):l().createElement(S.Z,{size:S.i.md})))),l().createElement(N.Z,null,l().createElement(v.K,{hasGutter:!0},l().createElement(f.v,{className:"ins-c-inventory__drawer--title"},"Applicable advisories"),l().createElement(f.v,null,null!=T&&T.isLoaded?l().createElement(D.a,{hasGutter:!0,className:"ins-c-inventory__drawer-patch"},l().createElement(N.Z,null,l().createElement("a",{href:"/insights/patch/systems/".concat(y,"/?advisory_type=2")},l().createElement(Z.ZP,null)," ",null==T||null===(s=T.bug)||void 0===s?void 0:s.count)),l().createElement(N.Z,{className:"ins-m-moderate"},l().createElement("a",{href:"/insights/patch/systems/".concat(y,"/?advisory_type=3")},l().createElement(j.ZP,null)," ",null==T||null===(o=T.security)||void 0===o?void 0:o.count)),l().createElement(N.Z,null,l().createElement("a",{href:"/insights/patch/systems/".concat(y,"/?advisory_type=1")},l().createElement(A.ZP,null)," ",null==T||null===(c=T.enhancement)||void 0===c?void 0:c.count))):l().createElement(S.Z,{size:S.i.md})))))),l().createElement(f.v,null,null!=h&&h.isLoaded?l().createElement("span",null,l().createElement("span",{className:"ins-m-critical"},(null==h||null===(u=h.criticalCount)||void 0===u?void 0:u.length)||0," critical")," ","recommendations in"," ",l().createElement("a",{href:"./insights/advisor/systems/".concat(y)},"Advisor")):l().createElement(S.Z,{size:S.i.md})),null!=b&&b.isLoaded?(null==b?void 0:b.profiles)&&l().createElement("span",null,"System above compliance threshold for"," ",l().createElement("a",{href:"./insights/compliance/reports/"},null==b||null===(d=b.profiles)||void 0===d?void 0:d.length," ",(null==b||null===(m=b.profiles)||void 0===m?void 0:m.length)>1?"policies":"policy")):l().createElement(S.Z,{size:S.i.md}))};F.propTypes={isOpened:h().bool};const R=F;var G=n(67866),C=["children","hideInvLink","showTags","Wrapper","className","hasAccess","appName","inventoryId"],k=function(e){var t=e.children,n=e.hideInvLink,y=e.showTags,h=e.Wrapper,b=e.className,_=(e.hasAccess,e.appName),T=e.inventoryId,I=(0,i.Z)(e,C),L=(0,g.useDispatch)(),P=(0,g.useStore)(),D=(0,g.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),N=(0,g.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.isToggleOpened})),S=(0,g.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded}));return(0,a.useEffect)((function(){(T&&!D||(null==D?void 0:D.id)!==T)&&L((0,O.A_)(T,{hasItems:!0},{showTags:y}))}),[D,T]),l().createElement(s.dy,(0,r.Z)({className:"ins-c-inventory__drawer ".concat(b||""),isExpanded:N,onExpand:function(){return L((0,O.wb)(!0))}},I),l().createElement(u.s,{panelContent:l().createElement(E.S,null,l().createElement(m.h,null,l().createElement(w,{hideInvLink:n,showTags:y}),l().createElement(o.x,null,l().createElement(c.c,{onClick:function(){return L((0,O.wb)(!1))}}))),l().createElement(p.F,null,l().createElement(v.K,{className:"ins-c-inventory__drawer--content"},l().createElement(f.v,null,l().createElement(R,{isOpened:N})),l().createElement(f.v,{isFilled:!0,className:"ins-c-inventory__drawer--facts"},l().createElement(G.Z,{entity:D,loaded:S}),N&&S&&h&&l().createElement(h,{store:P,appName:_})))))},l().createElement(d.s,null,t)))};k.propTypes={children:h().any,hideInvLink:h().bool,showTags:h().bool,appName:h().oneOf(["general_information","advisor","insights","compliance","vulnerabilities","patch"]),className:h().string,Wrapper:h().elementType,hasAccess:h().bool,inventoryId:h().string.isRequired},k.defaultProps={appName:"general_information"};const M=k},39142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>P});var r={};n.r(r),n.d(r,{ACTION_TYPES:()=>f.aI,CHANGE_SORT:()=>f.WH,CLEAR_ENTITIES:()=>f.g1,CLEAR_FILTERS:()=>f.Gs,CLEAR_NOTIFICATIONS:()=>f.wt,CONFIG_CHANGED:()=>f.Uq,ENTITIES_LOADING:()=>f.jZ,FILTER_ENTITIES:()=>f.lP,FILTER_SELECT:()=>f.hI,INVENTORY_ACTION_TYPES:()=>f.AL,SELECT_ENTITY:()=>f.pr,SET_ANSIBLE_HOST:()=>f.Bh,SET_DISPLAY_NAME:()=>f.Ti,SET_INVENTORY_FILTER:()=>f.uW,SET_PAGINATION:()=>f.fT,SHOW_ENTITIES:()=>f.u4,SYSTEM_ISSUE_TYPES:()=>f.dF,TOGGLE_DRAWER:()=>f.Ji,TOGGLE_TAG_MODAL:()=>f.Qd,UPDATE_ENTITIES:()=>f.s$,asyncActions:()=>f.zW,asyncInventory:()=>f.gl,clearEntitiesAction:()=>v.s$,clearFilters:()=>v.K5,clearNotifications:()=>v.L1,configChanged:()=>v.u3,deleteEntity:()=>v.Ks,editAnsibleHost:()=>v.Uw,editDisplayName:()=>v.$Y,entitesDetailReducer:()=>E.CB,entitiesLoading:()=>v.nE,entitiesReducer:()=>E.zw,entityDetailsReducer:()=>E.gA,fetchAllTags:()=>v.C8,fetchGroupDetail:()=>v.JM,fetchGroups:()=>v.bt,fetchGroupsForEntities:()=>v.d6,fetchOperatingSystems:()=>v.g6,filterEntities:()=>v.CP,filterSelect:()=>v.fg,getAdvisorData:()=>v.gb,getComplianceData:()=>v.Oj,getPatchData:()=>v.k0,getVulnData:()=>v.Fo,loadEntities:()=>v.il,loadEntity:()=>v.A_,loadTags:()=>v.me,mergeWithDetail:()=>E.OL,mergeWithEntities:()=>E.AF,selectEntity:()=>v.CL,setFilter:()=>v.Tv,setPagination:()=>v.Jr,setSort:()=>v.HD,systemIssues:()=>f.AN,systemProfile:()=>v.eR,tableReducer:()=>E.M,toggleDrawer:()=>v.wb,toggleTagModal:()=>v.Ar,updateEntities:()=>v.jB});var i=n(87462),a=n(4942),l=n(45987),s=n(92950),o=n.n(s),c=n(45697),u=n.n(c),d=n(50533),m=n(75662),p=n(371),E=n(81730),v=n(94474),f=n(59086),y=n(73880),h=n(34655),g=n(454),O=["component","onLoad","store","history","innerRef"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T=E.OL,I=(0,l.Z)(r,["mergeWithDetail"]),L=function(e){var t=e.component,n=e.onLoad,r=e.store,a=e.history,c=e.innerRef,u=(0,l.Z)(e,O);return(0,s.useEffect)((function(){null==n||n(_(_(_({},I),y),{},{api:h,mergeWithDetail:T}))}),[]),o().createElement(p.r,{appName:"inventory",checkResourceDefinitions:!0},o().createElement(d.Provider,{store:r},o().createElement(m.Router,{history:a},o().createElement(g.Z,(0,i.Z)({},u,{isRbacEnabled:!0,inventoryRef:c,store:r,cmp:t})))))};L.propTypes={store:u().object,onLoad:u().func,component:u().elementType.isRequired,history:u().object,innerRef:u().shape({current:u().any})},L.defaultProps={onLoad:function(){}};const P=L},81730:(e,t,n)=>{"use strict";n.d(t,{AF:()=>b,CB:()=>O,M:()=>g,OL:()=>_,ZP:()=>T,gA:()=>d.ZP,zw:()=>u.ZP});var r,i=n(4942),a=n(59086),l=n(57785),s=n(18546),o=n(35240),c=n(83215),u=n(21216),d=n(48536),m=n(34150),p=n(52987);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var f={loaded:!1,selected:new Map};function y(e){return v(v({},e),{},{loaded:!0})}var h={notifications:c.ee,systemProfileStore:l.default,groups:m.Z,groupDetail:p.Z},g=(0,s.Gg)((r={},(0,i.Z)(r,a.aI.GET_ENTITIES_FULFILLED,(function(e,t){var n=t.payload;return v(v({},e),{},{rows:(0,o.r0)([e.rows,n.results]),entities:(0,o.r0)([e.entities,n.results])})})),(0,i.Z)(r,a.AL.LOAD_ENTITIES_FULFILLED,(function(e,t){var n=t.payload,r=t.meta;return(null==r?void 0:r.lastDateRequest)<(null==e?void 0:e.lastDateRequest)?e:v(v({},e),{},{rows:(0,o.r0)([e.rows,n.results.map((function(t){return v(v({},t),{},{selected:e.selected&&e.selected.has(t.id)})}))])})})),(0,i.Z)(r,"".concat(a.aI.REMOVE_ENTITY,"_FULFILLED"),(function(e,t){var n=t.meta,r=e.selected||new Map;return n.systems.forEach((function(e){return r.delete(e)})),v(v({},e),{},{selected:new Map(r)})})),(0,i.Z)(r,a.pr,(function(e,t){var n=t.payload,r=e.selected||new Map;if(n.selected)if(Array.isArray(n.id))n.id.forEach((function(e){r.set(e.id,e)}));else if(0===n.id)e.rows.forEach((function(e){return r.set(e.id,e)}));else{var i=e.rows&&e.rows.find((function(e){return e.id===n.id}));r.set(n.id,v(v({},i||{}),{},{id:n.id}))}else 0===n.id?e.rows.forEach((function(e){return r.delete(e.id)})):-1===n.id?r.clear():r.delete(n.id);return v(v({},e),{},{selected:new Map(r)})})),(0,i.Z)(r,"FILTER_SELECT",(function(e){return v(v({},e),{},{selected:{}})})),(0,i.Z)(r,a.uW,(function(e,t){var n=t.payload;return v(v({},e),{},{activeFilters:n.filtersList})})),(0,i.Z)(r,a.fT,(function(e,t){var n=t.payload,r=parseInt(n.perPage,10),i=parseInt(n.page,10);return v(v({},e),{},{perPage:isNaN(r)?50:r,page:isNaN(i)?1:i})})),(0,i.Z)(r,a.aI.UPDATE_DISPLAY_NAME_FULFILLED,d.i8),r),f),O=function(){return(0,s.Gg)((0,i.Z)({},a.AL.LOAD_ENTITY_FULFILLED,y),f)};function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{entities:function(n,r){return v({},e(v({},(0,s.Gg)(v({},u.ZP),v(v({},u.W2),t))(n,r)),r))}}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{entityDetails:function(n,r){return v({},e(v({},(0,s.Gg)(v({},d.ZP),v(v({},d.PY),t))(n,r)),r))}}}const T=h},57785:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateInterfaces:()=>v,calculateRepos:()=>E,default:()=>y,defaultState:()=>u,formatBytes:()=>m,onSystemProfile:()=>f,sizes:()=>d,systemProfilePending:()=>p});var r,i=n(93433),a=n(4942),l=n(18546),s=n(59086);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u={loaded:!1},d=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],m=function(e){if(0===e||isNaN(Number(e)))return"0 B";var t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(2))," ").concat(d[t])};function p(e){return c(c({},e),{},{systemProfile:{loaded:!1}})}function E(e){return e&&e.reduce((function(e,t){return c(c({},e),!("enabled"in t)||t.enabled?{enabled:[].concat((0,i.Z)(e.enabled),[t])}:{disabled:[].concat((0,i.Z)(e.disabled),[t])})}),{enabled:[],disabled:[]})}function v(e){return e&&e.reduce((function(e,t){return{interfaces:[].concat((0,i.Z)(e.interfaces),[t]),ipv4:[].concat((0,i.Z)(e.ipv4),(0,i.Z)(t.ipv4_addresses||[])).filter(Boolean),ipv6:[].concat((0,i.Z)(e.ipv6),(0,i.Z)(t.ipv6_addresses||[])).filter(Boolean)}}),{interfaces:[],ipv4:[],ipv6:[]})}function f(e,t){var n=t.payload.results,r=n&&n[0]&&n[0].system_profile||{},a=n&&n[0]&&void 0!==n[0].system_profile.cloud_provider&&n[0].system_profile.cloud_provider;return c(c({},e),{},{disabledApps:(0,i.Z)("aws"===a||"azure"===a?[]:["ros"]),systemProfile:c(c({loaded:!0},r),{},{ramSize:r.system_memory_bytes&&m(r.system_memory_bytes),repositories:E(r.yum_repos),network:v(r.network_interfaces)})})}const y=(0,l.Gg)((r={},(0,a.Z)(r,s.aI.LOAD_SYSTEM_PROFILE_FULFILLED,f),(0,a.Z)(r,s.aI.LOAD_SYSTEM_PROFILE_PENDING,p),r),{systemProfile:u})},93818:()=>{},94498:()=>{},80897:()=>{}}]);
//# sourceMappingURL=../sourcemaps/154.c09c4fa6ba0fb5e555048dd48048be3e.js.map