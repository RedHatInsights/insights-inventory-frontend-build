/*! For license information please see 8915.81c42499cd17de098638.js.LICENSE.txt */
(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[8915],{3727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>me});var a=n(92950),r=n.n(a),i=n(55140),l=n(89376),o=n(39173),s=n(71002),c=n(15861),u=n(29439),m=n(47173),d=n(32203),f=n(62394),p=n(70401),v=n(28191),h=n(80236),y=n(46043),g=n(37619),_=n(28883),b=n(29873),w=n(35262),E=n(38779),x=n(75824),N=n(91290),k=n(92298),S=n(4942),O=n(45697),L=n.n(O),z=n(54680),F=n(92694);function j(){j=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,l=Object.create(i.prototype),o=new S(r||[]);return a(l,"_invoke",{value:E(e,n,o)}),l}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function p(){}function v(){}var h={};c(h,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==t&&n.call(g,i)&&(h=g);var _=v.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,i,l,o){var c=m(e[a],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,s.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,l,o)}),(function(e){r("throw",e,l,o)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var o=x(l,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=m(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=m(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=v,a(_,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var l=new w(u(t,n,a,r),i);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},b(_),c(_,o,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var C=2147483647,K=function(e){return e>2e9?"Never":e/86400},P=["conventional_staleness_delta","conventional_stale_warning_delta","conventional_culling_delta","immutable_staleness_delta","immutable_stale_warning_delta","immutable_culling_delta"],V=function(){return r().createElement(y.J,{"aria-label":"Organization level popover",headerContent:r().createElement(E.D,{headingLevel:"h4"},"Orginization level setting"),position:"left",bodyContent:r().createElement(v.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale after 1 day since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale warning after 14 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are culled after 30 days since last check-in."))},r().createElement(m.zx,{variant:"plain","aria-label":"Organization level popover",style:{padding:0}},r().createElement(N.ZP,{className:"pf-u-ml-md"})))},I=function(){return r().createElement(y.J,{"aria-label":"Orginization level popover",headerContent:r().createElement(E.D,{headingLevel:"h4"},"Orginization level setting"),hasAutoWidth:!0,position:"top",bodyContent:r().createElement("div",null,r().createElement("p",{className:"pf-u-font-size-sm"},"Configure the number of days it will take for your systems to be marked as stale, stale warning, and be cullled."),r().createElement(v.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},r().createElement("span",{className:"pf-u-font-size-sm"},"By default:"),r().createElement("span",{className:"pf-u-font-size-sm"},r().createElement("p",null,"- Systems are marked as stale after 1 day since last check-in.")),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale warning after 14 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are culled after 30 days since last check-in.")))},r().createElement(m.zx,{variant:"plain","aria-label":"Orginization level popover",style:{padding:0}},r().createElement(N.ZP,{className:"pf-u-ml-sm"})))},T=function(e){return[{name:"1 day",value:1,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta",title:"System staleness",modalMessage:"A stale status on a system indicates that your system has not checked-in in a certain amount of time."},{name:"2 days",value:2,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"3 days",value:3,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"4 days",value:4,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"5 days",value:5,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"6 days",value:6,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"7 days",value:7,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"Never",value:"Never",apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"}]},Z=function(e){return[{name:"7 days",value:7,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta",title:"System stale warning",modalMessage:"A stale warning status on a system indicates that your system has not checked-in in a while, and is at risk of being deleted from your inventory."},{name:"14 days",value:14,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"21 days",value:21,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"30 days",value:30,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"60 days",value:60,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"90 days",value:90,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"120 days",value:120,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"150 days",value:150,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"180 days",value:180,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"Never",value:"Never",apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"}]},D=function(e){return[{name:"14 days",value:14,apiKey:e?"immutable_culling_delta":"conventional_culling_delta",title:"System culling",modalMessage:"This is the time at which your system will be deleted from your inventory. Once your system is culled, it will have to be re-registered to be added back to your inventory."},{name:"21 days",value:21,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"30 days",value:30,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"60 days",value:60,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"90 days",value:90,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"120 days",value:120,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"150 days",value:150,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"180 days",value:180,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"Never",value:"Never",apiKey:e?"immutable_culling_delta":"conventional_culling_delta"}]},M=function(){var e=(0,c.Z)(j().mark((function e(t,n){var a,r,i;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<P.length)){e.next=22;break}if(r=P[a],i="Never"===t[r]?C:t[r],!("conventional_staleness_delta"===r&&i>t.conventional_stale_warning_delta)){e.next=7;break}return n(!1),e.abrupt("break",22);case 7:if(!("immutable_staleness_delta"===r&&i>t.immutable_stale_warning_delta)){e.next=10;break}return n(!1),e.abrupt("break",22);case 10:if(!("conventional_stale_warning_delta"===r&&i>t.conventional_culling_delta)){e.next=13;break}return n(!1),e.abrupt("break",22);case 13:if(!("immutable_stale_warning_delta"===r&&i>t.immutable_culling_delta)){e.next=18;break}return n(!1),e.abrupt("break",22);case 18:n(!0);case 19:a++,e.next=1;break;case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,S.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(e){var t=e.dropdownItems,n=e.currentItem,i=e.disabled,l=e.title,o=e.newFormValues,s=e.setNewFormValues,c=e.edit,d=e.modalMessage,f=e.isFormValid,p=e.setIsFormValid,h=(0,a.useState)(!1),g=(0,u.Z)(h,2),_=g[0],b=g[1],w=(0,a.useState)(n),E=(0,u.Z)(w,2),x=E[0],O=E[1];return(0,a.useEffect)((function(){O(n),M(o,p)}),[c,n]),r().createElement(r().Fragment,null,r().createElement(v.k,{direction:{default:"column"},gap:{default:"gapNone"}},r().createElement(k.B,{className:"pf-u-mb-sm"},r().createElement(v.k,null,r().createElement(k.B,{spacer:{default:"spacerXs"}},r().createElement("p",{className:"pf-u-font-weight-bold pf-u-font-size-sm"},l)),r().createElement(k.B,null,r().createElement(y.J,{"aria-label":"".concat(l," popover"),headerContent:r().createElement("div",null,l),bodyContent:r().createElement("div",null,d)},r().createElement(m.zx,{className:"pf-u-ml-xs",variant:"plain",style:{padding:0}},r().createElement(N.ZP,null)))))),r().createElement(k.B,null,r().createElement(z.P,{isOpen:_,onSelect:function(e,n){var a=t.find((function(e){return e.value===n}));O(a.name),b(!1)},onToggle:function(){return b(!_)},isDisabled:i,selections:x,width:"200px",validated:!f&&"error"},t.map((function(e){return r().createElement(F.$,{key:e.name,value:e.value,onClick:function(){return function(e){s(B(B({},o),{},(0,S.Z)({},e.apiKey,e.value)))}(e)}},e.name)}))),function(e,t){var n=t[0].apiKey,a="Never"===e[n]?C:e[n];return"conventional_staleness_delta"===n?a>e.conventional_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before stale warning"):a>e.conventional_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before culling"):r().createElement("p",{className:"pf-u-font-size-sm "},"Maximum days 7"):"conventional_stale_warning_delta"===n?a>e.conventional_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Stale warning must be before culling"):a<e.conventional_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Stale warning must be after staleness"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum days 180"):"conventional_culling_delta"===n?a<e.conventional_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Culling must be after staleness"):a<e.conventional_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Culling must be after stale warning"):r().createElement("div",{className:"pf-u-mb-md"}):"immutable_staleness_delta"===n?a>e.immutable_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before stale warning"):a>e.immutable_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before culling"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum days 7"):"immutable_stale_warning_delta"===n?a>e.immutable_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100 ",style:{width:"200px"}},"Stale warning must be before culling"):a<e.immutable_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Stale warning must be after staleness"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum days 180"):"immutable_culling_delta"===n?a<e.immutable_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Culling must be after staleness"):a<e.immutable_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Culling must be after stale warning"):r().createElement("div",{className:"pf-u-mb-md"}):void 0}(o,t))))};A.propTypes={dropdownItems:L().array,disabled:L().bool,onSelect:L().bool,placeholder:L().string,title:L().string,currentItem:L().number,filter:L().object,newFormValues:L().any,setNewFormValues:L().any,edit:L().bool,modalMessage:L().string,isFormValid:L().any,setIsFormValid:L().any};const H=A;var R=function(e){var t=e.isEditing,n=e.filter,a=e.setFilter,i=e.activeTabKey,l=e.newFormValues,o=e.setNewFormValues,s=e.isFormValid,c=e.setIsFormValid,u=e.defaultValues;return r().createElement(r().Fragment,null,r().createElement(d.Z,{isPlain:!0,className:"pf-u-mb-lg"},r().createElement(v.k,{justifyContent:{default:"justifyContentSpaceBetween"},alignItems:{default:"alignItemsCenter"}},function(e){return[T(e),Z(e),D(e)]}(i).map((function(e){return r().createElement(k.B,{key:e[0].title},r().createElement(H,{"data-ouia-component-id":e[0].title,dropdownItems:e,currentItem:l[e[0].apiKey],disabled:!t,title:e[0].title,filter:n,setFilter:a,newFormValues:l,setNewFormValues:o,isEditing:t,modalMessage:e[0].modalMessage,isFormValid:s,setIsFormValid:c}))})),t?r().createElement(v.k,null,r().createElement(k.B,{style:{width:"200px"}},r().createElement("a",{onClick:function(){o(u)}},"Reset to default setting"),r().createElement(V,null))):r().createElement("div",{style:{width:"200px"}}))))};R.propTypes={filter:L().object,newFormValues:L().any,setNewFormValues:L().any,setFilter:L().any,activeTabKey:L().number,isEditing:L().bool,isFormValid:L().any,setIsFormValid:L().any,defaultValues:L().object};const Y=R;var J=n(34655),q=n(83215),$=n(60261);function W(){W=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,l=Object.create(i.prototype),o=new S(r||[]);return a(l,"_invoke",{value:E(e,n,o)}),l}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function f(){}function p(){}function v(){}var h={};c(h,i,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(O([])));g&&g!==t&&n.call(g,i)&&(h=g);var _=v.prototype=f.prototype=Object.create(h);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,i,l,o){var c=m(e[a],e,i);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==(0,s.Z)(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,l,o)}),(function(e){r("throw",e,l,o)})):t.resolve(d).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var o=x(l,n);if(o){if(o===d)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=m(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var r=m(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function O(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=v,a(_,"constructor",{value:v,configurable:!0}),a(v,"constructor",{value:p,configurable:!0}),p.displayName=c(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,c(e,o,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var l=new w(u(t,n,a,r),i);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},b(_),c(_,o,"Generator"),c(_,i,(function(){return this})),c(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;k(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}var U=function(e){var t=e.canModifyHostStaleness,n=(0,a.useState)({}),i=(0,u.Z)(n,2),l=i[0],o=i[1],s=(0,a.useState)({}),k=(0,u.Z)(s,2),S=k[0],O=k[1],L=(0,a.useState)(l),z=(0,u.Z)(L,2),F=z[0],j=z[1],V=(0,a.useState)(!1),T=(0,u.Z)(V,2),Z=T[0],D=T[1],M=(0,a.useState)(0),G=(0,u.Z)(M,2),B=G[0],A=G[1],H=(0,a.useState)(!1),R=(0,u.Z)(H,2),U=R[0],X=R[1],Q=(0,a.useState)(!0),ee=(0,u.Z)(Q,2),te=ee[0],ne=ee[1],ae=(0,a.useState)(!0),re=(0,u.Z)(ae,2),ie=re[0],le=re[1],oe=(0,$.useDispatch)(),se=function(){X(!U)},ce=function(){var e=(0,c.Z)(W().mark((function e(){var t;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},P.forEach((function(e){return"id"!==e&&(t[e]="Never"===(n=F[e])?C:86400*n);var n})),"system_default"===l.id?(0,J.postStalenessData)(t).then((function(){oe((0,q.wN)({id:"settings-saved",variant:"success",title:"Organization level settings saved",description:"Organization level settings saved",dismissable:!0})),(0,J.fetchStalenessData)(),D(!Z),X(!1)})).catch((function(){oe((0,q.wN)({id:"settings-saved-failed",variant:"danger",title:"Error saving organization level settings",description:"Error saving organization level settings",dismissable:!0}))})):(0,J.patchStalenessData)(t).then((function(){oe((0,q.wN)({id:"settings-saved",variant:"success",title:"Organization level settings saved",dismissable:!0})),(0,J.fetchStalenessData)(),D(!Z),X(!1)})).catch((function(){oe((0,q.wN)({id:"settings-saved-failed",variant:"danger",title:"Error saving organization level settings",dismissable:!0}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=(0,c.Z)(W().mark((function e(){var t,n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,J.fetchStalenessData)();case 2:t=e.sent,n={},P.forEach((function(e){return n[e]=K(t[e])})),n.id=t.id,o(n),j(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=(0,c.Z)(W().mark((function e(){var t,n;return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,J.fetchDefaultStalenessValues)().catch((function(e){return e}));case 2:t=e.sent,n={},P.forEach((function(e){return n[e]=K(t[e])})),O(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=(0,c.Z)(W().mark((function e(){return W().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue(),me(),le(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){de()}),[]),r().createElement(r().Fragment,null,ie?r().createElement(g.$,null):r().createElement(d.Z,{id:"HostStalenessCard"},r().createElement(p.O,null,r().createElement(E.D,{headingLevel:"h4",size:"xl",id:"HostTitle"},"Organization level system staleness and culling"),r().createElement(I,null)),r().createElement(f.e,null,r().createElement("p",null,"Keep or customize your organization's default settings using the options below."),r().createElement(v.k,{className:"pf-u-mt-md"},r().createElement(E.D,{headingLevel:"h6"},"System configuration"),t?r().createElement(m.zx,{variant:"link",role:"button",onClick:function(){D(!Z)}},"Edit"):r().createElement(x.u,{content:"You do not have the Inventory staleness and culling viewer role required to perform this action. Contact your org admin for access."},r().createElement(m.zx,{variant:"link",style:{"padding-left":"0px"},isDisabled:!t},"Edit"))),r().createElement(w.m,{id:"HostTabs",className:"pf-m-light pf-c-table pf-u-mb-lg pf-u-mt-lg",activeKey:B,onSelect:function(e,t){A(t)}},r().createElement(_.O,{eventKey:0,title:r().createElement(b.T,null,"Conventional (RPM-DNF)"," ",r().createElement(y.J,{"aria-label":"Basic popover",headerContent:r().createElement("div",null,"Conventional systems (RPM-DNF)"),bodyContent:r().createElement("div",null,"With RPM-DNF, you can manage the system software by using the DNF package manager and updated RPM packages. This is a simple and adaptive method of managing and modifying the system over its lifecycle.")},r().createElement(N.ZP,{className:"pf-u-ml-md"})))},r().createElement(Y,{isEditing:Z,filter:l,setFilter:o,activeTabKey:0,newFormValues:F,setNewFormValues:j,isFormValid:te,setIsFormValid:ne,defaultValues:S})),r().createElement(_.O,{eventKey:1,title:r().createElement(b.T,null,"Immutable (OSTree)"," ",r().createElement(y.J,{"aria-label":"Basic popover",headerContent:r().createElement("div",null,"Immutable (OSTree)"),bodyContent:r().createElement("div",null,"With OSTree, you can manage the system software by referencing a central image repository. OSTree images contain a complete operating system ready to be remotely installed at scale.  You can track updates to images through commits and enable secure updates that only address changes and keep the operating system unchanged. The updates are quick, and the rollbacks are easy.")},r().createElement(N.ZP,{className:"pf-u-ml-md"})))},r().createElement(Y,{isEditing:Z,filter:l,setFilter:o,activeTabKey:1,newFormValues:F,setNewFormValues:j,isFormValid:te,setIsFormValid:ne,defaultValues:S}))),Z&&r().createElement(v.k,{justifyContent:{default:"justifyContentFlexStart"}},r().createElement(m.zx,{className:"pf-u-mt-md",size:"sm",onClick:function(){return se()},isDisabled:!te},"Save"),r().createElement(m.zx,{className:"pf-u-mt-md",size:"sm",variant:"link",onClick:function(){return j(l),void D(!Z)}},"Cancel"),r().createElement(h.u,{variant:"small",titleIconVariant:"warning",title:"Update organization level setting",isOpen:U,onClose:se,actions:[r().createElement(m.zx,{key:"confirm",variant:"primary",onClick:ce},"Update"),r().createElement(m.zx,{key:"cancel",variant:"link",onClick:se},"Cancel")],ouiaId:"BasicModal"},"Changing the organization level setting for system staleness and\n              culling may impact your systems. Some systems will be culled as a\n              result."))," ")))};U.propTypes={canModifyHostStaleness:L().bool.isRequired};const X=U;var Q=n(95249),ee=["inventory:staleness:write"];const te=function(){var e=(0,Q.c$)(ee).hasAccess;return r().createElement("section",null,r().createElement(X,{canModifyHostStaleness:e}))};var ne=n(16488),ae=n(32045),re=n(9947),ie=n(75106),le=n(38424),oe=n(15265),se=n(99332);const ce=function(){return r().createElement(re.u,null,r().createElement(le.k,{icon:se.ZP}),r().createElement(E.D,{headingLevel:"h5",size:"lg"},"Access permissions needed"),r().createElement(ie.B,{className:"pf-u-mb-xl"},"You do not have the necessary Inventory staleness and culling viewer role required to view this page."),r().createElement(m.zx,{variant:"link",component:"a"},r().createElement("p",null,"Learn more about managing user access"," ",r().createElement(oe.ZP,{className:"pf-u-ml-sm "}))))};var ue=["inventory:staleness:read",n(58061).kJ];const me=function(){var e=(0,i.Z)(),t=(0,Q.c$)(ue,null,!1).hasAccess;return(0,a.useEffect)((function(){var t;null==e||null===(t=e.updateDocumentTitle)||void 0===t||t.call(e,"Staleness and Culling - System Configuration - Inventory | Red Hat Insights")}),[e]),r().createElement(r().Fragment,null,r().createElement(l.Z,null,r().createElement(o.Z,{title:"Staleness and Culling"})),t?r().createElement(ne.T,null,r().createElement(ae.NP,{variant:"default"},r().createElement(te,null))):r().createElement(ne.T,null,r().createElement(ae.NP,{variant:"default"},r().createElement(ce,null))))}},80598:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},28992:()=>{},80897:()=>{},30187:()=>{},78752:()=>{},98379:()=>{},92084:()=>{},36974:()=>{},56024:()=>{},43390:()=>{},38299:()=>{}}]);
//# sourceMappingURL=../sourcemaps/8915.e8b3d8f2fb02b83a5c2ce746d8f2349a.js.map