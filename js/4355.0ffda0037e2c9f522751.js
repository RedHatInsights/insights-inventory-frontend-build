(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[4355],{62410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var a=n(85893),r=n(92950),l=n.n(r),o=n(48542),i=function(){return i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},i.apply(this,arguments)},c=36e5,u=24*c,d=30*u,s=365*u,p=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},m=[{rightBound:1/0,description:function(e){return p(Math.round(e/s),"year")}},{rightBound:s,description:function(e){return p(Math.round(e/d),"month")}},{rightBound:d,description:function(e){return p(Math.round(e/u),"day")}},{rightBound:u,description:function(e){return p(Math.round(e/c),"hour")}},{rightBound:c,description:function(e){return p(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],f=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},v=function(e){return{exact:function(e){return f(e)+" UTC"},onlyDate:function(e){return f(e).slice(0,-6)},relative:function(e){return m.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),f(e))},invalid:function(){return"Invalid date"}}[e]},g=function(e,t,n){return{exact:function(t){return v(e)(t)},onlyDate:function(t){return v(e)(t)},relative:function(r){return function(e,t,n,r){return void 0===r&&(r=""),(0,a.jsx)(o.Tooltip,i({},n,{content:(0,a.jsxs)("div",{children:[r,e]})},{children:t}))}(v("exact")(r),(0,a.jsx)("span",{children:v(e)(r)}),t,n)},invalid:function(){return"Invalid date"}}[e]};const h=function(e){var t=e.date,n=e.type,r=void 0===n?"relative":n,o=e.extraTitle,i=e.tooltipProps,c=t instanceof Date?t:new Date(t),u=null==t||"Invalid Date"===c.toString()?"invalid":r;return(0,a.jsx)(l().Fragment,{children:g(u,i,o)(c)})}},81139:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DataCollectorsCard:()=>h,default:()=>E});var a=n(93433),r=n(29439),l=n(92950),o=n.n(l),i=n(45697),c=n.n(i),u=n(50533),d=n(76422),s=n(62410),p=n(62965),m=n(28191),f=n(92298),v=n(67782),g=function(e){var t=e.detailLoaded,n=e.collectors,i=e.entity,c=e.dataMapper,u=(0,l.useState)([]),g=(0,r.Z)(u,2),h=g[0],E=g[1],T=(0,l.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return E((function(n){var r=n.filter((function(t){return t!==e.name}));return t?[].concat((0,a.Z)(r),[e.name]):r}))}),[]),y=function(e){return h.includes(e.name)},b=null!=n?n:(0,v.f_)(i);return o().createElement(d.Z,{title:"Data collectors",isLoading:!t},o().createElement(p.TableComposable,{"aria-label":"Data collectors",variant:p.TableVariant.compact,borders:!1},o().createElement(p.Thead,null,o().createElement(p.Tr,{className:"ins-c__no-border"},o().createElement(p.Th,null),o().createElement(p.Th,null,"Name"),o().createElement(p.Th,null,"Status"),o().createElement(p.Th,null,"Last upload"))),c?c(b,y,T):b.map((function(e,t){var n;return o().createElement(p.Tbody,{key:e.name,isExpanded:y(e)},o().createElement(p.Tr,null,e.details.name?o().createElement(p.Td,{expand:e.details?{rowIndex:t,isExpanded:y(e),onToggle:function(){return T(e,!y(e))}}:void 0,style:{paddingLeft:0}}):o().createElement(p.Td,null),o().createElement(p.Td,{dataLabel:"Name"},e.name),o().createElement(p.Td,{dataLabel:"Status"},e.status),o().createElement(p.Td,{dataLabel:"Last upload"},e.updated?o().createElement(s.Z,{date:e.updated,type:"exact"}):"N/A")),e.details&&e.details.name&&o().createElement(p.Tr,{isExpanded:y(e)},o().createElement(p.Td,null),o().createElement(p.Td,{colSpan:3},o().createElement(p.ExpandableRowContent,null,o().createElement(m.k,null,o().createElement(f.B,{className:"ins-c__flex-row-margin"},"".concat(e.details.name,":")),o().createElement(f.B,{grow:{default:"grow"}},null!==(n=e.details.id)&&void 0!==n?n:"N/A"))))))}))))};g.propTypes={detailLoaded:c().bool,collectors:c().array,dataMapper:c().func,entity:c().shape({per_reporter_staleness:c().object})},g.defaultProps={detailLoaded:!1};var h=(0,u.connect)((function(e){var t=e.entityDetails.entity,n=e.systemProfileStore.systemProfile;return{entity:t,systemProfile:n,detailLoaded:null==n?void 0:n.loaded,defaultCollectors:(0,v.f_)(t)}}))(g);h.propTypes=g.propTypes,h.defaultProps=g.defaultProps;const E=h},40515:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Clickable:()=>g,default:()=>E});var a=n(92950),r=n.n(a),l=n(45697),o=n.n(l),i=n(49739),c=n(83826),u=n(68774),d=n(68340),s=n(25834),p=n(78140),m=n(35664),f=n(75662),v=function(e,t,n){return(e||0===e)&&t?1===e?"1 ".concat(t):"".concat(e," ").concat(n||"".concat(t,"s")):0===e?"None":e||"Not available"},g=function(e){var t=e.value,n=e.target,l=e.plural,o=e.singular,i=e.onClick,c=(0,f.useHistory)(),u=(0,f.useLocation)().pathname,d=u.split("/").pop();return(0,a.useEffect)((function(){n===d&&i({value:t,target:n})}),[d,n]),r().createElement("a",{onClick:function(e){e.preventDefault(),c.push("".concat(u,"/").concat(n))},href:"".concat(window.location.origin).concat(window.location.pathname,"/").concat(n)},v(t,o,l))};g.propTypes={value:o().node,target:o().string,onClick:o().func,plural:o().string,singular:o().string};var h=function(e){var t=e.title,n=e.isLoading,l=e.items,o=e.children;return r().createElement(i.K,{hasGutter:!0},r().createElement(c.v,null,r().createElement(u.D,null,r().createElement(d.x,{component:d.q.h1},t))),r().createElement(c.v,{isFilled:!0},l.length?r().createElement(u.D,null,r().createElement(s.G,{component:s.F.dl},l.map((function(e,t){var l=e.onClick,o=e.value,i=e.target,c=e.plural,u=e.singular,d=e.size,s=e.title;return r().createElement(a.Fragment,{key:t},r().createElement(p.T,{component:p.v.dt},s),r().createElement(p.T,{component:p.v.dd},n&&r().createElement(m.Z,{size:d||m.i.sm}),!n&&(l&&o?r().createElement(g,{onClick:l,value:o,target:i,plural:c,singular:u}):v(o,u,c))))})))):null,o))};h.propTypes={title:o().node.isRequired,isLoading:o().bool,items:o().arrayOf(o().shape({title:o().node,value:o().node,onClick:o().func,size:o().oneOf(Object.values(m.i)),plural:o().string,singular:o().string})),children:o().node},h.defaultProps={isLoading:!0,items:[]};const E=h},76422:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a.default});var a=n(40515)},10108:()=>{},38299:()=>{}}]);
//# sourceMappingURL=../sourcemaps/4355.dce38b108c170e99bbbcdc571068b1b5.js.map