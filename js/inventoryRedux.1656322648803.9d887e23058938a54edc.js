(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[7589,5849,1931],{39903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var a=n(92950),i=n.n(a),l=n(45697),o=n.n(l),r=n(66435),s=n(80236),c=n(79851),u=n(34512),d=n(49739),f=n(83826),g=n(48140),y=n(86050),p=n(47173),v=n(19694),m=function(e){var t,n=e.handleModalToggle,a=e.isModalOpen,l=e.currentSytems,o=e.onConfirm,m="system";return Array.isArray(l)?(t=1===l.length?l[0].display_name:"".concat(l.length," systems"),m=1===l.length?m:"systems"):t=l.display_name,i().createElement(s.u,{variant:"small",title:"Remove from inventory",className:"ins-c-inventory__table--remove",ouiaId:"inventory-delete-modal",isOpen:a,onClose:function(){return n(!1)},appendTo:document.getElementsByClassName("inventory")[0]||document.body},i().createElement(c.P,{hasGutter:!0},i().createElement(u.J,null,i().createElement(v.ZP,{size:"xl",className:"ins-m-alert"})),i().createElement(u.J,{isFilled:!0},i().createElement(d.K,{hasGutter:!0},i().createElement(f.v,null,t," will be removed from all ",location.host," applications and services. You need to re-register the ",m," to add it back to your inventory."),i().createElement(f.v,null,"To disable the daily upload for this ",m,", use the following command:"),i().createElement(f.v,null,i().createElement(r.M5,null,"insights-client --unregister"))))),i().createElement(g.a,{hasGutter:!0},i().createElement(y.Z,null,i().createElement(p.zx,{variant:"danger",ouiaId:"confirm-inventory-delete",onClick:o},"Remove"),i().createElement(p.zx,{variant:"link",ouiaId:"cancel-inventory-delete",onClick:function(){return n(!1)}},"Cancel"))))},T=o().shape({id:o().string,displayName:o().string});m.propTypes={isModalOpen:o().bool,currentSytems:o().oneOfType([T,o().arrayOf(T)]),handleModalToggle:o().func,onConfirm:o().func},m.defaultProps={isModalOpen:!1,currentSytems:{},handleModalToggle:function(){},onConfirm:function(){}};const E=m},68595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(92950),i=n.n(a),l=n(45697),o=n.n(l),r=n(32384),s=n(19281),c=n(94778),u=function(e){var t=e.count,n=e.loadTags,a=e.systemId;return i().createElement("span",{onClick:function(e){return e.stopPropagation()},className:"ins-c-inventory__list-tags","data-ouia-component-id":"".concat(a,"-tag-button")},i().createElement(s.Z,{count:t,onTagClick:function(){return n(a,t)}}))};u.propTypes={count:o().number,loadTags:o().func,systemId:o().string};const d=(0,r.connect)((function(){return{}}),(function(e){return{loadTags:function(t,n){t&&(e((0,c.Ar)(!0)),e((0,c.me)(t,void 0,void 0,n)))}}}))(u)},454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(87462),i=n(45987),l=n(92950),o=n.n(l),r=n(45697),s=n.n(r),c=n(43707),u=n(2372),d=["cmp","hideLoader","isRbacEnabled","inventoryRef","store"],f=function(e){var t=e.cmp,n=e.hideLoader,l=e.isRbacEnabled,r=e.inventoryRef,s=e.store,f=(0,i.Z)(e,d),g=(0,c.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0),y=g.hasAccess;return g.isLoading&&!n?o().createElement(u.$,null):o().createElement(t,(0,a.Z)({},f,r&&{ref:r},{hasAccess:!l||y,store:s}))};f.propTypes={cmp:s().any,inventoryRef:s().any,store:s().object,customRender:s().bool,isRbacEnabled:s().bool,hideLoader:s().bool};const g=f},73880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteModal:()=>A.Z,InventoryContext:()=>O.FW,OS_CHIP:()=>O.vi,REGISTERED_CHIP:()=>O.p9,RenderWrapper:()=>_.Z,STALE_CHIP:()=>O.yc,TAG_CHIP:()=>O.m5,TEXTUAL_CHIP:()=>O.UC,TEXT_FILTER:()=>O.ud,TagWithDialog:()=>a.Z,TagsModal:()=>I,arrayToSelection:()=>O.Nu,defaultFilters:()=>O.js,filterToGroup:()=>O.Tk,generateFilter:()=>O.h3,isEmpty:()=>O.xb,loadSystems:()=>O.K$,operatingSystems:()=>O.wQ,reduceFilters:()=>O.YQ,registered:()=>O.Gw,reloadWrapper:()=>O.KS,staleness:()=>O.jv});var a=n(68595),i=n(87462),l=n(4942),o=n(93433),r=n(29439),s=n(92950),c=n.n(s),u=n(32384),d=n(45697),f=n.n(d),g=n(94778),y=n(98944),p=n(57971),v=n(23279),m=n.n(v),T=n(85564),E=n.n(T);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=function(e){var t=e.customFilters,n=e.filterTagsBy,a=e.onToggleModal,l=e.onApply,d=e.getTags,f=(0,u.useDispatch)(),v=(0,s.useState)(""),T=(0,r.Z)(v,2),S=T[0],b=T[1],I=(0,s.useState)([]),_=(0,r.Z)(I,2),A=_[0],O=_[1],P=(0,s.useState)({perPage:10,page:1}),C=(0,r.Z)(P,2),D=C[0],L=C[1],N=(0,u.useSelector)((function(e){var t,n=e.entities,a=e.entityDetails;return null===(t=n||a)||void 0===t?void 0:t.showTagDialog})),R=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return null!=t&&t.activeSystemTag||null!=n&&n.entity?D:(null==t?void 0:t.allTagsPagination)||D}),u.shallowEqual),w=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.tagModalLoaded)||(null==n?void 0:n.tagModalLoaded)})),Z=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.activeSystemTag)||(null==n?void 0:n.entity)})),F=(0,u.useSelector)((function(e){var t,n,a,i=e.entities,l=e.entityDetails,r=(null==i||null===(t=i.activeSystemTag)||void 0===t?void 0:t.tags)||(null==l||null===(n=l.entity)||void 0===n?void 0:n.tags);return r?null==r?void 0:r.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(S)}))})).slice((null==D?void 0:D.perPage)*((null==D?void 0:D.page)-1),(null==D?void 0:D.perPage)*(null==D?void 0:D.page)):null==i||null===(a=i.allTags)||void 0===a?void 0:a.reduce((function(e,t){var n=t.tags;return[].concat((0,o.Z)(e),(0,o.Z)(E()(n.map((function(e){return e.tag})))))}),[])})),j=(0,u.useSelector)((function(e){var t,n=e.entities,a=e.entityDetails;return null===(t=n||a)||void 0===t?void 0:t.activeFilters})),M=(0,u.useSelector)((function(e){var t,n,a,i=e.entities,l=e.entityDetails,o=null===(t=(null==i||null===(n=i.activeSystemTag)||void 0===n?void 0:n.tags)||(null==l||null===(a=l.entity)||void 0===a?void 0:a.tags))||void 0===t?void 0:t.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(S)}))}));return o?o.length:null==i?void 0:i.allTagsTotal}));(0,s.useEffect)((function(){b(n)}),[n]);var k=function(e,n){Z?L((function(){return e})):f((0,g.C8)(n,h(h({},t),{},{pagination:e,filters:j}),d))},G=(0,s.useCallback)(m()(k,800),[Z]);return c().createElement(y.Z,(0,i.Z)({className:"ins-c-inventory__tags-modal",tableProps:{canSelectAll:!1}},w&&{loaded:w,pagination:h(h({},R),{},{count:M}),rows:(null==F?void 0:F.map((function(e){var t=e.key,n=e.value,a=e.namespace;return{id:"".concat(a,"/").concat(t,"=").concat(n),selected:A.find((function(e){return e.id==="".concat(a,"/").concat(t,"=").concat(n)})),cells:[t,n,a]}})))||[]},{loaded:w,width:"auto",isOpen:N,toggleModal:function(){O([]),b(""),a(),f((0,g.Ar)(!1))},filters:[{label:"Tags filter",placeholder:"Filter tags",value:"tags-filter",filterValues:{value:S,onChange:function(e,t){G(R,t),b(t)}}}],onUpdateData:function(e){return k(e,S)},columns:[{title:"Name"},{title:"Value",transforms:[(0,p.cellWidth)(30)]},{title:"Tag source",transforms:[(0,p.cellWidth)(30)]}]},!Z&&{onSelect:function(e){return O(e)},selected:A,onApply:function(){return l&&l(A)}},{bulkSelect:{id:"bulk-select-tags"},title:Z?"".concat(Z.display_name," (").concat(M,")"):"All tags in inventory (".concat(M,")")}))};b.propTypes={onApply:f().func,onToggleModal:f().func,filterTagsBy:f().string,customFilters:f().shape({tags:f().oneOfType([f().object,f().arrayOf(f().string)])}),getTags:f().func},b.defaultProps={filterTagsBy:"",onToggleModal:function(){}};const I=b;var _=n(454),A=n(39903),O=n(13784)},95045:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextInputModal:()=>d.Z,default:()=>v});var a=n(29439),i=n(45987),l=n(92950),o=n.n(l),r=n(32384),s=n(45697),c=n.n(s),u=n(24070),d=n(95364),f=n(47468),g=n(57785),y=["getRegistry"],p=function(e){var t=e.getRegistry,n=(0,i.Z)(e,y),s=(0,l.useState)(),c=(0,a.Z)(s,2),d=c[0],p=c[1];return(0,l.useEffect)((function(){var e,n;t&&(null===(e=t())||void 0===e||null===(n=e.register)||void 0===n||n.call(e,{systemProfileStore:g.ZP})),p((function(){return t?r.Provider:l.Fragment}))}),[]),d?o().createElement(d,t&&{store:t().getStore()},o().createElement(u.Z,n)):f.Z};p.propTypes={getRegistry:c().func};const v=p},94778:(e,t,n)=>{"use strict";n.d(t,{gb:()=>l.gb,Oj:()=>l.Oj,k0:()=>l.k0,Fo:()=>l.Fo,K5:()=>o.K5,u3:()=>o.u3,Xe:()=>o.Xe,nE:()=>o.nE,C8:()=>o.C8,CP:()=>o.CP,fg:()=>o.fg,il:()=>o.il,A_:()=>o.A_,me:()=>o.me,CL:()=>o.CL,HD:()=>o.HD,wb:()=>o.wb,Ar:()=>o.Ar,jB:()=>o.jB,Ks:()=>r,Tv:()=>s,L1:()=>c,$Y:()=>u,Jr:()=>d,eR:()=>f,Uw:()=>g});var a=n(59086),i=n(63599),l=n(87637),o=n(8622),r=function(e,t){return{type:a.aI.REMOVE_ENTITY,payload:i.hosts.apiHostDeleteById(e),meta:{notifications:{fulfilled:{variant:"success",title:"Delete operation finished",description:"".concat(t," has been successfully removed."),dismissable:!0}},systems:e}}},s=function(e){return{type:a.uW,payload:{filtersList:e}}},c=function(){return{type:a.wt}},u=function(e,t){return{type:a.aI.UPDATE_DISPLAY_NAME,payload:i.hosts.apiHostPatchById([e],{display_name:t}),meta:{id:e,value:t,notifications:{fulfilled:{variant:"success",title:"Display name for entity with ID ".concat(e," has been changed to ").concat(t),dismissable:!0}}}}},d=function(e,t){return{type:a.fT,payload:{page:e,perPage:t}}},f=function(e){return{type:a.aI.LOAD_SYSTEM_PROFILE,payload:(0,i.getEntitySystemProfile)(e,{})}},g=function(e,t){return{type:a.aI.SET_ANSIBLE_HOST,payload:i.hosts.apiHostPatchById([e],{ansible_host:t}),meta:{notifications:{fulfilled:{variant:"success",title:"Ansible hostname has been updated",dismissable:!0}}}}}},51525:(e,t,n)=>{"use strict";n.r(t),n.d(t,{entitesDetailReducer:()=>a.CB,entitiesReducer:()=>a.zw,entityDetailsReducer:()=>a.gA,mergeWithDetail:()=>a.OL,mergeWithEntities:()=>a.AF,tableReducer:()=>a.M,clearFilters:()=>i.K5,clearNotifications:()=>i.L1,configChanged:()=>i.u3,deleteEntity:()=>i.Ks,detailSelect:()=>i.Xe,editAnsibleHost:()=>i.Uw,editDisplayName:()=>i.$Y,entitiesLoading:()=>i.nE,fetchAllTags:()=>i.C8,filterEntities:()=>i.CP,filterSelect:()=>i.fg,getAdvisorData:()=>i.gb,getComplianceData:()=>i.Oj,getPatchData:()=>i.k0,getVulnData:()=>i.Fo,loadEntities:()=>i.il,loadEntity:()=>i.A_,loadTags:()=>i.me,selectEntity:()=>i.CL,setFilter:()=>i.Tv,setPagination:()=>i.Jr,setSort:()=>i.HD,systemProfile:()=>i.eR,toggleDrawer:()=>i.wb,toggleTagModal:()=>i.Ar,updateEntities:()=>i.jB,ACTION_TYPES:()=>l.aI,APPLICATION_SELECTED:()=>l.TP,CHANGE_SORT:()=>l.WH,CLEAR_FILTERS:()=>l.Gs,CLEAR_NOTIFICATIONS:()=>l.wt,CONFIG_CHANGED:()=>l.Uq,ENTITIES_LOADING:()=>l.jZ,FILTER_ENTITIES:()=>l.lP,FILTER_SELECT:()=>l.hI,INVENTORY_ACTION_TYPES:()=>l.AL,SELECT_ENTITY:()=>l.pr,SET_ANSIBLE_HOST:()=>l.Bh,SET_DISPLAY_NAME:()=>l.Ti,SET_INVENTORY_FILTER:()=>l.uW,SET_PAGINATION:()=>l.fT,SHOW_ENTITIES:()=>l.u4,SYSTEM_ISSUE_TYPES:()=>l.dF,TOGGLE_DRAWER:()=>l.Ji,TOGGLE_TAG_MODAL:()=>l.Qd,UPDATE_ENTITIES:()=>l.s$,asyncActions:()=>l.zW,asyncInventory:()=>l.gl,systemIssues:()=>l.AN});var a=n(20),i=n(94778),l=n(59086)},45467:()=>{},70347:()=>{},34946:()=>{},37625:()=>{},90479:()=>{},25238:()=>{},49854:()=>{},74181:()=>{},16166:()=>{},53519:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/inventoryRedux.f414952d3339a387aae689d086e2c293.js.map