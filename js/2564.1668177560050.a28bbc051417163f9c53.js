(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[2564],{98436:(e,t,n)=>{"use strict";n.d(t,{CR:()=>h,DJ:()=>w,cC:()=>y,gk:()=>T,n4:()=>b,pW:()=>E,vb:()=>O});var r=n(45987),a=n(29439),o=n(4942),i=n(36968),l=n.n(i),s=n(57557),c=n.n(s),u=n(66604),p=n.n(u),d=n(81249),f=n(13784),m=["label"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){return l()(e,[t,t],Object.values(v({},e[t])).filter((function(e){return e!==t})).every(Boolean))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(void 0===t?e:t).reduce((function(t,n){var r=n.split("."),o=(0,a.Z)(r,1)[0];return l()(t,[o,n],e.includes(n)),y(t,o),t}),{})},b=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?(0,d.compare)((0,d.coerce)(e),(0,d.coerce)(t)):(0,d.rcompare)((0,d.coerce)(e),(0,d.coerce)(t))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).reduce((function(e,t){return Object.entries(t).forEach((function(t){var n=(0,a.Z)(t,2),r=n[0];return n[1]&&r.match(/[0-9]+.[0-9]+/)&&e.push(r)})),e}),[])},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.entries(e.reduce((function(e,t){var n=t.label,r=t.value,a=r.split(".")[0];return void 0===e[a]&&(e[a]={groupSelectable:!0,label:"RHEL "+a,value:a,type:"checkbox",items:[]}),e[a].items.push({label:n,value:r,type:"checkbox"}),e}),{}));t.sort((function(e,t){return b(e[0],t[0],!1)}));var n=t.map((function(e){return e[1].items.sort((function(e,t){return b(e.value,t.value,!1)})),e[1]}));return n},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=E(e),a=t.filter((function(e){var t=e.value;return n.includes(t)})).map((function(e){return v({name:e.label},(0,r.Z)(e,m))}));return(null==n?void 0:n.length)>0?[{category:"Operating System",type:f.vi,chips:a}]:[]},T=function(e,t,n,r){var a=Object.assign({},t),o=a[n.value][r.value],i=n.value;return r.value===i?a[i]=p()(a[i],(function(){return o})):a[i][i]=Object.values(c()(a[i],i)).every(Boolean),a}},52165:(e,t,n)=>{"use strict";n.d(t,{g:()=>sn});var r=n(87462),a=n(4942),o=n(92950),i=n.n(o),l=n(45987),s=n(75662),c=n(32384),u=n(45697),p=n.n(u),d=n(3672),f=n(9947),m=n(38424),g=n(75106),v=n(38779),y=n(47173),h=n(96733),b=n(27361),E=n.n(b),O=function(e,t){t?t():document.referrer&&document.referrer!=="".concat(document.location.origin).concat(document.location.pathname)?history.back():location.href=location.pathname.replace(new RegExp("".concat([e],".*"),"g"),"")},w=function(e,t){return E()(t,e,void 0)},T=function(e){var t=e.inventoryId,n=e.onBackToListClick;return i().createElement(f.u,{variant:f.I.full},i().createElement(m.k,{icon:h.ZP}),i().createElement(v.D,{headingLevel:"h5",size:"lg"},"System not found"),i().createElement(g.B,null,"System with ID ",t," does not exist"),i().createElement(y.zx,{variant:"primary",onClick:function(){return O(t,n)}},"Back to previous page"))};T.propTypes={inventoryId:p().string,onBackToListClick:p().func};const P=T;var S=n(93433),j=n(29439),D=n(14918),Z=n(35664),F=n(56787),k=n(84457),R=n(99355),I=n(75728),L=n(28191),C=n(92298),_=n(79851),W=n(34512),B=["title"],A=function(e){var t=e.entity,n=e.loaded,a=e.actions,s=e.deleteEntity,u=e.addNotification,p=e.hideInvLink,f=e.onBackToListClick,m=e.showDelete,g=e.showInventoryDrawer,h=e.TitleWrapper,b=e.TagsWrapper,E=e.DeleteWrapper,w=e.ActionsWrapper,T=e.showTags,P=(0,c.useDispatch)(),A=(0,o.useState)(!1),N=(0,j.Z)(A,2),x=N[0],M=N[1],z=(0,o.useState)(!1),H=(0,j.Z)(z,2),U=H[0],G=H[1],V=[].concat((0,S.Z)(p?[]:[{title:"View system in Inventory",component:"a",href:"./insights/inventory/".concat(null==t?void 0:t.id)}]),(0,S.Z)(a||[]));return i().createElement(_.P,{className:"ins-c-inventory__detail--header"},i().createElement(W.J,{isFilled:!0},n?i().createElement(L.k,null,i().createElement(C.B,null,i().createElement(h,null,i().createElement(v.D,{headingLevel:"h1",size:"2xl"},t&&t.display_name))),T&&i().createElement(C.B,null,i().createElement(b,null,i().createElement(D.TagWithDialog,{count:t&&t.tags&&t.tags.length,systemId:t&&t.id}),i().createElement(D.TagsModal,null)))):i().createElement(Z.Z,{size:Z.i.md})),i().createElement(W.J,null,n?i().createElement(L.k,null,m&&i().createElement(C.B,null,i().createElement(E,null,i().createElement(y.zx,{onClick:function(){return G(!0)},variant:"secondary"},"Delete"))),(null==V?void 0:V.length)>0&&i().createElement(C.B,null,i().createElement(w,null,i().createElement(F.L,{onSelect:function(){return M(!1)},toggle:i().createElement(I.Z,{onToggle:function(e){return M(e)}},"Actions"),isOpen:x,position:R.ir.right,dropdownItems:V.map((function(e,t){var n=e.title,a=(0,l.Z)(e,B);return i().createElement(k.h,(0,r.Z)({key:t,component:"button",onClick:function(e){return a.onClick(e,a,a.key||t)}},a),n)}))}))),i().createElement(C.B,null,g&&i().createElement(y.zx,{onClick:function(){return P((0,d.wb)(!0))}},"Show more information"))):i().createElement(Z.Z,{size:Z.i.lg})),U&&i().createElement(D.DeleteModal,{handleModalToggle:function(){return G(!U)},isModalOpen:U,currentSytems:t,onConfirm:function(){u({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t.display_name," started."),dismissable:!1}),s([t.id],t.display_name,(function(){return O(t.id,f)})),G(!1)}}))};A.propTypes={entity:p().object,loaded:p().bool,showDelete:p().bool,hideInvLink:p().bool,showInventoryDrawer:p().bool,showTags:p().bool,actions:p().arrayOf(p().shape({key:p().string,title:p().node,onClick:p().func})),deleteEntity:p().func,addNotification:p().func,onBackToListClick:p().func,TitleWrapper:p().elementType,TagsWrapper:p().elementType,DeleteWrapper:p().elementType,ActionsWrapper:p().elementType},A.defaultProps={actions:[],loaded:!1,hideInvLink:!1,showDelete:!1,showInventoryDrawer:!1,deleteEntity:function(){},addNotification:function(){},onBackToListClick:function(){},TitleWrapper:o.Fragment,TitleWTagsWrapperrapper:o.Fragment,DeleteWrapper:o.Fragment,ActionsWrapper:o.Fragment};const N=A;var x=n(50693),M=n(16475),z=n(62410),H=n(12385),U=n(67882),G=n(96396),V=["entity","loaded","UUIDWrapper","LastSeenWrapper"],K=function(e){var t=e.entity,n=e.loaded,a=(e.UUIDWrapper,e.LastSeenWrapper),o=(0,l.Z)(e,V);return i().createElement(x.r,(0,r.Z)({className:"ins-entity-facts"},o),i().createElement(M.P,{md:6},i().createElement(L.k,null,i().createElement(C.B,null,"UUID:"),i().createElement(C.B,{grow:{default:"grow"}},n?w("id",t)||" ":i().createElement(Z.Z,{size:Z.i.md,fontSize:"sm"}))),i().createElement(L.k,null,i().createElement(C.B,null,"Last seen:"),i().createElement(C.B,{grow:{default:"grow"}},n?i().createElement(a,null,H.Z?i().createElement(H.Z,{culled:w("culled_timestamp",t),staleWarning:w("stale_warning_timestamp",t),stale:w("stale_timestamp",t),currDate:new Date},i().createElement(z.Z,{date:w("updated",t),type:"exact"})):i().createElement(z.Z,{date:w("updated",t),type:"exact"})):i().createElement(Z.Z,{size:Z.i.md,fontSize:"sm"}),n&&(0,G._e)(w("per_reporter_staleness",t))&&i().createElement(U.Z,null)))))};K.propTypes={loaded:p().bool,entity:p().object,UUIDWrapper:p().elementType,LastSeenWrapper:p().elementType},K.defaultProps={UUIDWrapper:o.Fragment,LastSeenWrapper:o.Fragment};const q=K;var J=n(83215),X=n(71002),Y=n(35262),$=n(28883),Q=["onTabSelect","appList"],ee=function(e){var t,n,a=e.onTabSelect,u=e.appList,p=(0,l.Z)(e,Q),f=(0,s.useLocation)().search,m=(0,s.useHistory)(),g=(0,c.useDispatch)(),v=new URLSearchParams(f),y=(0,c.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.activeApps)||[]})).filter((function(e){return!1!==e.isVisible})),h=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.activeApp})),b=(0,c.useSelector)((function(e){var t=e.systemProfileStore;return null==t?void 0:t.disabledApps})),E=(null==h?void 0:h.appName)||(null==u||null===(t=u.find((function(e){var t,n=e.pageId,r=e.name;return(null==y||null===(t=y[0])||void 0===t?void 0:t.name)===(n||r)})))||void 0===t?void 0:t.name)||(null==y||null===(n=y[0])||void 0===n?void 0:n.name),O=u||y,w=(0,o.useState)(O),T=(0,j.Z)(w,2),P=T[0],S=T[1];return(0,o.useEffect)((function(){var e=v.get("appName");e&&g((0,d.Xe)(e))}),[]),(0,o.useEffect)((function(){var e=O.filter((function(e){return!(null!=b&&b.includes(e.name))}));0!==e&&void 0!==(0,X.Z)(e)?S(e):S(O)}),[b]),i().createElement(i().Fragment,null,(null==O?void 0:O.length)>1&&i().createElement(Y.m,(0,r.Z)({},p,{activeKey:E,onSelect:function(e,t){var n=P.find((function(e){return e.name===t}));a?a(e,t,n):(v.set("appName",n.name),m.push({search:v.toString()})),g((0,d.Xe)(n.name))},isFilled:!0,className:"ins-c-inventory-detail__app-tabs"}),null==P?void 0:P.map((function(e,t){return i().createElement($.O,{key:t,eventKey:e.name,title:e.title})}))))};ee.propTypes={appList:p().arrayOf(p().shape({title:p().node,name:p().string.isRequired,pageId:p().string})),onTabSelect:p().func};const te=ee;var ne=n(41448),re=n(68340),ae=n(68774),oe=n(25834),ie=n(78140),le=n(32203),se=n(70),ce=n(49734),ue=n(62394),pe=n(66435);const de=function(){return i().createElement(ne.b,{variant:"info",isInline:!0,title:"Your insights-client is not reporting"},i().createElement(x.r,null,i().createElement(M.P,null,i().createElement(x.r,{hasGutter:!0},i().createElement(M.P,{span:4},i().createElement(ae.D,{style:{"--pf-c-content--LineHeight":"1","--pf-c-content--FontSize":"0.9rem"}},i().createElement(re.x,{component:re.q.p},"With Insights you can easly:"),i().createElement(oe.G,{component:"ul",style:{"--pf-c-content--ul--PaddingLeft":"0","--pf-c-content--ul--MarginLeft":"1rem"}},i().createElement(ie.T,null,"Optimize your IT Operations"),i().createElement(ie.T,null,"Manage your security and compliance"),i().createElement(ie.T,null,"Resolve operational issues quickly")))),i().createElement(M.P,{span:4},i().createElement(le.Z,{isCompact:!0},i().createElement(se.l,null,"Client setup"),i().createElement(ue.e,null,"Make sure the client is properly installed and registered"),i().createElement(ce.e,null,i().createElement(pe.M5,{isCode:!0,isReadOnly:!0,variant:"expansion"},"yum install -y insights-client \ninsights-client --register")))),i().createElement(M.P,{span:4},i().createElement(le.Z,{isCompact:!0,style:{height:"100%"}},i().createElement(se.l,null,"Configure troubleshooting"),i().createElement(ue.e,null,"Proceed with verification on the client to ensure insights-client is properly running and collecting data"),i().createElement(ce.e,null,i().createElement(y.zx,{component:"a",target:"_blank",variant:"link",href:"https://access.redhat.com/solutions/6758841",isInline:!0},"Host not reporting data to Red Hat Insights")))))),i().createElement(M.P,null,i().createElement(y.zx,{component:"a",target:"_blank",variant:"link",href:"https://console.redhat.com/security/insights",isInline:!0},"How does Red Hat keep data secure?"))))};var fe=["inventoryId"],me=function(e){var t=e.actions,n=e.showTags,r=e.hideInvLink,a=e.onTabSelect,l=e.onBackToListClick,s=e.showDelete,u=e.appList,p=e.showInventoryDrawer,f=e.UUIDWrapper,m=e.LastSeenWrapper,g=e.TitleWrapper,v=e.TagsWrapper,y=e.DeleteWrapper,h=e.ActionsWrapper,b=e.inventoryId,E=e.children,O=(0,c.useDispatch)(),w=(0,c.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.loaded)||!1})),T=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity}));return(0,o.useEffect)((function(){T&&(null==T?void 0:T.id)===b&&w||O((0,d.A_)(b,{hasItems:!0},{showTags:n}))}),[]),i().createElement("div",{className:"ins-entity-detail"},w&&!T?i().createElement(P,{onBackToListClick:l,inventoryId:b}):i().createElement(o.Fragment,null,i().createElement(N,{entity:T,loaded:w,onBackToListClick:l,actions:t,deleteEntity:function(e,t,n){var r=(0,d.Ks)(e,t);O((0,D.reloadWrapper)(r,n))},addNotification:function(e){return O((0,J.wN)(e))},hideInvLink:r,showInventoryDrawer:p,showDelete:s,showTags:n,TitleWrapper:g,TagsWrapper:v,DeleteWrapper:y,ActionsWrapper:h}),i().createElement(q,{loaded:w,entity:T,UUIDWrapper:f,LastSeenWrapper:m}),w&&(0,G._e)(null==T?void 0:T.per_reporter_staleness)&&i().createElement(de,null),E),w&&T&&i().createElement(te,{onTabSelect:a,appList:u}))};me.propTypes={hideInvLink:p().bool,hideBack:p().bool,showTags:p().bool,showDelete:p().bool,showInventoryDrawer:p().bool,actions:p().arrayOf(p().shape({title:p().node,onClick:p().func,key:p().string})),appList:p().arrayOf(p().shape({title:p().node,name:p().string,pageId:p().string})),onTabSelect:p().func,onBackToListClick:p().func,children:p().node,UUIDWrapper:p().elementType,LastSeenWrapper:p().elementType,TitleWrapper:p().elementType,TagsWrapper:p().elementType,DeleteWrapper:p().elementType,ActionsWrapper:p().elementType,inventoryId:p().string},me.defaultProps={actions:[],hideInvLink:!1,showTags:!1,UUIDWrapper:o.Fragment,LastSeenWrapper:o.Fragment,TitleWrapper:o.Fragment,TagsWrapper:o.Fragment,DeleteWrapper:o.Fragment,ActionsWrapper:o.Fragment};var ge=function(e){var t=e.inventoryId,n=(0,l.Z)(e,fe),a=(0,s.useParams)().inventoryId;return t||(console.warn("~~~~~~~~~~"),console.warn("~~~~~~~~~~"),console.warn("Missing inventoryId! Please provide one, we will remove the fallback from URL soon."),console.warn("~~~~~~~~~~"),console.warn("~~~~~~~~~~")),i().createElement(me,(0,r.Z)({inventoryId:t||a||location.pathname.replace(/\/$/,"").split("/").pop()},n))};ge.propTypes=me.propTypes;const ve=ge;var ye=function(e){var t=e.componentMapper,n=e.appList,r=(0,c.useStore)(),a=(0,s.useLocation)().search,l=new URLSearchParams(a),u=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded})),p=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),d=(0,c.useSelector)((function(e){var t,r,a,o=e.entityDetails;if(null!=o&&o.loaded)return(null===(t=n||(null==o?void 0:o.activeApps))||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(function(e){var t;return(null==e?void 0:e.name)===(l.get("appName")||(null==o||null===(t=o.activeApp)||void 0===t?void 0:t.appName))})))||(null==o||null===(a=o.activeApps)||void 0===a?void 0:a[0])})),f=t||(null==d?void 0:d.component);return!0!==u||p?i().createElement(o.Fragment,null,u?d&&i().createElement("div",{className:"ins-active-app-".concat(null==d?void 0:d.name)},f?i().createElement(f,{store:r,inventoryId:null==p?void 0:p.id,appName:null==d?void 0:d.name}):"missing component"):i().createElement(Z.Z,{size:Z.i.md})):null};ye.propTypes={componentMapper:p().element,appList:p().arrayOf(p().shape({title:p().node,name:p().string,pageId:p().string}))};const he=ye,be=function(e){return i().createElement(o.Fragment,null,i().createElement(ve,e),i().createElement(he,e))};var Ee=n(5436),Oe=n(16941),we=n(34241),Te=n(16537),Pe=n(29821),Se=n(76770),je=n(58409),De=n(28985),Ze=n(49739),Fe=n(83826),ke=n(71710),Re=n(21039),Ie=function(e){var t=e.hideInvLink,n=e.showTags,r=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.display_name})),a=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),o=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.tags}));return i().createElement(Ze.K,{hasGutter:!0},i().createElement(Fe.v,null,i().createElement(_.P,null,i().createElement(W.J,{isFilled:!0},i().createElement(v.D,{headingLevel:"h3",size:"xl"},r)),!t&&i().createElement(W.J,null,i().createElement("a",{className:"ins-c-entity-detail__inv-link",href:"./insights/inventory/".concat(a)},"Open in Inventory")))),n&&i().createElement(Fe.v,null,i().createElement(_.P,{hasGutter:!0},i().createElement(W.J,null,"Tags:"),i().createElement(W.J,null,i().createElement(Re.Z,null,0!==(null==o?void 0:o.length)?null==o?void 0:o.map((function(e,t){return i().createElement(ke.A,{key:t,isReadOnly:!0},(null==e?void 0:e.namespace)&&"".concat(null==e?void 0:e.namespace,"/"),null==e?void 0:e.key,(null==e?void 0:e.value)&&"=".concat(null==e?void 0:e.value))})):"No tags")))))};Ie.propTypes={hideInvLink:p().bool,showTags:p().bool},Ie.defaultProps={hideInvLink:!1,showTags:!1};const Le=Ie;var Ce=n(86487),_e=n(86050),We=n(52653),Be=n(80971),Ae=n(19210),Ne=function(e){var t,n,r,a,l,s,u,p,f,m,g=e.isOpened,y=(0,c.useDispatch)(),h=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),b=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.advisor})),E=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.compliance})),O=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.cve})),w=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.patch}));return(0,o.useEffect)((function(){h&&g&&(y((0,d.gb)(h)),y((0,d.Oj)(h)),y((0,d.k0)(h)),y((0,d.Fo)(h)))}),[h,g]),i().createElement(Ze.K,{hasGutter:!0,className:"ins-c-inventory__drawer-system-issues"},i().createElement(Fe.v,null,i().createElement(v.D,{headingLevel:"h4",size:"lg"},"Top system issues")),i().createElement(Fe.v,null,i().createElement(Ce.a,null,i().createElement(_e.Z,null,i().createElement(Ze.K,{hasGutter:!0},i().createElement(Fe.v,{className:"ins-c-inventory__drawer--title"},"Applicable CVEs"),i().createElement(Fe.v,null,null!=O&&O.isLoaded?i().createElement(Ce.a,{hasGutter:!0,className:"ins-c-inventory__drawer-cve"},i().createElement(_e.Z,{className:"ins-m-critical"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=7")},(null==O||null===(t=O.critical)||void 0===t?void 0:t.count)||0," critical")),i().createElement(_e.Z,{className:"ins-m-important"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=5")},(null==O||null===(n=O.important)||void 0===n?void 0:n.count)||0," important")),i().createElement(_e.Z,{className:"ins-m-moderate"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=4")},(null==O||null===(r=O.moderate)||void 0===r?void 0:r.count)||0," moderate")),i().createElement(_e.Z,{className:"ins-m-low"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=2")},(null==O||null===(a=O.low)||void 0===a?void 0:a.count)||0," low"))):i().createElement(Z.Z,{size:Z.i.md})))),i().createElement(_e.Z,null,i().createElement(Ze.K,{hasGutter:!0},i().createElement(Fe.v,{className:"ins-c-inventory__drawer--title"},"Applicable advisories"),i().createElement(Fe.v,null,null!=w&&w.isLoaded?i().createElement(Ce.a,{hasGutter:!0,className:"ins-c-inventory__drawer-patch"},i().createElement(_e.Z,null,i().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=2")},i().createElement(We.ZP,null)," ",null==w||null===(l=w.bug)||void 0===l?void 0:l.count)),i().createElement(_e.Z,{className:"ins-m-moderate"},i().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=3")},i().createElement(Ae.ZP,null)," ",null==w||null===(s=w.security)||void 0===s?void 0:s.count)),i().createElement(_e.Z,null,i().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=1")},i().createElement(Be.ZP,null)," ",null==w||null===(u=w.enhancement)||void 0===u?void 0:u.count))):i().createElement(Z.Z,{size:Z.i.md})))))),i().createElement(Fe.v,null,null!=b&&b.isLoaded?i().createElement("span",null,i().createElement("span",{className:"ins-m-critical"},(null==b||null===(p=b.criticalCount)||void 0===p?void 0:p.length)||0," critical")," recommendations in ",i().createElement("a",{href:"./insights/advisor/systems/".concat(h)},"Advisor")):i().createElement(Z.Z,{size:Z.i.md})),null!=E&&E.isLoaded?(null==E?void 0:E.profiles)&&i().createElement("span",null,"System above compliance threshold for ",i().createElement("a",{href:"./insights/compliance/reports/"},null==E||null===(f=E.profiles)||void 0===f?void 0:f.length," ",(null==E||null===(m=E.profiles)||void 0===m?void 0:m.length)>1?"policies":"policy")):i().createElement(Z.Z,{size:Z.i.md}))};Ne.propTypes={isOpened:p().bool};const xe=Ne;var Me=["children","hideInvLink","showTags","Wrapper","className","appName"],ze=function(e){var t=e.children,n=e.hideInvLink,a=e.showTags,o=e.Wrapper,s=e.className,u=e.appName,p=(0,l.Z)(e,Me),f=(0,c.useDispatch)(),m=(0,c.useStore)(),g=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),v=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.isToggleOpened})),y=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded}));return i().createElement(Ee.dy,(0,r.Z)({className:"ins-c-inventory__drawer ".concat(s||""),isExpanded:v,onExpand:function(){return f((0,d.wb)(!0))}},p),i().createElement(we.s,{panelContent:i().createElement(Oe.S,null,i().createElement(je.h,null,i().createElement(Le,{hideInvLink:n,showTags:a}),i().createElement(Se.x,null,i().createElement(De.c,{onClick:function(){return f((0,d.wb)(!1))}}))),i().createElement(Pe.F,null,i().createElement(Ze.K,{className:"ins-c-inventory__drawer--content"},i().createElement(Fe.v,null,i().createElement(xe,{isOpened:v})),i().createElement(Fe.v,{isFilled:!0,className:"ins-c-inventory__drawer--facts"},i().createElement(q,{entity:g,loaded:y}),v&&y&&o&&i().createElement(o,{store:m,appName:u})))))},i().createElement(Te.s,null,t)))};ze.propTypes={children:p().any,hideInvLink:p().bool,showTags:p().bool,appName:p().oneOf(["general_information","advisor","insights","compliance","vulnerabilities","patch"]),className:p().string,Wrapper:p().elementType},ze.defaultProps={appName:"general_information"};const He=ze;var Ue=n(454),Ge=n(68595),Ve=n(84506),Ke=n(76566),qe=n.n(Ke),Je=n(3474),Xe=n(81945),Ye=n(7887),$e=n(13784),Qe=n(23279),et=n.n(Qe),tt=n(13678),nt=n(85564),rt=n.n(nt),at=n(13718),ot=["actions","expandable","noSystemsTable"],it=["props","transforms","cellFormatters"];function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ct=function(e,t,n){return t.map((function(t){var r=t.key,a=t.composed,l=t.renderFunc,s=a?i().createElement(o.Fragment,null,(0,at.Z)(a.map((function(t){return E()(e,t," ")})),e.id,e,n)):E()(e,r," ");return l?i().createElement(o.Fragment,null,l(s,e.id,e,n)):s}))},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.actions,a=n.expandable,o=n.noSystemsTable,i=(0,l.Z)(n,ot);return 0===e.length?[{cells:[{title:o,props:{colSpan:t.length+Boolean(r),dataLabel:null}}]}]:rt()(e.map((function(e,n){return[st(st(st({},e),e.children&&a&&{isOpen:!!e.isOpen}),{},{cells:ct(e,t,i),actionProps:{"data-ouia-component-id":"".concat(e.id,"-actions-kebab")}}),e.children&&a&&{cells:[{title:"function"==typeof e.children?e.children():e.children}],parent:2*n,fullWidth:!0}]}))).filter(Boolean)},pt=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{},a=r.value;return n.filter((function(e){return e!==a}))},dt=function(e){return null==e?void 0:e.reduce((function(e,t){return e||t.toString().includes("onSort:")}),!1)},ft=n(98516),mt=n(7314),gt=["total","page","perPage","filterConfig","hasItems","children","actionsConfig","activeFiltersConfig","showTags","getTags","items","sortBy","customFilters","hasAccess","bulkSelect","hideFilters","paginationProps","onRefreshData","loaded","showTagModal"];function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht=function(e){var t,n=e.total,s=e.page,u=e.perPage,p=e.filterConfig,f=e.hasItems,m=e.children,g=e.actionsConfig,v=e.activeFiltersConfig,y=e.showTags,h=e.getTags,b=e.items,E=e.sortBy,O=e.customFilters,w=e.hasAccess,T=e.bulkSelect,P=e.hideFilters,F=e.paginationProps,k=e.onRefreshData,R=e.loaded,I=e.showTagModal,L=(0,l.Z)(e,gt),C=(0,c.useDispatch)(),_=(0,o.useReducer)((0,ft.filtersReducer)([ft.textFilterReducer,ft.stalenessFilterReducer,ft.registeredWithFilterReducer,Je.sr,ft.operatingSystemFilterReducer]),yt(yt(yt(yt({},ft.textFilterState),ft.stalenessFilterState),ft.registeredWithFilterState),Je.Yn)),W=(0,c.useSelector)((function(e){return e.entities.activeFilters})),B=(0,c.useSelector)((function(e){return e.entities.allTagsLoaded})),A=(0,c.useSelector)((function(e){return e.entities.allTags})),N=(0,c.useSelector)((function(e){return e.entities.additionalTagsCount})),x=(0,ft.useTextFilter)(_),M=(0,j.Z)(x,4),z=M[0],H=M[1],U=M[2],G=M[3],V=(0,ft.useStalenessFilter)(_),K=(0,j.Z)(V,4),q=K[0],J=K[1],X=K[2],Y=K[3],$=(0,ft.useRegisteredWithFilter)(_),Q=(0,j.Z)($,4),ee=Q[0],te=Q[1],ne=Q[2],re=Q[3],ae=(0,mt.ZP)(),oe=(0,j.Z)(ae,4),ie=oe[0],le=oe[1],se=oe[2],ce=oe[3],ue=(0,ft.useTagsFilter)(A,B,N,(function(){return C((0,d.Ar)(!0))}),_),pe=ue.tagsFilter,de=ue.tagsChip,fe=ue.selectedTags,me=ue.setSelectedTags,ge=ue.filterTagsBy,ve=ue.seFilterTagsBy,ye=(0,o.useCallback)(et()((function(e,t){y&&!f&&w&&C((0,d.C8)(e,yt({},null==t?void 0:t.pagination),h))}),800),[null==O?void 0:O.tags]),he={name:!(P.all&&!1!==P.name||P.name),stale:!(P.all&&!1!==P.stale||P.stale),registeredWith:!(P.all&&!1!==P.registeredWith||P.registeredWith),operatingSystem:!(P.all&&!1!==P.operatingSystem||P.operatingSystem),tags:!(P.all&&!1!==P.tags||P.tags)},be=(0,o.useCallback)((function(e){w&&(k(e),y&&!f&&C((0,d.C8)(ge,{},h)))}),[null==O?void 0:O.tags]),Ee=function(e){w&&be(e)},Oe=(0,o.useCallback)(et()((function(e){return Ee(e)}),800),[null==E?void 0:E.key,null==E?void 0:E.direction]);(0,o.useEffect)((function(){var e=(0,D.reduceFilters)(W),t=e.textFilter,n=e.tagFilters,r=e.staleFilter,a=e.registeredWithFilter,o=e.osFilter;Oe(),he.name&&G(t),he.stale&&Y(r),he.registeredWith&&re(a),he.tags&&me(n),he.operatingSystem&&ce(o)}),[]);var we=function(e,t,n){var r=[].concat((0,S.Z)(null==W?void 0:W.filter((function(e){return!Object.prototype.hasOwnProperty.call(e,t)}))),[(0,a.Z)({},t,e)]);n({page:1,perPage:u,filters:r})},Te=s&&u&&W&&(!f||b);(0,o.useEffect)((function(){Te&&y&&he.tags&&ye(ge)}),[ge,null==O?void 0:O.tags]),(0,o.useEffect)((function(){Te&&he.name&&function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.trim(),r=null==W?void 0:W.find((function(e){return e.value===D.TEXT_FILTER}));r?r.filter=n:null==W||W.push({value:D.TEXT_FILTER,filter:n}),(t?Oe:Ee)({page:1,perPage:u,filters:W})}(U,!0)}),[U]),(0,o.useEffect)((function(){Te&&he.stale&&we(X,"staleFilter",Oe)}),[X]),(0,o.useEffect)((function(){Te&&he.registeredWith&&we(ne,"registeredWithFilter",Oe)}),[ne]),(0,o.useEffect)((function(){Te&&y&&he.tags&&we((0,Xe.Nc)(fe),"tagFilters",Oe)}),[fe]),(0,o.useEffect)((function(){Te&&he.operatingSystem&&we(se,"osFilter",Oe)}),[se]);var Pe=(t={},(0,a.Z)(t,D.TEXTUAL_CHIP,(function(){return G("")})),(0,a.Z)(t,D.TAG_CHIP,(function(e){return me(function(e,t,n){var r,a,o=null==e||null===(r=e.chips)||void 0===r?void 0:r[0];return void 0!==(null==t||null===(a=t[null==e?void 0:e.key])||void 0===a?void 0:a[null==o?void 0:o.key])&&(t[null==e?void 0:e.key][null==o?void 0:o.key]=!1),n&&n(t),t}(e,fe,(function(e){return we((0,Xe.Nc)(e),"tagFilters",Ee)})))})),(0,a.Z)(t,D.STALE_CHIP,(function(e){return Y(pt(e,X))})),(0,a.Z)(t,D.REGISTERED_CHIP,(function(e){return re(pt(e,ne))})),(0,a.Z)(t,D.OS_CHIP,(function(e){return ce(qe()(se,e.chips.map((function(e){return e.value}))))})),t),Se=[].concat((0,S.Z)(f?[]:[].concat((0,S.Z)(he.name?[z]:[]),(0,S.Z)(he.stale?[q]:[]),(0,S.Z)(he.operatingSystem?[ie]:[]),(0,S.Z)(he.registeredWith?[ee]:[]),(0,S.Z)(y&&he.tags?[pe]:[]))),(0,S.Z)((null==p?void 0:p.items)||[]));return i().createElement(o.Fragment,null,i().createElement(Ye.Z,(0,r.Z)({},L,T&&{bulkSelect:yt(yt({},T),{},{isDisabled:(null==T?void 0:T.isDisabled)||!w})},{className:"ins-c-inventory__table--toolbar ".concat(f||!Se.length?"ins-c-inventory__table--toolbar-has-items":"")},(null==Se?void 0:Se.length)>0&&{filterConfig:yt(yt({},p||{}),{},{isDisabled:!w,items:null==Se?void 0:Se.map((function(e){var t,n;return yt(yt({},e),{},{filterValues:yt(yt({placeholder:(null==e||null===(t=e.filterValues)||void 0===t?void 0:t.placeholder)||"Filter by ".concat(null==e||null===(n=e.label)||void 0===n?void 0:n.toLowerCase())},null==e?void 0:e.filterValues),{},{isDisabled:!w})})}))})},w&&{activeFiltersConfig:yt(yt({},v||{}),{},{filters:[].concat((0,S.Z)(y&&!f&&he.tags?de:[]),(0,S.Z)(!f&&he.name?H:[]),(0,S.Z)(!f&&he.stale?J:[]),(0,S.Z)(!f&&he.registeredWith?te:[]),(0,S.Z)(!f&&he.operatingSystem?le:[]),(0,S.Z)((null==v?void 0:v.filters)||[])),onDelete:function(e,t,n){var r,a=(0,Ve.Z)(t),o=a[0],i=a.slice(1);n?(C((0,d.K5)()),he.name&&G(""),he.stale&&Y($e.js.staleFilter),he.registeredWith&&re([]),he.tags&&me({}),he.operatingSystem&&ce([]),C((0,d.Tv)([$e.js])),Ee({page:1,filters:[$e.js]})):null===(r=Pe[o.type])||void 0===r||r.call(Pe,o),v&&v.onDelete&&v.onDelete(e,[o].concat((0,S.Z)(i)),n,$e.js)}})},{actionsConfig:R?g:null,pagination:R?yt({page:s,itemCount:w?n:0,isDisabled:!w,perPage:u,onSetPage:function(e,t){return k({page:t})},onPerPageSelect:function(e,t){return k({page:1,per_page:t})}},F):i().createElement(Z.Z,{size:Z.i.lg})}),m),(y||he.tags||I)&&i().createElement(D.TagsModal,{filterTagsBy:ge,onApply:function(e){return me((0,D.arrayToSelection)(e))},onToggleModal:function(){return ve("")},getTags:h}))};ht.propTypes={showTags:p().bool,getTags:p().func,hasAccess:p().bool,filterConfig:p().object,total:p().number,hasItems:p().bool,page:p().number,onClearFilters:p().func,toggleTagModal:p().func,perPage:p().number,children:p().node,pagination:p().shape({page:p().number,perPage:p().number}),actionsConfig:p().object,activeFiltersConfig:p().object,onRefreshData:p().func,customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),hideFilters:p().shape({tags:p().bool,name:p().bool,registeredWith:p().bool,stale:p().bool,operatingSystem:p().bool,all:p().bool}),paginationProps:p().object,loaded:p().bool,onRefresh:p().func,hasCheckbox:p().bool,isLoaded:p().bool,items:p().array,sortBy:p().object,bulkSelect:p().object,showTagModal:p().bool,disableDefaultColumns:p().any},ht.defaultProps={showTags:!1,hasAccess:!0,activeFiltersConfig:{},hideFilters:{}};const bt=ht;var Et=n(65550),Ot=n(2443),wt=n(81739);const Tt=function(){return i().createElement(f.u,{variant:f.I.full},i().createElement(v.D,{headingLevel:"h5",size:"lg"},"No matching systems found"),i().createElement(g.B,null,"To continue, edit your filter settings and search again."))};var Pt=n(1284),St=n(21216);var jt;function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft=function(e){var t=e.hasItems,n=e.expandable,a=e.onExpandClick,u=e.hasCheckbox,p=e.actions,f=e.variant,m=e.sortBy,g=e.tableProps,v=e.onSort,y=e.expandable,h=e.onRowClick,b=e.noDetail,E=e.noSystemsTable,O=void 0===E?i().createElement(Tt,null):E,w=e.showTags,T=e.columns,P=e.disableDefaultColumns,j=e.loaded,D=e.columnsCounter,Z=(0,c.useDispatch)(),F=(0,s.useHistory)(),k=(0,s.useLocation)(),R=function(e,t,n,r){var a=(0,c.useSelector)((function(e){return e.entities.columns}),(function(e,t){return e.every((function(e,n){var r=e.key;return t.findIndex((function(e){return e.key===r}))===n}))})),i=Array.isArray(t)?t:[],l=(0,o.useMemo)((function(){return!0===t?[]:(0,St.y5)().filter((function(e){return function(e,t,n){return"tags"===e&&n||"tags"!==e&&Array.isArray(t)&&!t.includes(e)}(e.key,i,n)}))}),[i,t,n]);return(0,o.useMemo)((function(){return"function"==typeof e?e((0,St.y5)()):e?(0,Pt.mergeArraysByKey)([l,e],"key"):!e&&a?a:l}),[n,Array.isArray(t)?t.join():t,Array.isArray(e)?e.map((function(e){return e.key})).join():"function"==typeof e?"function":e,Array.isArray(a)?a.map((function(e){return e.key})).join():a,r])}(T,P,w,D),I=(0,c.useSelector)((function(e){return e.entities.rows})),L=(0,o.useMemo)((function(){return j&&function(e,t,n,r){return null==e?void 0:e.map((function(e){var a=e.props,o=e.transforms,i=e.cellFormatters;return st(st({},(0,l.Z)(e,it)),{},{transforms:[].concat((0,S.Z)(o||[]),(0,S.Z)(null!=a&&a.width?[(0,tt.cellWidth)(a.width)]:[]),(0,S.Z)(t||n.length<=0||a&&a.isStatic||null!=o&&o.includes(tt.sortable)||dt(o)?[]:[tt.sortable])),cellFormatters:[].concat((0,S.Z)(i||[]),(0,S.Z)(r?[tt.expandable]:[]))})}))}(R,t,I,y)}),[j,R,t,I,y]);return delete g.RowWrapper,0===(null==I?void 0:I.length)&&delete g.actionResolver,i().createElement(i().Fragment,null,j&&L?tt.Table&&i().createElement(tt.Table,(0,r.Z)({variant:f,"aria-label":"Host inventory",cells:L,rows:ut(I,R,{actions:p,expandable:n,loaded:j,onRowClick:h||function(e,t){F.push("".concat(k.pathname).concat("/"===k.pathname.slice(-1)?"":"/").concat(t))},noDetail:b,sortBy:m,noSystemsTable:O}),gridBreakPoint:(null==R?void 0:R.length)>5?tt.TableGridBreakpoint.gridLg:tt.TableGridBreakpoint.gridMd,className:"ins-c-entity-table",onSort:function(e,t,r){var a,o;!function(e,t,n,r){"action"!==t&&"health"!==t&&Z((0,d.HD)({index:r,key:t,direction:n})),null==v||v({index:r,key:t,direction:n})}(0,(null==L||null===(a=L[t-Boolean(u)-Boolean(n)])||void 0===a?void 0:a.sortKey)||(null==L||null===(o=L[t-Boolean(u)-Boolean(n)])||void 0===o?void 0:o.key),r,t)},sortBy:{index:(null==L?void 0:L.findIndex((function(e){return(null==m?void 0:m.key)===e.key||"operating_system"===(null==m?void 0:m.key)&&"system_profile"===e.key})))+Boolean(u)+Boolean(n),direction:null==m?void 0:m.direction}},Zt(Zt(Zt({},u&&0!==(null==I?void 0:I.length)?{onSelect:function(e,t,n){var r=y?I[n/2]:I[n];Z((0,d.CL)(-1===n?0:r.id,t))}}:{}),n?{onCollapse:a}:{}),p&&(null==I?void 0:I.length)>0&&{actions:p}),{isStickyHeader:!0},g),i().createElement(tt.TableHeader,null),i().createElement(tt.TableBody,null)):i().createElement(wt.Z,{colSize:(null==R?void 0:R.length)||3,rowSize:15,variant:null!=f?f:g.variant}))};Ft.propTypes={variant:p().oneOf(["compact"]),expandable:p().bool,onExpandClick:p().func,onSort:p().func,hasCheckbox:p().bool,showActions:p().bool,hasItems:p().bool,showHealth:p().bool,sortBy:p().shape({key:p().string,direction:p().oneOf(["asc","desc"])}),tableProps:p().shape((jt={},(0,a.Z)(jt,p().string,p().any),(0,a.Z)(jt,"RowWrapper",p().elementType),(0,a.Z)(jt,"variant",p().string),(0,a.Z)(jt,"actionResolver",p().func),jt)),onRowClick:p().func,showTags:p().bool,noSystemsTable:p().node,disableDefaultColumns:p().oneOfType([p().bool,p().arrayOf(p().string)]),loaded:p().bool,columnsCounter:p().number,columns:p().oneOfType([p().array,p().func]),isLoaded:p().bool,actions:p().array,noDetail:p().any},Ft.defaultProps={loaded:!1,showHealth:!1,expandable:!1,hasCheckbox:!0,showActions:!1,rows:[],variant:tt.TableVariant.compact,onExpandClick:function(){},tableProps:{}};const kt=Ft;var Rt=n(18446),It=n.n(Rt),Lt=n(85333),Ct=n(75824),_t=["title","description"],Wt=function(e){var t=e.title,n=e.description,a=(0,l.Z)(e,_t);return i().createElement(Lt.Z,(0,r.Z)({},a,{className:"ins-c-inventory__no--access",title:t,description:i().createElement(Ct.u,{content:"inventory:*:read"},n)}))};Wt.propTypes={title:p().string,description:p().node},Wt.defaultProps={title:"You do not have access to Inventory",description:i().createElement("div",null,"To view your systems, you must be granted inventory access from your Organization Administrator.")};const Bt=Wt;var At=["children","isOpen"],Nt=["showHealth","onRefreshData","ignoreRefresh"],xt=["hasAccess","onRefreshData"];function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=function(e){return e.children,e.isOpen,(0,l.Z)(e,At)},Ut=function(e){e.showHealth;var t=e.onRefreshData,n=e.ignoreRefresh,a=(0,l.Z)(e,Nt),s=(0,o.useRef)(a.items),c=(0,o.useRef)(a.sortBy);return(0,o.useEffect)((function(){a.hasItems&&t({},n)}),[]),(0,o.useEffect)((function(){a.hasItems&&!It()(s.current.map(Ht),a.items.map(Ht))&&(s.current=a.items,t({},n)),a.hasItems||It()(c.current,a.sortBy)||(c.current=a.sortBy,t({},n))})),i().createElement(x.r,{gutter:"sm",className:"ins-inventory-list"},i().createElement(M.P,{span:12},i().createElement(kt,(0,r.Z)({},a,{onRefreshData:t}))))},Gt=i().forwardRef((function(e,t){var n=e.hasAccess,a=e.onRefreshData,o=(0,l.Z)(e,xt),s=(0,c.useSelector)((function(e){return e.entities.activeFilters}));return t&&(t.current={onRefreshData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(e,t)}}),n?i().createElement(Ut,(0,r.Z)({},o,{activeFilters:s,onRefreshData:a})):i().createElement("div",{className:"ins-c-inventory__no-access"},i().createElement(Bt,{showReturnButton:!1}))}));Ut.propTypes=zt(zt({},Gt.propTypes),{},{setRefresh:p().func,onRefreshData:p().func,ignoreRefresh:p().bool}),Ut.defaultProps={perPage:50,page:1,ignoreRefresh:!0},Gt.propTypes={showTags:p().bool,filterEntities:p().func,loadEntities:p().func,showHealth:p().bool,page:p().number,perPage:p().number,sortBy:p().shape({key:p().string,direction:p().string}),items:p().arrayOf(p().oneOfType([p().string,p().shape({id:p().string.isRequired}),p().shape({account:p().any,isOpen:p().bool,title:p().node})])),entities:p().arrayOf(p().any),customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),getEntities:p().func,hideFilters:p().shape({tags:p().bool,name:p().bool,registeredWith:p().bool,stale:p().bool,operatingSystem:p().bool}),onRefreshData:p().func},Gt.defaultProps={hasAccess:!0};const Vt=Gt;var Kt=n(44733),qt=function(e){var t=e.total,n=e.page,a=e.perPage,o=e.direction,l=e.isFull,s=e.hasAccess,c=e.paginationProps,u=e.onRefreshData;return e.loaded||!s?i().createElement(Kt.t,(0,r.Z)({},l&&{variant:Kt.a.bottom},{isDisabled:!s,itemCount:t,page:n,perPage:a,dropDirection:o,onSetPage:function(e,t){return u({page:t})},onPerPageSelect:function(e,t){return u({page:1,per_page:t})}},c)):null};qt.propTypes={perPage:p().number,total:p().number,page:p().number,isFull:p().bool,hasAccess:p().bool,direction:p().string,paginationProps:p().object,loaded:p().bool,onRefreshData:p().func.isRequired},qt.defaultProps={total:0,isFull:!1,direction:"up",hasAccess:!0};const Jt=qt;var Xt=["onRefresh","children","inventoryRef","items","total","page","perPage","showTags","sortBy","customFilters","hasAccess","isFullView","getEntities","getTags","hideFilters","paginationProps","errorState","autoRefresh","isLoaded","initialLoading","ignoreRefresh","showTagModal"];function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=(0,o.forwardRef)((function(e,t){var n=e.onRefresh,a=e.children,s=(e.inventoryRef,e.items),u=e.total,p=e.page,f=e.perPage,m=e.showTags,g=e.sortBy,v=e.customFilters,y=e.hasAccess,h=void 0===y||y,b=e.isFullView,E=void 0!==b&&b,O=e.getEntities,w=e.getTags,T=e.hideFilters,P=e.paginationProps,S=e.errorState,Z=void 0===S?i().createElement(Ot.Z,null):S,F=e.autoRefresh,k=e.isLoaded,R=e.initialLoading,I=e.ignoreRefresh,L=e.showTagModal,C=(0,l.Z)(e,Xt),_=Boolean(s),W=(0,c.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.error})),B=(0,c.useSelector)((function(e){var t=e.entities.page;return _?p:t||1}),c.shallowEqual),A=(0,c.useSelector)((function(e){var t=e.entities.perPage;return _?f:t||50}),c.shallowEqual),N={page:B,perPage:A,total:(0,c.useSelector)((function(e){var t=e.entities.total;return _?void 0!==u?u:null==s?void 0:s.length:t}),c.shallowEqual)},x=(0,c.useSelector)((function(e){var t=e.entities.sortBy;return _?g:t}),c.shallowEqual),M=(0,c.useSelector)((function(e){var t=e.entities;return _&&void 0!==k?k&&(null==t?void 0:t.loaded):null==t?void 0:t.loaded})),z=(0,o.useState)(R),H=(0,j.Z)(z,2),U=H[0],G=H[1];(0,o.useEffect)((function(){M||G()}),[M]);var V=M&&!U,K=(0,c.useDispatch)(),q=(0,c.useStore)(),J=(0,o.useRef)(function(){var e={};return{updateProps:function(t){e=t},getProps:function(){return e}}}());J.current.updateProps({page:B,perPage:A,items:s,sortBy:x,hideFilters:T,showTags:m,getEntities:O,customFilters:v,hasItems:_});var X=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=q.getState().entities.activeFilters,o=(null===(e=J.current)||void 0===e?void 0:e.getProps())||{},i=(null==t?void 0:t.per_page)||(null==t?void 0:t.perPage)||o.perPage,l=$t($t({page:o.page,per_page:i,items:o.items,sortBy:o.sortBy,hideFilters:o.hideFilters,filters:a,hasItems:o.hasItems},o.customFilters),t);n&&!r?(K((0,d.nE)()),n(l,(function(e){K((0,D.loadSystems)($t($t({},l),e),o.showTags,o.getEntities))}))):K((0,D.loadSystems)(l,o.showTags,o.getEntities))},Y=(0,o.useRef)(v);return(0,o.useEffect)((function(){F&&!It()(Y.current,v)&&(X({page:1}),Y.current=v)})),!1===h&&E?i().createElement(Bt,{title:"This application requires Inventory permissions",description:i().createElement("div",null,"To view the content of this page, you must be granted a minimum of inventory permissions from your Organization Administrator.")}):W?Z:i().createElement(o.Fragment,null,i().createElement(bt,(0,r.Z)({},C,{customFilters:v,hasAccess:h,items:s,hasItems:_,total:N.total,page:N.page,perPage:N.perPage,showTags:m,getTags:w,onRefreshData:X,sortBy:x,hideFilters:T,paginationProps:P,loaded:V,showTagModal:L,activeFiltersConfig:$t({deleteTitle:"Reset filters"},C.activeFiltersConfig)}),a),i().createElement(Vt,(0,r.Z)({},C,{customFilters:v,hasAccess:h,ref:t,hasItems:_,items:s,page:N.page,sortBy:x,perPage:N.perPage,showTags:m,onRefreshData:X,loaded:V,ignoreRefresh:I})),i().createElement(Et.Z,{isFooter:!0,className:"ins-c-inventory__table--toolbar"},i().createElement(Jt,{hasAccess:h,isFull:!0,total:N.total,page:N.page,perPage:N.perPage,hasItems:_,onRefreshData:X,paginationProps:P,loaded:V})))}));Qt.propTypes={autoRefresh:p().bool,onRefresh:p().func,children:p().node,inventoryRef:p().object,items:p().array,total:p().number,page:p().number,perPage:p().number,showTags:p().bool,getTags:p().func,sortBy:p().object,customFilters:p().any,hasAccess:p().bool,isFullView:p().bool,getEntities:p().func,hideFilters:p().object,paginationProps:p().object,errorState:p().node,isLoaded:p().bool,initialLoading:p().bool,ignoreRefresh:p().bool,showTagModal:p().bool,activeFiltersConfig:p().object};const en=Qt;var tn=n(95249),nn=["isRbacEnabled"],rn=function(e){var t=e.isRbacEnabled,n=(0,l.Z)(e,nn),r=(0,tn.c$)(["inventory:*:*","inventory:*:read","inventory:hosts:read"]).hasAccess;return t&&!1===r?i().createElement(Bt,null):i().createElement(He,n)};rn.propTypes={isRbacEnabled:p().bool};const an=rn;function on(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?on(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):on(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sn(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Boolean(n);return ln({InventoryTable:i().forwardRef((function(t,n){return i().createElement(Ue.Z,(0,r.Z)({},t,{isRbacEnabled:a,inventoryRef:n,store:e,cmp:en}))})),AppInfo:i().forwardRef((function(n,o){return i().createElement(Ue.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:o,store:e,cmp:he}))})),InventoryDetailHead:i().forwardRef((function(n,l){return i().createElement(Ue.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:l,store:e,showInventoryDrawer:o&&!n.hideInvDrawer,cmp:ve}))})),InventoryDetail:i().forwardRef((function(n,l){return i().createElement(Ue.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:l,store:e,showInventoryDrawer:o,cmp:be}))})),TagWithDialog:i().forwardRef((function(t,n){return i().createElement(Ue.Z,(0,r.Z)({},t,{inventoryRef:n,isRbacEnabled:a,store:e,cmp:Ge.Z}))})),DetailWrapper:function(e){return i().createElement(an,(0,r.Z)({Wrapper:n,isRbacEnabled:a,showInventoryDrawer:o},e))}},ft)}},98516:(e,t,n)=>{"use strict";n.r(t),n.d(t,{OPERATING_SYSTEM_FILTER:()=>R.Tc,REGISTERED_WITH_FILTER:()=>P,STALENESS_FILTER:()=>y,TEXT_FILTER:()=>c,filtersReducer:()=>C,operatingSystemFilterReducer:()=>R.BG,registeredWithFilterReducer:()=>S,registeredWithFilterState:()=>T,stalenessFilterReducer:()=>h,stalenessFilterState:()=>v,textFilterReducer:()=>u,textFilterState:()=>s,useRegisteredWithFilter:()=>j,useStalenessFilter:()=>b,useTagsFilter:()=>k,useTextFilter:()=>p});var r=n(4942),a=n(29439),o=n(92950),i=n(14918);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s={textFilter:""},c="TEXT_FILTER",u=function(e,t){var n=t.type,a=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===c&&{textFilter:a})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[s],t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,o.useState)(""),u=(0,a.Z)(l,2),p=u[0],d=u[1],f=r?n.textFilter:p,m=r?function(e){return r({type:c,payload:e})}:d,g={label:"Name",value:"name-filter",filterValues:{placeholder:"Filter by name",value:f,onChange:function(e,t){return m(t)}}},v=f.length>0?[{category:"Display name",type:i.TEXTUAL_CHIP,chips:[{name:f}]}]:[];return[g,v,f,m]},d=n(45987),f=["label"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={stalenessFilter:[]},y="STALENESS_FILTER",h=function(e,t){var n=t.type,r=t.payload;return g({},n===y&&{stalenessFilter:r})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[v],t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,o.useState)([]),s=(0,a.Z)(l,2),c=s[0],u=s[1],p=r?n.stalenessFilter:c,m=r?function(e){return r({type:y,payload:e})}:u,h={label:"Status",value:"stale-status",type:"checkbox",filterValues:{value:p,onChange:function(e,t){return m(t)},items:i.staleness}},b=(null==p?void 0:p.length)>0?[{category:"Status",type:i.STALE_CHIP,chips:i.staleness.filter((function(e){var t=e.value;return p.includes(t)})).map((function(e){return g({name:e.label},(0,d.Z)(e,f))}))}]:[];return[h,b,p,m]},E=["label"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={registeredWithFilter:[]},P="REGISTERED_WITH_FILTER",S=function(e,t){var n=t.type,r=t.payload;return w({},n===P&&{registeredWithFilter:r})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[T],t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,o.useState)([]),s=(0,a.Z)(l,2),c=s[0],u=s[1],p=r?n.registeredWithFilter:c,f=r?function(e){return r({type:P,payload:e})}:u,m={label:"Data Collector",value:"data-collector-registered-with",type:"checkbox",filterValues:{value:p,onChange:function(e,t){return f(t)},items:i.registered}},g=(null==p?void 0:p.length)>0?[{category:"Data Collector",type:i.REGISTERED_CHIP,chips:i.registered.filter((function(e){var t=e.value;return p.includes(t)})).map((function(e){return w({name:e.label},(0,d.Z)(e,E))}))}]:[];return[m,g,p,f]},D=n(3474);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=(0,D.YM)(e,t,n,r,a,"system"),i=o.filter,l=o.chips,s=o.selectedTags,c=o.setValue,u=o.filterTagsBy,p=o.seFilterTagsBy;return{tagsFilter:{label:"Tags",value:"tags",type:"group",placeholder:"Filter system by tag",filterValues:F({},i)},tagsChip:l,selectedTags:s,setSelectedTags:c,filterTagsBy:u,seFilterTagsBy:p}},R=n(7314);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(e){return function(t,n){return e.reduce((function(e,r){return L(L({},e),null==r?void 0:r(t,n))}),t)}}},7314:(e,t,n)=>{"use strict";n.d(t,{BG:()=>p,Tc:()=>u,ZP:()=>d});var r=n(29439),a=n(4942),o=n(92950),i=n(32384),l=n(8622),s=n(98436);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u="OPERATING_SYSTEM_FILTER",p=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===u&&{operatingSystemFilter:r})};const d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.useDispatch)(),n=(0,i.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystems})),a=(0,i.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystemsLoaded}))||!1,c=(0,o.useState)({}),u=(0,r.Z)(c,2),p=u[0],d=u[1],f=(0,o.useState)([]),m=(0,r.Z)(f,2),g=m[0],v=m[1];(0,o.useEffect)((function(){t((0,l.g6)(e))}),[]),(0,o.useEffect)((function(){var e=(0,s.vb)(n);v(0===(n||[]).length?[{items:[{label:"No versions available"}]}]:e),d((0,s.CR)((0,s.pW)(p),(n||[]).map((function(e){return e.value}))))}),[n]);var y=(0,o.useMemo)((function(){return{label:"Operating System",value:"operating-system-filter",type:"group",filterValues:{selected:p,groups:g,onChange:function(e,t,n,r){d((0,s.gk)(e,t,n,r))}}}}),[p,g]),h=(0,o.useMemo)((function(){return(0,s.DJ)(p,n)}),[p,n]),b=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d((0,s.CR)(e,a?(n||[]).map((function(e){return e.value})):void 0))}),[a,n]),E=(0,o.useMemo)((function(){return(0,s.pW)(p)}),[p]);return[y,h,E,b]}},81754:()=>{},80598:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},80897:()=>{},81320:()=>{},98379:()=>{},56024:()=>{},43390:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2564.2d11d1477fe35c09c6b816abc2bd5df6.js.map