/*! For license information please see 8915.2d2f62a05a1e84ea60ca.js.LICENSE.txt */
(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[8915],{3727:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>he});var a=n(92950),r=n.n(a),i=n(55140),l=n(89376),o=n(39173),s=n(71002),c=n(4942),u=n(15861),m=n(29439),f=n(47173),d=n(32203),p=n(62394),y=n(70401),h=n(28191),v=n(80236),g=n(46043),b=n(37619),_=n(28883),w=n(29873),E=n(35262),x=n(38779),k=n(75824),O=n(91290),S=n(92298),N=n(45697),j=n.n(N),z=n(54680),L=n(92694);function F(){F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,l=Object.create(i.prototype),o=new S(r||[]);return a(l,"_invoke",{value:E(e,n,o)}),l}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function y(){}var h={};c(h,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(N([])));g&&g!==t&&n.call(g,i)&&(h=g);var b=y.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,i,l,o){var c=m(e[a],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==(0,s.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,l,o)}),(function(e){r("throw",e,l,o)})):t.resolve(f).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var o=x(l,n);if(o){if(o===f)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=m(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=m(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=y,a(b,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:p,configurable:!0}),p.displayName=c(y,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var l=new w(u(t,n,a,r),i);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},_(b),c(b,o,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var P="inventory:staleness:read",D=function(e){return e/86400},I=["conventional_staleness_delta","conventional_stale_warning_delta","conventional_culling_delta","immutable_staleness_delta","immutable_stale_warning_delta","immutable_culling_delta"],K=function(e){var t=e.activeTabKey;return r().createElement(g.J,{"aria-label":"Organization level popover",headerContent:r().createElement(x.D,{headingLevel:"h4"},"Default settings"),position:"left",bodyContent:t?r().createElement(h.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale after 2 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale warning after 120 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are deleted after 180 days since last check-in.")):r().createElement(h.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale after 1 day since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale warning after 7 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are deleted after 14 days since last check-in."))},r().createElement(f.zx,{variant:"plain","aria-label":"Organization level popover",style:{padding:0}},r().createElement(O.ZP,{className:"pf-u-ml-md"})))},C=function(){return r().createElement(g.J,{"aria-label":"Orginization level popover",headerContent:r().createElement(x.D,{headingLevel:"h4"},"Orginization level setting"),hasAutoWidth:!0,position:"top",bodyContent:r().createElement(h.k,{direction:{default:"column"}},r().createElement("p",{className:"pf-u-font-size-sm"},"Configure the number of days it will take for your systems to be marked as stale, stale warning, and be deleted."),r().createElement(h.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},r().createElement("span",{className:"pf-u-font-size-sm"},"Default for Conventional systems (RPM-DNF):"),r().createElement("span",{className:"pf-u-font-size-sm"},r().createElement("p",null,"- Systems are marked as stale after 1 day since last check-in.")),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale warning after 7 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are deleted after 14 days since last check-in.")),r().createElement(h.k,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"}},r().createElement("span",{className:"pf-u-font-size-sm"},"Default for Immutable systems (OSTree):"),r().createElement("span",{className:"pf-u-font-size-sm"},r().createElement("p",null,"- Systems are marked as stale after 2 days since last check-in.")),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are marked as stale warning after 120 days since last check-in."),r().createElement("span",{className:"pf-u-font-size-sm"},"- Systems are deleted after 180 days since last check-in.")))},r().createElement(f.zx,{variant:"plain","aria-label":"Orginization level popover",style:{padding:0}},r().createElement(O.ZP,{className:"pf-u-ml-sm"})))},T=function(e){return[{name:"1 day",value:1,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta",title:"System staleness",modalMessage:"A stale status on a system indicates that your system has not checked-in in a certain amount of time."},{name:"2 days",value:2,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"3 days",value:3,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"4 days",value:4,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"5 days",value:5,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"6 days",value:6,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"},{name:"7 days",value:7,apiKey:e?"immutable_staleness_delta":"conventional_staleness_delta"}]},Z=function(e){return[{name:"7 days",value:7,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta",title:"System stale warning",modalMessage:"A stale warning status on a system indicates that your system has not checked-in in a while, and is at risk of being deleted from your inventory."},{name:"14 days",value:14,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"21 days",value:21,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"30 days",value:30,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"60 days",value:60,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"90 days",value:90,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"120 days",value:120,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"150 days",value:150,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"},{name:"180 days",value:180,apiKey:e?"immutable_stale_warning_delta":"conventional_stale_warning_delta"}]},V=function(e){return[{name:"14 days",value:14,apiKey:e?"immutable_culling_delta":"conventional_culling_delta",title:"System deletion",modalMessage:"This is the time at which your system will be deleted from your inventory. Once your system is deleted, it will have to be re-registered to be added back to your inventory."},{name:"21 days",value:21,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"30 days",value:30,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"60 days",value:60,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"90 days",value:90,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"120 days",value:120,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"150 days",value:150,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"180 days",value:180,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"1 year",value:365,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"},{name:"2 years",value:730,apiKey:e?"immutable_culling_delta":"conventional_culling_delta"}]},M=function(){var e=(0,u.Z)(F().mark((function e(t,n){var a,r,i;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<I.length)){e.next=22;break}if(r=I[a],i=t[r],!("conventional_staleness_delta"===r&&i>t.conventional_stale_warning_delta)){e.next=7;break}return n(!1),e.abrupt("break",22);case 7:if(!("immutable_staleness_delta"===r&&i>t.immutable_stale_warning_delta)){e.next=10;break}return n(!1),e.abrupt("break",22);case 10:if(!("conventional_stale_warning_delta"===r&&i>t.conventional_culling_delta)){e.next=13;break}return n(!1),e.abrupt("break",22);case 13:if(!("immutable_stale_warning_delta"===r&&i>t.immutable_culling_delta)){e.next=18;break}return n(!1),e.abrupt("break",22);case 18:n(!0);case 19:a++,e.next=1;break;case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}K.propTypes={activeTabKey:j().number};var A=function(e){var t=e.dropdownItems,n=e.currentItem,i=e.disabled,l=e.title,o=e.newFormValues,s=e.setNewFormValues,u=e.edit,d=e.modalMessage,p=e.isFormValid,y=e.setIsFormValid,v=(0,a.useState)(!1),b=(0,m.Z)(v,2),_=b[0],w=b[1],E=(0,a.useState)(n),x=(0,m.Z)(E,2),k=x[0],N=x[1];return(0,a.useEffect)((function(){N(n),M(o,y)}),[u,n]),r().createElement(r().Fragment,null,r().createElement(h.k,{direction:{default:"column"},gap:{default:"gapNone"}},r().createElement(S.B,{className:"pf-u-mb-sm"},r().createElement(h.k,null,r().createElement(S.B,{spacer:{default:"spacerXs"}},r().createElement("p",{className:"pf-u-font-weight-bold pf-u-font-size-sm"},l)),r().createElement(S.B,null,r().createElement(g.J,{"aria-label":"".concat(l," popover"),headerContent:r().createElement("div",null,l),bodyContent:r().createElement("div",null,d)},r().createElement(f.zx,{className:"pf-u-ml-xs",variant:"plain",style:{padding:0}},r().createElement(O.ZP,null)))))),r().createElement(S.B,null,r().createElement(z.P,{isOpen:_,onSelect:function(e,n){var a=t.find((function(e){return e.value===n}));N(a.name),w(!1)},onToggle:function(){return w(!_)},isDisabled:i,selections:k,width:"200px",validated:!p&&"error"},t.map((function(e){return r().createElement(L.$,{key:e.name,value:e.value,onClick:function(){return function(e){s(B(B({},o),{},(0,c.Z)({},e.apiKey,e.value)))}(e)}},e.name)}))),function(e,t){var n=t[0].apiKey,a=e[n];return"conventional_staleness_delta"===n?a>e.conventional_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before stale warning"):a>e.conventional_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before deletion"):r().createElement("p",{className:"pf-u-font-size-sm "},"Maximum: 7 days"):"conventional_stale_warning_delta"===n?a>e.conventional_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Stale warning must be before deletion"):a<e.conventional_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Stale warning must be after staleness"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum: 180 days"):"conventional_culling_delta"===n?a<e.conventional_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Deletion must be after staleness"):a<e.conventional_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Deletion must be after stale warning"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum: 2 years"):"immutable_staleness_delta"===n?a>e.immutable_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before stale warning"):a>e.immutable_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Staleness must be before deletion"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum: 7 days"):"immutable_stale_warning_delta"===n?a>e.immutable_culling_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100 ",style:{width:"200px"}},"Stale warning must be before deletion"):a<e.immutable_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Stale warning must be after staleness"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum: 180 days"):"immutable_culling_delta"===n?a<e.immutable_stale_warning_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Deletion must be after staleness"):a<e.immutable_staleness_delta?r().createElement("p",{className:"pf-u-font-size-sm pf-v5-u-danger-color-100",style:{width:"200px"}},"Deletion must be after stale warning"):r().createElement("p",{className:"pf-u-font-size-sm ",style:{width:"200px"}},"Maximum: 2 years"):void 0}(o,t))))};A.propTypes={dropdownItems:j().array,disabled:j().bool,onSelect:j().bool,placeholder:j().string,title:j().string,currentItem:j().number,filter:j().object,newFormValues:j().any,setNewFormValues:j().any,edit:j().bool,modalMessage:j().string,isFormValid:j().any,setIsFormValid:j().any};const H=A;function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var J=function(e){var t=e.isEditing,n=e.filter,a=e.setFilter,i=e.activeTabKey,l=e.newFormValues,o=e.setNewFormValues,s=e.isFormValid,c=e.setIsFormValid,u=e.hostStalenessImmutableDefaults,m=e.hostStalenessConventionalDefaults;return r().createElement(r().Fragment,null,r().createElement(d.Z,{isPlain:!0,className:"pf-u-mb-lg"},r().createElement(h.k,{justifyContent:{default:"justifyContentSpaceBetween"},style:{minHeight:"110px"}},function(e){return[T(e),Z(e),V(e)]}(i).map((function(e){return r().createElement(S.B,{key:e[0].title},r().createElement(H,{"data-ouia-component-id":e[0].title,dropdownItems:e,currentItem:l[e[0].apiKey],disabled:!t,title:e[0].title,filter:n,setFilter:a,newFormValues:l,setNewFormValues:o,isEditing:t,modalMessage:e[0].modalMessage,isFormValid:s,setIsFormValid:c}))})),t?r().createElement(h.k,{alignSelf:{default:"alignSelfCenter"}},r().createElement(S.B,{style:{width:"200px"}},r().createElement(f.zx,{variant:"link",role:"button",onClick:function(){return e=i?u:m,void o(Y(Y({},l),e));var e},style:{padding:"0"},ouiaId:"reset-to-default"},"Reset to default setting"),r().createElement(K,{activeTabKey:i}))):r().createElement("div",{style:{width:"200px"}}))))};J.propTypes={filter:j().object,newFormValues:j().any,setNewFormValues:j().any,setFilter:j().any,activeTabKey:j().number,isEditing:j().bool,isFormValid:j().any,setIsFormValid:j().any,defaultValues:j().object,hostStalenessImmutableDefaults:j().object,hostStalenessConventionalDefaults:j().object};const q=J;var $=n(34655),W=n(83215),U=n(60261);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ee(){ee=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,l=Object.create(i.prototype),o=new S(r||[]);return a(l,"_invoke",{value:E(e,n,o)}),l}function m(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f={};function d(){}function p(){}function y(){}var h={};c(h,i,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(N([])));g&&g!==t&&n.call(g,i)&&(h=g);var b=y.prototype=d.prototype=Object.create(h);function _(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function r(a,i,l,o){var c=m(e[a],e,i);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==(0,s.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,l,o)}),(function(e){r("throw",e,l,o)})):t.resolve(f).then((function(e){u.value=e,l(u)}),(function(e){return r("throw",e,l,o)}))}o(c.arg)}var i;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return i=i?i.then(a,a):a()}})}function E(e,t,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var l=n.delegate;if(l){var o=x(l,n);if(o){if(o===f)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=m(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var r=m(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=y,a(b,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:p,configurable:!0}),p.displayName=c(y,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},_(w.prototype),c(w.prototype,l,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var l=new w(u(t,n,a,r),i);return e.isGeneratorFunction(n)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},_(b),c(b,o,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=N,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return l.type="throw",l.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var o=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(o&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var l=i?i.completion:{};return l.type=e,l.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;O(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:N(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var te=function(e){var t=e.canModifyHostStaleness,n=(0,a.useState)({}),i=(0,m.Z)(n,2),l=i[0],o=i[1],s=(0,a.useState)(l),c=(0,m.Z)(s,2),S=c[0],N=c[1],j=(0,a.useState)(!1),z=(0,m.Z)(j,2),L=z[0],F=z[1],P=(0,a.useState)(0),K=(0,m.Z)(P,2),T=K[0],Z=K[1],V=(0,a.useState)(!1),M=(0,m.Z)(V,2),G=M[0],B=M[1],A=(0,a.useState)(!0),H=(0,m.Z)(A,2),R=H[0],Y=H[1],J=(0,a.useState)({}),X=(0,m.Z)(J,2),te=X[0],ne=X[1],ae=(0,a.useState)({}),re=(0,m.Z)(ae,2),ie=re[0],le=re[1],oe=(0,a.useState)(!0),se=(0,m.Z)(oe,2),ce=se[0],ue=se[1],me=(0,U.useDispatch)(),fe=function(){B(!G)},de=function(){var e=(0,u.Z)(ee().mark((function e(){var t;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={},I.forEach((function(e){return"id"!==e&&(t[e]=86400*S[e])})),"system_default"===l.id?(0,$.postStalenessData)(t).then((function(){me((0,W.wN)({id:"settings-saved",variant:"success",title:"Organization level settings saved",description:"Organization level settings saved",dismissable:!0})),(0,$.fetchStalenessData)(),F(!L),B(!1)})).catch((function(){me((0,W.wN)({id:"settings-saved-failed",variant:"danger",title:"Error saving organization level settings",description:"Error saving organization level settings",dismissable:!0}))})):(0,$.patchStalenessData)(t).then((function(){me((0,W.wN)({id:"settings-saved",variant:"success",title:"Organization level settings saved",dismissable:!0})),(0,$.fetchStalenessData)(),F(!L),B(!1)})).catch((function(){me((0,W.wN)({id:"settings-saved-failed",variant:"danger",title:"Error saving organization level settings",dismissable:!0}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=(0,u.Z)(ee().mark((function e(){var t,n;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.fetchStalenessData)();case 2:t=e.sent,n={},I.forEach((function(e){return n[e]=D(t[e])})),n.id=t.id,o(n),N(n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=(0,u.Z)(ee().mark((function e(){var t,n,a;return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.fetchDefaultStalenessValues)().catch((function(e){return e}));case 2:t=e.sent,n={},a={},Object.keys(t).forEach((function(e){e.includes("conventional")?n[e]=D(t[e]):e.includes("immutable")&&(a[e]=D(t[e]))})),le(Q(Q({},ie),n)),ne(Q(Q({},te),a));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=(0,u.Z)(ee().mark((function e(){return ee().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pe(),ye(),ue(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,a.useEffect)((function(){he()}),[]),r().createElement(r().Fragment,null,ce?r().createElement(b.$,null):r().createElement(d.Z,{id:"HostStalenessCard"},r().createElement(y.O,null,r().createElement(x.D,{headingLevel:"h4",size:"xl",id:"HostTitle"},"Organization level system staleness and deletion"),r().createElement(C,null)),r().createElement(p.e,null,r().createElement("p",null,"Keep or customize your organization's default settings using the options below."),r().createElement(h.k,{className:"pf-u-mt-md"},r().createElement(x.D,{headingLevel:"h6"},"System configuration"),t?r().createElement(f.zx,{variant:"link",role:"button",onClick:function(){F(!L)},ouiaId:"edit-staleness-setting"},"Edit"):r().createElement(k.u,{content:"You do not have the Inventory staleness and deletion viewer role required to perform this action. Contact your org admin for access."},r().createElement("div",null,r().createElement(f.zx,{variant:"link",style:{"padding-left":"0px"},isDisabled:!t},"Edit")))),r().createElement(E.m,{id:"HostTabs",className:"pf-m-light pf-c-table pf-u-mb-lg pf-u-mt-lg",activeKey:T,onSelect:function(e,t){Z(t)}},r().createElement(_.O,{eventKey:0,title:r().createElement(w.T,null,"Conventional (RPM-DNF)"," ",r().createElement(g.J,{"aria-label":"Basic popover",headerContent:r().createElement("div",null,"Conventional systems (RPM-DNF)"),bodyContent:r().createElement("div",null,"With RPM-DNF, you can manage the system software by using the DNF package manager and updated RPM packages. This is a simple and adaptive method of managing and modifying the system over its lifecycle.")},r().createElement(O.ZP,{className:"pf-u-ml-md"})))},r().createElement(q,{isEditing:L,filter:l,setFilter:o,activeTabKey:0,newFormValues:S,setNewFormValues:N,isFormValid:R,setIsFormValid:Y,hostStalenessImmutableDefaults:te,hostStalenessConventionalDefaults:ie})),r().createElement(_.O,{eventKey:1,title:r().createElement(w.T,null,"Immutable (OSTree)"," ",r().createElement(g.J,{"aria-label":"Basic popover",headerContent:r().createElement("div",null,"Immutable (OSTree)"),bodyContent:r().createElement("div",null,"With OSTree, you can manage the system software by referencing a central image repository. OSTree images contain a complete operating system ready to be remotely installed at scale.  You can track updates to images through commits and enable secure updates that only address changes and keep the operating system unchanged. The updates are quick, and the rollbacks are easy.")},r().createElement(O.ZP,{className:"pf-u-ml-md"})))},r().createElement(q,{isEditing:L,filter:l,setFilter:o,activeTabKey:1,newFormValues:S,setNewFormValues:N,isFormValid:R,setIsFormValid:Y,hostStalenessImmutableDefaults:te,hostStalenessConventionalDefaults:ie}))),L&&r().createElement(h.k,{justifyContent:{default:"justifyContentFlexStart"}},r().createElement(f.zx,{className:"pf-u-mt-md",size:"sm",onClick:function(){return fe()},isDisabled:!R},"Save"),r().createElement(f.zx,{className:"pf-u-mt-md",size:"sm",variant:"link",onClick:function(){return N(l),void F(!L)}},"Cancel"),r().createElement(v.u,{variant:"small",titleIconVariant:"warning",title:"Update organization level setting",isOpen:G,onClose:fe,actions:[r().createElement(f.zx,{key:"confirm",variant:"primary",onClick:de},"Update"),r().createElement(f.zx,{key:"cancel",variant:"link",onClick:fe},"Cancel")],ouiaId:"BasicModal"},"Changing the organization level setting for system staleness and\n              deletion may impact your systems. Some systems may be deleted as a result."))," ")))};te.propTypes={canModifyHostStaleness:j().bool.isRequired};const ne=te;var ae=n(95249),re=n(58061),ie=["inventory:staleness:write",P,re.yp,re.Bb];const le=function(){var e=(0,ae.c$)(ie,!0).hasAccess;return r().createElement("section",null,r().createElement(ne,{canModifyHostStaleness:e}))};var oe=n(16488),se=n(32045),ce=n(9947),ue=n(75106),me=n(38424),fe=n(15265),de=n(99332);const pe=function(){return r().createElement(ce.u,null,r().createElement(me.k,{icon:de.ZP}),r().createElement(x.D,{headingLevel:"h5",size:"lg"},"Access permissions needed"),r().createElement(ue.B,{className:"pf-u-mb-xl"},"You do not have the necessary Inventory staleness and deletion viewer role required to view this page."),r().createElement(f.zx,{variant:"link",component:"a"},r().createElement("p",null,"Learn more about managing user access"," ",r().createElement(fe.ZP,{className:"pf-u-ml-sm "}))))};var ye=[P,re.yp];const he=function(){var e=(0,i.Z)(),t=(0,ae.c$)(ye,!0).hasAccess;return(0,a.useEffect)((function(){var t;null==e||null===(t=e.updateDocumentTitle)||void 0===t||t.call(e,"Staleness and Deletion - System Configuration - Inventory | Red Hat Insights"),e.hideGlobalFilter(!0)}),[]),r().createElement(r().Fragment,null,r().createElement(l.Z,null,r().createElement(o.Z,{title:"Staleness and Deletion"})),t?r().createElement(oe.T,null,r().createElement(se.NP,{variant:"default"},r().createElement(le,null))):r().createElement(oe.T,null,r().createElement(se.NP,{variant:"default"},r().createElement(pe,null))))}},80598:()=>{},32857:()=>{},93818:()=>{},94498:()=>{},28992:()=>{},80897:()=>{},30187:()=>{},78752:()=>{},98379:()=>{},92084:()=>{},36974:()=>{},56024:()=>{},43390:()=>{},38299:()=>{}}]);
//# sourceMappingURL=../sourcemaps/8915.1be265ad97a9d57c3fc49e1e1dff9a7d.js.map