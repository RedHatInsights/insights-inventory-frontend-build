(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[7345],{68340:(e,t,n)=>{"use strict";n.d(t,{q:()=>r,x:()=>c});var r,a=n(70655),i=n(92950),o=n(38296),l=n(62873),s=n(62472);!function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p",e.a="a",e.small="small",e.blockquote="blockquote",e.pre="pre"}(r||(r={}));const c=e=>{var{children:t=null,className:n="",component:u=r.p,isVisitedLink:p=!1,ouiaId:d,ouiaSafe:f=!0}=e,h=(0,a.__rest)(e,["children","className","component","isVisitedLink","ouiaId","ouiaSafe"]);const v=u,g=(0,s.S$)(c.displayName,d,f);return i.createElement(v,Object.assign({},g,h,{"data-pf-content":!0,className:(0,o.i)(p&&u===r.a&&l.Z.modifiers.visited,n)}),t)};c.displayName="Text"},68774:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(70655),a=n(92950),i=n(62873),o=n(38296);const l=e=>{var{children:t=null,className:n="",isVisited:l=!1}=e,s=(0,r.__rest)(e,["children","className","isVisited"]);return a.createElement("div",Object.assign({},s,{className:(0,o.i)(i.Z.content,l&&i.Z.modifiers.visited,n)}),t)};l.displayName="TextContent"},62873:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(10108);const r={content:"pf-c-content",modifiers:{visited:"pf-m-visited",overpassFont:"pf-m-overpass-font"}}},53754:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(92950);const a=n.n(r)().createContext("light")},80123:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85893),a=n(94184),i=n.n(a),o=n(53754),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)};const s=function(e){var t=e.className,n=e.children,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children"]),s=i()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,r.jsx)(o.Z.Consumer,{children:function(e){var t,o;void 0===e&&(e="light");var c=i()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((o={})["pf-m-light"]="light"===e,o));return(0,r.jsx)("section",l({},a,{className:"".concat(s," ").concat(c),"widget-type":"InsightsPageHeader"},{children:n}))}})}},39173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85893),a=n(94184),i=n.n(a),o=n(48542),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)};const s=function(e){var t=e.className,n=e.title,a=i()(t);return(0,r.jsx)(o.Title,l({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:n}))}},17499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextInputModal:()=>o.Z,default:()=>l});var r=n(92950),a=n.n(r),i=n(43107),o=n(95364);const l=function(e){return a().createElement(i.default,e)}},54174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculatePagination:()=>D,default:()=>M});var r=n(87462),a=n(4942),i=n(29439),o=n(92950),l=n.n(o),s=n(45697),c=n.n(s),u=n(50533),p=n(75662),d=n(80123),f=n(39173),h=n(85893),v=n(94184),g=n.n(v),m=n(53754),y=function(){return y=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},y.apply(this,arguments)},O=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,i=t.length;a<i;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};const b=(0,u.connect)((function(e){var t=e.routerData;return{params:t&&t.params,path:t&&t.path}}),(function(){return{}}))((function(e){var t=e.path,n=e.params,r=void 0===n?{}:n,a=e.children,i=e.className,o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["path","params","children","className"]),s=function(){var e,n,a;if(null===(a=null===(n=null===(e=null===window||void 0===window?void 0:window.insights)||void 0===e?void 0:e.chrome)||void 0===n?void 0:n.$internal)||void 0===a?void 0:a.store){var i=window.insights.chrome.$internal.store.getState();if(t&&i)return t.split("/").reduce((function(e,t){var n,a;return 0===t.indexOf(":")?e.dynamic=y(y({},e.dynamic),((n={})["data-".concat((a=t.substr(1),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))]=r[t.substr(1)],n)):e.staticPart=O(O([],e.staticPart,!0),""!==t?[t]:[],!0),e}),{staticPart:[i.chrome.appId],dynamic:{}})}return{staticPart:[],dynamic:void 0}}(),c=s.dynamic,u=s.staticPart;return(0,h.jsx)(m.Z.Consumer,{children:function(e){var t;void 0===e&&(e="light");var n=g()(((t={})["pf-m-".concat(e)]="dark"===e,t));return{dark:(0,h.jsx)("section",y({},o,c,{"page-type":u.join("-"),className:"".concat(g()(i,"pf-l-page__main-section pf-c-page__main-section")," ").concat(n)},{children:l().Children.map(a,(function(e){return l().cloneElement(e,{className:"pf-m-dark"})}))})),light:(0,h.jsx)("section",y({},o,c,{"page-type":u.join("-"),className:"".concat(g()(i,"pf-l-page__main-section pf-c-page__main-section"))},{children:a}))}[e]}})}));var _=n(3672),j=n(50693),w=n(16475),S=n(83215),P=n(39903),E=n(17499),N=n(94654),F=n.n(N),k=n(13784),Z=n(35859),A=n(55140);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every((function(e){var n=e.id;return t&&t.has(n)}))?e.length>0:e.some((function(e){var n=e.id;return t&&t.has(n)}))&&null},I=function(e){var t=e.category;return e.values.map((function(e){var n=e.tagKey,r=e.value;return"".concat(t?"".concat(t,"/"):"").concat(n).concat(r?"=".concat(r):"")}))},L={staleFilter:function(e,t){return e.staleFilter.forEach((function(e){return t.append("status",e)}))},osFilter:function(e,t){var n=e.osFilter;return null==n?void 0:n.forEach((function(e){return t.append("operating_system",e)}))},registeredWithFilter:function(e,t){var n=e.registeredWithFilter;return null==n?void 0:n.forEach((function(e){return t.append("source",e)}))},value:function(e,t){var n=e.value,r=e.filter;return"hostname_or_id"===n&&Boolean(r)&&t.append("hostname_or_id",r)},tagFilters:function(e,t){var n=e.tagFilters;return(null==n?void 0:n.length)>0&&t.append("tags",F()(n,I))},rhcdFilter:function(e,t){var n=e.rhcdFilter;return null==n?void 0:n.forEach((function(e){return t.append(k.Ih,e)}))},updateMethodFilter:function(e,t){var n=e.updateMethodFilter;return null==n?void 0:n.forEach((function(e){return t.append(k.cE,e)}))}},D=function(e,t,n){var r=new URLSearchParams(location.search),a=void 0!==t?t:r.get("page"),i=void 0!==n?n:r.get("per_page");!isNaN(parseInt(a))&&e.append("page",a),!isNaN(parseInt(i))&&e.append("per_page",i)},R=function(e){var t=e.status,n=e.source,a=e.filterbyName,s=e.tagsFilter,c=e.operatingSystem,h=e.rhcdFilter,v=e.updateMethodFilter,g=e.lastSeenFilter,m=e.page,y=e.perPage,O=e.initialLoading,N=e.hasAccess,F=(0,p.useHistory)(),T=(0,A.Z)(),I=(0,o.useRef)(null),R=(0,o.useState)(!1),M=(0,i.Z)(R,2),$=M[0],q=M[1],V=(0,o.useState)({}),H=(0,i.Z)(V,2),z=H[0],G=H[1],U=(0,o.useState)((0,k.h3)(t,n,s,a,c,h,v,g)),B=(0,i.Z)(U,2),K=B[0],W=B[1],J=(0,o.useState)(!1),Q=(0,i.Z)(J,2),Y=Q[0],X=Q[1],ee=(0,o.useState)(),te=(0,i.Z)(ee,2),ne=te[0],re=te[1],ae=(0,k.Mo)(),ie=(0,u.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.rows}),u.shallowEqual),oe=(0,u.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.loaded})),le=(0,u.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.selected})),se=(0,u.useDispatch)(),ce=function(e,t){return se(_.CL(e,t))},ue=function(e,t){W(null==e?void 0:e.filters);var n=new URLSearchParams;!function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){Object.keys(t).forEach((function(n){var r;null==L||null===(r=L[n])||void 0===r||r.call(L,t,e)}))}))}(n,null==e?void 0:e.filters),D(n,null==e?void 0:e.page,null==e?void 0:e.per_page);var r=n.toString();F.push({search:r,hash:location.hash}),t&&t(e)};(0,o.useEffect)((function(){var e;T.updateDocumentTitle("Inventory | Red Hat Insights"),null==T||null===(e=T.hideGlobalFilter)||void 0===e||e.call(T,!1),T.appAction("system-list"),T.appObjectId(),T.on("GLOBAL_FILTER_UPDATE",(function(e){var t,n,r,a,o,l=e.data,s=null==T||null===(t=T.mapGlobalFilter)||void 0===t?void 0:t.call(T,l,!1,!0),c=(0,i.Z)(s,3),u=c[0],p=c[1],d=c[2];re({tags:d,filter:x(x({},null==ne?void 0:ne.filter),{},{system_profile:x(x(x(x(x({},null==ne||null===(n=ne.filter)||void 0===n?void 0:n.system_profile),(null==u||null===(r=u.SAP)||void 0===r?void 0:r.isSelected)&&{sap_system:!0}),u&&(null===(a=u["Ansible Automation Platform"])||void 0===a?void 0:a.isSelected)&&{ansible:"not_nil"}),(null==u||null===(o=u["Microsoft SQL"])||void 0===o?void 0:o.isSelected)&&{mssql:"not_nil"}),(null==p?void 0:p.length)>0&&{sap_sids:p})})})})),se(_.L1()),(y||m)&&se(_.Jr(Array.isArray(m)?m[0]:m,Array.isArray(y)?y[0]:y))}),[]);var pe=function(){return le?le.size:0};return l().createElement(l().Fragment,null,l().createElement(d.Z,{className:"pf-m-light"},l().createElement(f.Z,{title:"Inventory"})),l().createElement(b,null,l().createElement(j.r,{gutter:"md"},l().createElement(w.P,{span:12},l().createElement(Z.e,(0,r.Z)({hasAccess:N,isRbacEnabled:!0,customFilters:{filters:K,globalFilter:ne},isFullView:!0,inventoryRef:I,showTags:!0,onRefresh:ue,hasCheckbox:ae,autoRefresh:!0,initialLoading:O},ae&&{actions:[{title:"Delete",onClick:function(e,t,n){var r=n.id,a=n.display_name;G((function(){return{id:r,displayName:a}})),q((function(){return!0}))}},{title:"Edit",onClick:function(e,t,n){G((function(){return n})),X((function(){return!0}))}}],actionsConfig:{actions:[{label:"Delete",props:{isDisabled:0===pe(),variant:"secondary",onClick:function(){G(Array.from(le.values())),q(!0)}}}]},bulkSelect:{count:pe(),id:"bulk-select-systems",items:[{title:"Select none (0)",onClick:function(){ce(-1,!1)}},x({},oe&&ie&&ie.length>0?{title:"Select page (".concat(ie.length,")"),onClick:function(){ce(0,!0)}}:{})],checked:C(ie,le),onSelect:function(e){ce(0,e)}}},{tableProps:{canSelectAll:!1},onRowClick:function(e,t,n){return F.push("/".concat(t).concat(n?"/".concat(n):""))}}))))),l().createElement(P.Z,{handleModalToggle:q,isModalOpen:$,currentSytems:z,onConfirm:function(){var e,t,n,r;Array.isArray(z)?(t=z.map((function(e){return e.id})),e=z.length>1?"".concat(z.length," systems"):z[0].display_name):(e=z.displayName,t=[z.id]),se((0,S.wN)({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(e," started."),dismissable:!1})),se((r=function(){return ue({filters:K})},(n=_.Ks(t,e)).payload.then(r),n)),q(!1)}}),l().createElement(E.TextInputModal,{title:"Edit display name",isOpen:Y,value:z.display_name,onCancel:function(){return X(!1)},onSubmit:function(e){se(_.$Y(z.id,e)),X(!1)}}))};R.propTypes={status:c().oneOfType([c().arrayOf(c().string),c().string]),source:c().oneOfType([c().arrayOf(c().string),c().string]),operatingSystem:c().oneOfType([c().arrayOf(c().string),c().string]),filterbyName:c().arrayOf(c().string),tagsFilter:c().any,page:c().arrayOf(c().oneOfType([c().string,c().number])),perPage:c().arrayOf(c().oneOfType([c().string,c().number])),initialLoading:c().bool,rhcdFilter:c().oneOfType([c().arrayOf(c().string),c().string]),updateMethodFilter:c().oneOfType([c().arrayOf(c().string),c().string]),lastSeenFilter:c().oneOfType([c().arrayOf(c().string),c().string]),hasAccess:c().bool},R.defaultProps={initialLoading:!0};const M=R},38299:()=>{}}]);
//# sourceMappingURL=../sourcemaps/7345.a2f155b33b63449043d103a8c99184d4.js.map