"use strict";(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[1490],{98436:(e,t,n)=>{n.d(t,{cC:()=>y,CR:()=>h,n4:()=>b,pW:()=>E,vb:()=>O,DJ:()=>w,gk:()=>T});var r=n(45987),a=n(29439),o=n(4942),i=n(36968),l=n.n(i),s=n(57557),c=n.n(s),u=n(66604),p=n.n(u),d=n(81249),f=n(13784),m=["label"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e,t){return l()(e,[t,t],Object.values(v({},e[t])).filter((function(e){return e!==t})).every(Boolean))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return(void 0===t?e:t).reduce((function(t,n){var r=n.split("."),o=(0,a.Z)(r,1)[0];return l()(t,[o,n],e.includes(n)),y(t,o),t}),{})},b=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?(0,d.compare)((0,d.coerce)(e),(0,d.coerce)(t)):(0,d.rcompare)((0,d.coerce)(e),(0,d.coerce)(t))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.values(e).reduce((function(e,t){return Object.entries(t).forEach((function(t){var n=(0,a.Z)(t,2),r=n[0];return n[1]&&r.match(/[0-9]+.[0-9]+/)&&e.push(r)})),e}),[])},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object.entries(e.reduce((function(e,t){var n=t.label,r=t.value,a=r.split(".")[0];return void 0===e[a]&&(e[a]={groupSelectable:!0,label:"RHEL "+a,value:a,type:"checkbox",items:[]}),e[a].items.push({label:n,value:r,type:"checkbox"}),e}),{}));t.sort((function(e,t){return b(e[0],t[0],!1)}));var n=t.map((function(e){return e[1].items.sort((function(e,t){return b(e.value,t.value,!1)})),e[1]}));return n},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=E(e),a=t.filter((function(e){var t=e.value;return n.includes(t)})).map((function(e){return v({name:e.label},(0,r.Z)(e,m))}));return(null==n?void 0:n.length)>0?[{category:"Operating System",type:f.vi,chips:a}]:[]},T=function(e,t,n,r){var a=Object.assign({},t),o=a[n.value][r.value],i=n.value;return r.value===i?a[i]=p()(a[i],(function(){return o})):a[i][i]=Object.values(c()(a[i],i)).every(Boolean),a}},21490:(e,t,n)=>{n.d(t,{g:()=>on});var r=n(87462),a=n(4942),o=n(92950),i=n.n(o),l=n(75662),s=n(32384),c=n(45697),u=n.n(c),p=n(3672),d=n(9947),f=n(38424),m=n(75106),g=n(38779),v=n(47173),y=n(96733),h=n(27361),b=n.n(h),E=function(e,t){t?t():document.referrer&&document.referrer!=="".concat(document.location.origin).concat(document.location.pathname)?history.back():location.href=location.pathname.replace(new RegExp("".concat([e],".*"),"g"),"")},O=function(e,t){return b()(t,e,void 0)},w=function(e){var t=e.inventoryId,n=e.onBackToListClick;return i().createElement(d.u,{variant:d.I.full},i().createElement(f.k,{icon:y.ZP}),i().createElement(g.D,{headingLevel:"h5",size:"lg"},"System not found"),i().createElement(m.B,null,"System with ID ",t," does not exist"),i().createElement(v.zx,{variant:"primary",onClick:function(){return E(t,n)}},"Back to previous page"))};w.propTypes={inventoryId:u().string,onBackToListClick:u().func};const T=w;var P=n(45987),S=n(93433),j=n(29439),D=n(14918),Z=n(35664),F=n(56787),k=n(84457),R=n(99355),I=n(75728),C=n(28191),L=n(92298),_=n(79851),W=n(34512),B=["title"],A=function(e){var t=e.entity,n=e.loaded,a=e.actions,l=e.deleteEntity,c=e.addNotification,u=e.hideInvLink,d=e.onBackToListClick,f=e.showDelete,m=e.showInventoryDrawer,y=e.TitleWrapper,h=e.TagsWrapper,b=e.DeleteWrapper,O=e.ActionsWrapper,w=e.showTags,T=(0,s.useDispatch)(),A=(0,o.useState)(!1),N=(0,j.Z)(A,2),x=N[0],z=N[1],H=(0,o.useState)(!1),M=(0,j.Z)(H,2),U=M[0],G=M[1],V=[].concat((0,S.Z)(u?[]:[{title:"View system in Inventory",component:"a",href:"./insights/inventory/".concat(null==t?void 0:t.id)}]),(0,S.Z)(a||[]));return i().createElement(_.P,{className:"ins-c-inventory__detail--header"},i().createElement(W.J,{isFilled:!0},n?i().createElement(C.k,null,i().createElement(L.B,null,i().createElement(y,null,i().createElement(g.D,{headingLevel:"h1",size:"2xl"},t&&t.display_name))),w&&i().createElement(L.B,null,i().createElement(h,null,i().createElement(D.TagWithDialog,{count:t&&t.tags&&t.tags.length,systemId:t&&t.id}),i().createElement(D.TagsModal,null)))):i().createElement(Z.Z,{size:Z.i.md})),i().createElement(W.J,null,n?i().createElement(C.k,null,f&&i().createElement(L.B,null,i().createElement(b,null,i().createElement(v.zx,{onClick:function(){return G(!0)},variant:"secondary"},"Delete"))),(null==V?void 0:V.length)>0&&i().createElement(L.B,null,i().createElement(O,null,i().createElement(F.L,{onSelect:function(){return z(!1)},toggle:i().createElement(I.Z,{onToggle:function(e){return z(e)}},"Actions"),isOpen:x,position:R.ir.right,dropdownItems:V.map((function(e,t){var n=e.title,a=(0,P.Z)(e,B);return i().createElement(k.h,(0,r.Z)({key:t,component:"button",onClick:function(e){return a.onClick(e,a,a.key||t)}},a),n)}))}))),i().createElement(L.B,null,m&&i().createElement(v.zx,{onClick:function(){return T((0,p.wb)(!0))}},"Show more information"))):i().createElement(Z.Z,{size:Z.i.lg})),U&&i().createElement(D.DeleteModal,{handleModalToggle:function(){return G(!U)},isModalOpen:U,currentSytems:t,onConfirm:function(){c({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t.display_name," started."),dismissable:!1}),l([t.id],t.display_name,(function(){return E(t.id,d)})),G(!1)}}))};A.propTypes={entity:u().object,loaded:u().bool,showDelete:u().bool,hideInvLink:u().bool,showInventoryDrawer:u().bool,showTags:u().bool,actions:u().arrayOf(u().shape({key:u().string,title:u().node,onClick:u().func})),deleteEntity:u().func,addNotification:u().func,onBackToListClick:u().func,TitleWrapper:u().elementType,TagsWrapper:u().elementType,DeleteWrapper:u().elementType,ActionsWrapper:u().elementType},A.defaultProps={actions:[],loaded:!1,hideInvLink:!1,showDelete:!1,showInventoryDrawer:!1,deleteEntity:function(){},addNotification:function(){},onBackToListClick:function(){},TitleWrapper:o.Fragment,TitleWTagsWrapperrapper:o.Fragment,DeleteWrapper:o.Fragment,ActionsWrapper:o.Fragment};const N=A;var x=n(50693),z=n(16475),H=n(62410),M=n(12385),U=n(67882),G=n(96396),V=["entity","loaded","UUIDWrapper","LastSeenWrapper"],K=function(e){var t=e.entity,n=e.loaded,a=(e.UUIDWrapper,e.LastSeenWrapper),o=(0,P.Z)(e,V);return i().createElement(x.r,(0,r.Z)({className:"ins-entity-facts"},o),i().createElement(z.P,{md:6},i().createElement(C.k,null,i().createElement(L.B,null,"UUID:"),i().createElement(L.B,{grow:{default:"grow"}},n?O("id",t)||" ":i().createElement(Z.Z,{size:Z.i.md,fontSize:"sm"}))),i().createElement(C.k,null,i().createElement(L.B,null,"Last seen:"),i().createElement(L.B,{grow:{default:"grow"}},n?i().createElement(a,null,M.Z?i().createElement(M.Z,{culled:O("culled_timestamp",t),staleWarning:O("stale_warning_timestamp",t),stale:O("stale_timestamp",t),currDate:new Date},i().createElement(H.Z,{date:O("updated",t),type:"exact"})):i().createElement(H.Z,{date:O("updated",t),type:"exact"})):i().createElement(Z.Z,{size:Z.i.md,fontSize:"sm"}),n&&(0,G._e)(O("per_reporter_staleness",t))&&i().createElement(U.Z,null)))))};K.propTypes={loaded:u().bool,entity:u().object,UUIDWrapper:u().elementType,LastSeenWrapper:u().elementType},K.defaultProps={UUIDWrapper:o.Fragment,LastSeenWrapper:o.Fragment};const q=K;var J=n(83215),X=n(71002),Y=n(14638),$=n(28883),Q=["onTabSelect","appList"],ee=function(e){var t,n,a=e.onTabSelect,c=e.appList,u=(0,P.Z)(e,Q),d=(0,l.useLocation)().search,f=(0,l.useHistory)(),m=(0,s.useDispatch)(),g=new URLSearchParams(d),v=(0,s.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.activeApps)||[]})).filter((function(e){return!1!==e.isVisible})),y=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.activeApp})),h=(0,s.useSelector)((function(e){var t=e.systemProfileStore;return null==t?void 0:t.disabledApps})),b=(null==y?void 0:y.appName)||(null==c||null===(t=c.find((function(e){var t,n=e.pageId,r=e.name;return(null==v||null===(t=v[0])||void 0===t?void 0:t.name)===(n||r)})))||void 0===t?void 0:t.name)||(null==v||null===(n=v[0])||void 0===n?void 0:n.name),E=c||v,O=(0,o.useState)(E),w=(0,j.Z)(O,2),T=w[0],S=w[1];return(0,o.useEffect)((function(){var e=g.get("appName");e&&m((0,p.Xe)(e))}),[]),(0,o.useEffect)((function(){var e=E.filter((function(e){return!(null!=h&&h.includes(e.name))}));0!==e&&void 0!==(0,X.Z)(e)?S(e):S(E)}),[h]),i().createElement(i().Fragment,null,(null==E?void 0:E.length)>1&&i().createElement(Y.m,(0,r.Z)({},u,{activeKey:b,onSelect:function(e,t){var n=T.find((function(e){return e.name===t}));a?a(e,t,n):(g.set("appName",n.name),f.push({search:g.toString()})),m((0,p.Xe)(n.name))},isFilled:!0,className:"ins-c-inventory-detail__app-tabs"}),null==T?void 0:T.map((function(e,t){return i().createElement($.O,{key:t,eventKey:e.name,title:e.title})}))))};ee.propTypes={appList:u().arrayOf(u().shape({title:u().node,name:u().string.isRequired,pageId:u().string})),onTabSelect:u().func};const te=ee;var ne=n(41448),re=n(68340),ae=n(68774),oe=n(25834),ie=n(78140),le=n(32203),se=n(70),ce=n(49734),ue=n(62394),pe=n(66435);const de=function(){return i().createElement(ne.b,{variant:"info",isInline:!0,title:"Your insights-client is not reporting"},i().createElement(x.r,null,i().createElement(z.P,null,i().createElement(x.r,{hasGutter:!0},i().createElement(z.P,{span:4},i().createElement(ae.D,{style:{"--pf-c-content--LineHeight":"1","--pf-c-content--FontSize":"0.9rem"}},i().createElement(re.x,{component:re.q.p},"With Insights you can easly:"),i().createElement(oe.G,{component:"ul",style:{"--pf-c-content--ul--PaddingLeft":"0","--pf-c-content--ul--MarginLeft":"1rem"}},i().createElement(ie.T,null,"Optimize your IT Operations"),i().createElement(ie.T,null,"Manage your security and compliance"),i().createElement(ie.T,null,"Resolve operational issues quickly")))),i().createElement(z.P,{span:4},i().createElement(le.Z,{isCompact:!0},i().createElement(se.l,null,"Client setup"),i().createElement(ue.e,null,"Make sure the client is properly installed and registered"),i().createElement(ce.e,null,i().createElement(pe.M5,{isCode:!0,isReadOnly:!0,variant:"expansion"},"yum install -y insights-client \ninsights-client --register")))),i().createElement(z.P,{span:4},i().createElement(le.Z,{isCompact:!0,style:{height:"100%"}},i().createElement(se.l,null,"Configure troubleshooting"),i().createElement(ue.e,null,"Proceed with verification on the client to ensure insights-client is properly running and collecting data"),i().createElement(ce.e,null,i().createElement(v.zx,{component:"a",target:"_blank",variant:"link",href:"https://access.redhat.com/solutions/6758841",isInline:!0},"Host not reporting data to Red Hat Insights")))))),i().createElement(z.P,null,i().createElement(v.zx,{component:"a",target:"_blank",variant:"link",href:"https://console.redhat.com/security/insights",isInline:!0},"How does Red Hat keep data secure?"))))};var fe=function(e){var t=e.actions,n=e.showTags,r=e.hideInvLink,a=e.onTabSelect,c=e.onBackToListClick,u=e.showDelete,d=e.appList,f=e.showInventoryDrawer,m=e.UUIDWrapper,g=e.LastSeenWrapper,v=e.TitleWrapper,y=e.TagsWrapper,h=e.DeleteWrapper,b=e.ActionsWrapper,E=e.children,O=(0,l.useParams)().inventoryId,w=(0,s.useDispatch)(),P=(0,s.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.loaded)||!1})),S=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity}));return(0,o.useEffect)((function(){var e=O||location.pathname.replace(/\/$/,"").split("/").pop();S&&(null==S?void 0:S.id)===e&&P||w((0,p.A_)(e,{hasItems:!0},{showTags:n}))}),[]),i().createElement("div",{className:"ins-entity-detail"},P&&!S?i().createElement(T,{onBackToListClick:c,inventoryId:location.pathname.split("/")[location.pathname.split("/").length-1]}):i().createElement(o.Fragment,null,i().createElement(N,{entity:S,loaded:P,onBackToListClick:c,actions:t,deleteEntity:function(e,t,n){var r=(0,p.Ks)(e,t);w((0,D.reloadWrapper)(r,n))},addNotification:function(e){return w((0,J.wN)(e))},hideInvLink:r,showInventoryDrawer:f,showDelete:u,showTags:n,TitleWrapper:v,TagsWrapper:y,DeleteWrapper:h,ActionsWrapper:b}),i().createElement(q,{loaded:P,entity:S,UUIDWrapper:m,LastSeenWrapper:g}),P&&(0,G._e)(null==S?void 0:S.per_reporter_staleness)&&i().createElement(de,null),E),P&&S&&i().createElement(te,{onTabSelect:a,appList:d}))};fe.propTypes={hideInvLink:u().bool,hideBack:u().bool,showTags:u().bool,showDelete:u().bool,showInventoryDrawer:u().bool,actions:u().arrayOf(u().shape({title:u().node,onClick:u().func,key:u().string})),appList:u().arrayOf(u().shape({title:u().node,name:u().string,pageId:u().string})),onTabSelect:u().func,onBackToListClick:u().func,children:u().node,UUIDWrapper:u().elementType,LastSeenWrapper:u().elementType,TitleWrapper:u().elementType,TagsWrapper:u().elementType,DeleteWrapper:u().elementType,ActionsWrapper:u().elementType},fe.defaultProps={actions:[],hideInvLink:!1,showTags:!1,UUIDWrapper:o.Fragment,LastSeenWrapper:o.Fragment,TitleWrapper:o.Fragment,TagsWrapper:o.Fragment,DeleteWrapper:o.Fragment,ActionsWrapper:o.Fragment};const me=fe;var ge=function(e){var t=e.componentMapper,n=e.appList,r=(0,s.useStore)(),a=(0,l.useLocation)().search,c=new URLSearchParams(a),u=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded})),p=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),d=(0,s.useSelector)((function(e){var t,r,a,o=e.entityDetails;if(null!=o&&o.loaded)return(null===(t=n||(null==o?void 0:o.activeApps))||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(function(e){var t;return(null==e?void 0:e.name)===(c.get("appName")||(null==o||null===(t=o.activeApp)||void 0===t?void 0:t.appName))})))||(null==o||null===(a=o.activeApps)||void 0===a?void 0:a[0])})),f=t||(null==d?void 0:d.component);return!0!==u||p?i().createElement(o.Fragment,null,u?d&&i().createElement("div",{className:"ins-active-app-".concat(null==d?void 0:d.name)},f?i().createElement(f,{store:r,inventoryId:null==p?void 0:p.id,appName:null==d?void 0:d.name}):"missing component"):i().createElement(Z.Z,{size:Z.i.md})):null};ge.propTypes={componentMapper:u().element,appList:u().arrayOf(u().shape({title:u().node,name:u().string,pageId:u().string}))};const ve=ge,ye=function(e){return i().createElement(o.Fragment,null,i().createElement(me,e),i().createElement(ve,e))};var he=n(5436),be=n(16941),Ee=n(34241),Oe=n(16537),we=n(29821),Te=n(76770),Pe=n(58409),Se=n(28985),je=n(49739),De=n(83826),Ze=n(71710),Fe=n(21039),ke=function(e){var t=e.hideInvLink,n=e.showTags,r=(0,s.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.display_name})),a=(0,s.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),o=(0,s.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.tags}));return i().createElement(je.K,{hasGutter:!0},i().createElement(De.v,null,i().createElement(_.P,null,i().createElement(W.J,{isFilled:!0},i().createElement(g.D,{headingLevel:"h3",size:"xl"},r)),!t&&i().createElement(W.J,null,i().createElement("a",{className:"ins-c-entity-detail__inv-link",href:"./insights/inventory/".concat(a)},"Open in Inventory")))),n&&i().createElement(De.v,null,i().createElement(_.P,{hasGutter:!0},i().createElement(W.J,null,"Tags:"),i().createElement(W.J,null,i().createElement(Fe.Z,null,0!==(null==o?void 0:o.length)?null==o?void 0:o.map((function(e,t){return i().createElement(Ze.A,{key:t,isReadOnly:!0},(null==e?void 0:e.namespace)&&"".concat(null==e?void 0:e.namespace,"/"),null==e?void 0:e.key,(null==e?void 0:e.value)&&"=".concat(null==e?void 0:e.value))})):"No tags")))))};ke.propTypes={hideInvLink:u().bool,showTags:u().bool},ke.defaultProps={hideInvLink:!1,showTags:!1};const Re=ke;var Ie=n(86487),Ce=n(86050),Le=n(52653),_e=n(80971),We=n(19210),Be=function(e){var t,n,r,a,l,c,u,d,f,m,v=e.isOpened,y=(0,s.useDispatch)(),h=(0,s.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),b=(0,s.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.advisor})),E=(0,s.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.compliance})),O=(0,s.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.cve})),w=(0,s.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.patch}));return(0,o.useEffect)((function(){h&&v&&(y((0,p.gb)(h)),y((0,p.Oj)(h)),y((0,p.k0)(h)),y((0,p.Fo)(h)))}),[h,v]),i().createElement(je.K,{hasGutter:!0,className:"ins-c-inventory__drawer-system-issues"},i().createElement(De.v,null,i().createElement(g.D,{headingLevel:"h4",size:"lg"},"Top system issues")),i().createElement(De.v,null,i().createElement(Ie.a,null,i().createElement(Ce.Z,null,i().createElement(je.K,{hasGutter:!0},i().createElement(De.v,{className:"ins-c-inventory__drawer--title"},"Applicable CVEs"),i().createElement(De.v,null,null!=O&&O.isLoaded?i().createElement(Ie.a,{hasGutter:!0,className:"ins-c-inventory__drawer-cve"},i().createElement(Ce.Z,{className:"ins-m-critical"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=7")},(null==O||null===(t=O.critical)||void 0===t?void 0:t.count)||0," critical")),i().createElement(Ce.Z,{className:"ins-m-important"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=5")},(null==O||null===(n=O.important)||void 0===n?void 0:n.count)||0," important")),i().createElement(Ce.Z,{className:"ins-m-moderate"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=4")},(null==O||null===(r=O.moderate)||void 0===r?void 0:r.count)||0," moderate")),i().createElement(Ce.Z,{className:"ins-m-low"},i().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=2")},(null==O||null===(a=O.low)||void 0===a?void 0:a.count)||0," low"))):i().createElement(Z.Z,{size:Z.i.md})))),i().createElement(Ce.Z,null,i().createElement(je.K,{hasGutter:!0},i().createElement(De.v,{className:"ins-c-inventory__drawer--title"},"Applicable advisories"),i().createElement(De.v,null,null!=w&&w.isLoaded?i().createElement(Ie.a,{hasGutter:!0,className:"ins-c-inventory__drawer-patch"},i().createElement(Ce.Z,null,i().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=2")},i().createElement(Le.ZP,null)," ",null==w||null===(l=w.bug)||void 0===l?void 0:l.count)),i().createElement(Ce.Z,{className:"ins-m-moderate"},i().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=3")},i().createElement(We.ZP,null)," ",null==w||null===(c=w.security)||void 0===c?void 0:c.count)),i().createElement(Ce.Z,null,i().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=1")},i().createElement(_e.ZP,null)," ",null==w||null===(u=w.enhancement)||void 0===u?void 0:u.count))):i().createElement(Z.Z,{size:Z.i.md})))))),i().createElement(De.v,null,null!=b&&b.isLoaded?i().createElement("span",null,i().createElement("span",{className:"ins-m-critical"},(null==b||null===(d=b.criticalCount)||void 0===d?void 0:d.length)||0," critical")," recommendations in ",i().createElement("a",{href:"./insights/advisor/systems/".concat(h)},"Advisor")):i().createElement(Z.Z,{size:Z.i.md})),null!=E&&E.isLoaded?(null==E?void 0:E.profiles)&&i().createElement("span",null,"System above compliance threshold for ",i().createElement("a",{href:"./insights/compliance/reports/"},null==E||null===(f=E.profiles)||void 0===f?void 0:f.length," ",(null==E||null===(m=E.profiles)||void 0===m?void 0:m.length)>1?"policies":"policy")):i().createElement(Z.Z,{size:Z.i.md}))};Be.propTypes={isOpened:u().bool};const Ae=Be;var Ne=["children","hideInvLink","showTags","Wrapper","className","appName"],xe=function(e){var t=e.children,n=e.hideInvLink,a=e.showTags,o=e.Wrapper,l=e.className,c=e.appName,u=(0,P.Z)(e,Ne),d=(0,s.useDispatch)(),f=(0,s.useStore)(),m=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),g=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.isToggleOpened})),v=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded}));return i().createElement(he.dy,(0,r.Z)({className:"ins-c-inventory__drawer ".concat(l||""),isExpanded:g,onExpand:function(){return d((0,p.wb)(!0))}},u),i().createElement(Ee.s,{panelContent:i().createElement(be.S,null,i().createElement(Pe.h,null,i().createElement(Re,{hideInvLink:n,showTags:a}),i().createElement(Te.x,null,i().createElement(Se.c,{onClick:function(){return d((0,p.wb)(!1))}}))),i().createElement(we.F,null,i().createElement(je.K,{className:"ins-c-inventory__drawer--content"},i().createElement(De.v,null,i().createElement(Ae,{isOpened:g})),i().createElement(De.v,{isFilled:!0,className:"ins-c-inventory__drawer--facts"},i().createElement(q,{entity:m,loaded:v}),g&&v&&o&&i().createElement(o,{store:f,appName:c})))))},i().createElement(Oe.s,null,t)))};xe.propTypes={children:u().any,hideInvLink:u().bool,showTags:u().bool,appName:u().oneOf(["general_information","advisor","insights","compliance","vulnerabilities","patch"]),className:u().string,Wrapper:u().elementType},xe.defaultProps={appName:"general_information"};const ze=xe;var He=n(454),Me=n(68595),Ue=n(84506),Ge=n(76566),Ve=n.n(Ge),Ke=n(3474),qe=n(81945),Je=n(7887),Xe=n(13784),Ye=n(23279),$e=n.n(Ye),Qe=n(56645),et=n(85564),tt=n.n(et),nt=n(13718),rt=["actions","expandable","noSystemsTable"],at=["props","transforms","cellFormatters"];function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e,t,n){return t.map((function(t){var r=t.key,a=t.composed,l=t.renderFunc,s=a?i().createElement(o.Fragment,null,(0,nt.Z)(a.map((function(t){return b()(e,t," ")})),e.id,e,n)):b()(e,r," ");return l?i().createElement(o.Fragment,null,l(s,e.id,e,n)):s}))},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.actions,a=n.expandable,o=n.noSystemsTable,i=(0,P.Z)(n,rt);return 0===e.length?[{cells:[{title:o,props:{colSpan:t.length+Boolean(r),dataLabel:null}}]}]:tt()(e.map((function(e,n){return[it(it(it({},e),e.children&&a&&{isOpen:!!e.isOpen}),{},{cells:lt(e,t,i),actionProps:{"data-ouia-component-id":"".concat(e.id,"-actions-kebab")}}),e.children&&a&&{cells:[{title:"function"==typeof e.children?e.children():e.children}],parent:2*n,fullWidth:!0}]}))).filter(Boolean)},ct=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{},a=r.value;return n.filter((function(e){return e!==a}))},ut=function(e){return null==e?void 0:e.reduce((function(e,t){return e||t.toString().includes("onSort:")}),!1)},pt=n(98516),dt=n(7314),ft=["total","page","perPage","filterConfig","hasItems","children","actionsConfig","activeFiltersConfig","showTags","getTags","items","sortBy","customFilters","hasAccess","bulkSelect","hideFilters","paginationProps","onRefreshData","loaded","showTagModal"];function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(e){var t,n=e.total,l=e.page,c=e.perPage,u=e.filterConfig,d=e.hasItems,f=e.children,m=e.actionsConfig,g=e.activeFiltersConfig,v=e.showTags,y=e.getTags,h=e.items,b=e.sortBy,E=e.customFilters,O=e.hasAccess,w=e.bulkSelect,T=e.hideFilters,F=e.paginationProps,k=e.onRefreshData,R=e.loaded,I=e.showTagModal,C=(0,P.Z)(e,ft),L=(0,s.useDispatch)(),_=(0,o.useReducer)((0,pt.filtersReducer)([pt.textFilterReducer,pt.stalenessFilterReducer,pt.registeredWithFilterReducer,Ke.sr,pt.operatingSystemFilterReducer]),gt(gt(gt(gt(gt({},pt.textFilterState),pt.stalenessFilterState),pt.registeredWithFilterState),Ke.Yn),pt.operatingSystemFilterState)),W=(0,s.useSelector)((function(e){return e.entities.activeFilters})),B=(0,s.useSelector)((function(e){return e.entities.allTagsLoaded})),A=(0,s.useSelector)((function(e){return e.entities.allTags})),N=(0,s.useSelector)((function(e){return e.entities.additionalTagsCount})),x=(0,pt.useTextFilter)(_),z=(0,j.Z)(x,4),H=z[0],M=z[1],U=z[2],G=z[3],V=(0,pt.useStalenessFilter)(_),K=(0,j.Z)(V,4),q=K[0],J=K[1],X=K[2],Y=K[3],$=(0,pt.useRegisteredWithFilter)(_),Q=(0,j.Z)($,4),ee=Q[0],te=Q[1],ne=Q[2],re=Q[3],ae=(0,dt.ZP)(),oe=(0,j.Z)(ae,4),ie=oe[0],le=oe[1],se=oe[2],ce=oe[3],ue=(0,pt.useTagsFilter)(A,B,N,(function(){return L((0,p.Ar)(!0))}),_),pe=ue.tagsFilter,de=ue.tagsChip,fe=ue.selectedTags,me=ue.setSelectedTags,ge=ue.filterTagsBy,ve=ue.seFilterTagsBy,ye=(0,o.useCallback)($e()((function(e,t){v&&!d&&O&&L((0,p.C8)(e,gt({},null==t?void 0:t.pagination),y))}),800),[null==E?void 0:E.tags]),he={name:!(T.all&&!1!==T.name||T.name),stale:!(T.all&&!1!==T.stale||T.stale),registeredWith:!(T.all&&!1!==T.registeredWith||T.registeredWith),operatingSystem:!(T.all&&!1!==T.operatingSystem||T.operatingSystem),tags:!(T.all&&!1!==T.tags||T.tags)},be=(0,o.useCallback)((function(e){O&&(k(e),v&&!d&&L((0,p.C8)(ge,{},y)))}),[null==E?void 0:E.tags]),Ee=function(e){O&&be(e)},Oe=(0,o.useCallback)($e()((function(e){return Ee(e)}),800),[null==b?void 0:b.key,null==b?void 0:b.direction]);(0,o.useEffect)((function(){var e=(0,D.reduceFilters)(W),t=e.textFilter,n=e.tagFilters,r=e.staleFilter,a=e.registeredWithFilter,o=e.osFilter;Oe(),he.name&&G(t),he.stale&&Y(r),he.registeredWith&&re(a),he.tags&&me(n),he.operatingSystem&&ce(o)}),[]);var we=function(e,t,n){var r=[].concat((0,S.Z)(null==W?void 0:W.filter((function(e){return!Object.prototype.hasOwnProperty.call(e,t)}))),[(0,a.Z)({},t,e)]);n({page:1,perPage:c,filters:r})},Te=l&&c&&W&&(!d||h);(0,o.useEffect)((function(){Te&&v&&he.tags&&ye(ge)}),[ge,null==E?void 0:E.tags]),(0,o.useEffect)((function(){Te&&he.name&&function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.trim(),r=null==W?void 0:W.find((function(e){return e.value===D.TEXT_FILTER}));r?r.filter=n:null==W||W.push({value:D.TEXT_FILTER,filter:n}),(t?Oe:Ee)({page:1,perPage:c,filters:W})}(U,!0)}),[U]),(0,o.useEffect)((function(){Te&&he.stale&&we(X,"staleFilter",Oe)}),[X]),(0,o.useEffect)((function(){Te&&he.registeredWith&&we(ne,"registeredWithFilter",Oe)}),[ne]),(0,o.useEffect)((function(){Te&&v&&he.tags&&we((0,qe.Nc)(fe),"tagFilters",Oe)}),[fe]),(0,o.useEffect)((function(){Te&&he.operatingSystem&&we(se,"osFilter",Oe)}),[se]);var Pe=(t={},(0,a.Z)(t,D.TEXTUAL_CHIP,(function(){return G("")})),(0,a.Z)(t,D.TAG_CHIP,(function(e){return me(function(e,t,n){var r,a,o=null==e||null===(r=e.chips)||void 0===r?void 0:r[0];return void 0!==(null==t||null===(a=t[null==e?void 0:e.key])||void 0===a?void 0:a[null==o?void 0:o.key])&&(t[null==e?void 0:e.key][null==o?void 0:o.key]=!1),n&&n(t),t}(e,fe,(function(e){return we((0,qe.Nc)(e),"tagFilters",Ee)})))})),(0,a.Z)(t,D.STALE_CHIP,(function(e){return Y(ct(e,X))})),(0,a.Z)(t,D.REGISTERED_CHIP,(function(e){return re(ct(e,ne))})),(0,a.Z)(t,D.OS_CHIP,(function(e){return ce(Ve()(se,e.chips.map((function(e){return e.value}))))})),t),Se=[].concat((0,S.Z)(d?[]:[].concat((0,S.Z)(he.name?[H]:[]),(0,S.Z)(he.stale?[q]:[]),(0,S.Z)(he.operatingSystem?[ie]:[]),(0,S.Z)(he.registeredWith?[ee]:[]),(0,S.Z)(v&&he.tags?[pe]:[]))),(0,S.Z)((null==u?void 0:u.items)||[]));return i().createElement(o.Fragment,null,i().createElement(Je.Z,(0,r.Z)({},C,w&&{bulkSelect:gt(gt({},w),{},{isDisabled:(null==w?void 0:w.isDisabled)||!O})},{className:"ins-c-inventory__table--toolbar ".concat(d||!Se.length?"ins-c-inventory__table--toolbar-has-items":"")},(null==Se?void 0:Se.length)>0&&{filterConfig:gt(gt({},u||{}),{},{isDisabled:!O,items:null==Se?void 0:Se.map((function(e){var t,n;return gt(gt({},e),{},{filterValues:gt(gt({placeholder:(null==e||null===(t=e.filterValues)||void 0===t?void 0:t.placeholder)||"Filter by ".concat(null==e||null===(n=e.label)||void 0===n?void 0:n.toLowerCase())},null==e?void 0:e.filterValues),{},{isDisabled:!O})})}))})},O&&{activeFiltersConfig:gt(gt({},g||{}),{},{filters:[].concat((0,S.Z)(v&&!d&&he.tags?de:[]),(0,S.Z)(!d&&he.name?M:[]),(0,S.Z)(!d&&he.stale?J:[]),(0,S.Z)(!d&&he.registeredWith?te:[]),(0,S.Z)(!d&&he.operatingSystem?le:[]),(0,S.Z)((null==g?void 0:g.filters)||[])),onDelete:function(e,t,n){var r,a=(0,Ue.Z)(t),o=a[0],i=a.slice(1);n?(L((0,p.K5)()),he.name&&G(""),he.stale&&Y(Xe.js.staleFilter),he.registeredWith&&re([]),he.tags&&me({}),he.operatingSystem&&ce([]),L((0,p.Tv)([Xe.js])),Ee({page:1,filters:[Xe.js]})):null===(r=Pe[o.type])||void 0===r||r.call(Pe,o),g&&g.onDelete&&g.onDelete(e,[o].concat((0,S.Z)(i)),n,Xe.js)}})},{actionsConfig:R?m:null,pagination:R?gt({page:l,itemCount:O?n:0,isDisabled:!O,perPage:c,onSetPage:function(e,t){return k({page:t})},onPerPageSelect:function(e,t){return k({page:1,per_page:t})}},F):i().createElement(Z.Z,{size:Z.i.lg})}),f),(v||he.tags||I)&&i().createElement(D.TagsModal,{filterTagsBy:ge,onApply:function(e){return me((0,D.arrayToSelection)(e))},onToggleModal:function(){return ve("")},getTags:y}))};vt.propTypes={showTags:u().bool,getTags:u().func,hasAccess:u().bool,filterConfig:u().object,total:u().number,hasItems:u().bool,page:u().number,onClearFilters:u().func,toggleTagModal:u().func,perPage:u().number,children:u().node,pagination:u().shape({page:u().number,perPage:u().number}),actionsConfig:u().object,activeFiltersConfig:u().object,onRefreshData:u().func,customFilters:u().shape({tags:u().oneOfType([u().object,u().arrayOf(u().string)])}),hideFilters:u().shape({tags:u().bool,name:u().bool,registeredWith:u().bool,stale:u().bool,operatingSystem:u().bool,all:u().bool}),paginationProps:u().object,loaded:u().bool,onRefresh:u().func,hasCheckbox:u().bool,isLoaded:u().bool,items:u().array,sortBy:u().object,bulkSelect:u().object,showTagModal:u().bool,disableDefaultColumns:u().any},vt.defaultProps={showTags:!1,hasAccess:!0,activeFiltersConfig:{},hideFilters:{}};const yt=vt;var ht=n(65550),bt=n(2443),Et=n(1284),Ot=n(81739);const wt=function(){return i().createElement(d.u,{variant:d.I.full},i().createElement(g.D,{headingLevel:"h5",size:"lg"},"No matching systems found"),i().createElement(m.B,null,"To continue, edit your filter settings and search again."))};var Tt,Pt=n(21216);function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?St(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt=function(e){var t=e.hasItems,n=e.expandable,a=e.onExpandClick,c=e.hasCheckbox,u=e.actions,d=e.variant,f=e.sortBy,m=e.tableProps,g=e.onSort,v=e.expandable,y=e.onRowClick,h=e.noDetail,b=e.noSystemsTable,E=void 0===b?i().createElement(wt,null):b,O=e.showTags,w=e.columns,T=e.disableDefaultColumns,j=e.loaded,D=e.columnsCounter,Z=(0,s.useDispatch)(),F=(0,l.useHistory)(),k=(0,l.useLocation)(),R=(0,s.useSelector)((function(e){return e.entities.rows})),I=(0,s.useSelector)((function(e){return e.entities.columns}),(function(e,t){return e.every((function(e,n){var r=e.key;return t.findIndex((function(e){return e.key===r}))===n}))})),C=(0,o.useMemo)((function(){if("function"==typeof w)return w((0,Pt.y5)());if(w){var e=Array.isArray(T)?T:[],t=(0,Pt.y5)().filter((function(t){var n=t.key;return"tags"===n&&O||"tags"!==n&&!e.includes(n)}));return(0,Et.mergeArraysByKey)(["boolean"==typeof T&&T?[]:t,w],"key")}return I}),[O,Array.isArray(T)?T.join():T,Array.isArray(w)?w.map((function(e){return e.key})).join():"function"==typeof w?"function":w,Array.isArray(I)?I.map((function(e){return e.key})).join():I,D]),L=j&&function(e,t,n,r){return null==e?void 0:e.map((function(e){var a=e.props,o=e.transforms,i=e.cellFormatters;return it(it({},(0,P.Z)(e,at)),{},{transforms:[].concat((0,S.Z)(o||[]),(0,S.Z)(null!=a&&a.width?[(0,Qe.cellWidth)(a.width)]:[]),(0,S.Z)(t||n.length<=0||a&&a.isStatic||null!=o&&o.includes(Qe.sortable)||ut(o)?[]:[Qe.sortable])),cellFormatters:[].concat((0,S.Z)(i||[]),(0,S.Z)(r?[Qe.expandable]:[]))})}))}(C,t,R,v);return delete m.RowWrapper,0===(null==R?void 0:R.length)&&delete m.actionResolver,i().createElement(i().Fragment,null,j&&L?Qe.Table&&i().createElement(Qe.Table,(0,r.Z)({variant:d,"aria-label":"Host inventory",cells:L,rows:st(R,C,{actions:u,expandable:n,loaded:j,onRowClick:y||function(e,t){F.push("".concat(k.pathname).concat("/"===k.pathname.slice(-1)?"":"/").concat(t))},noDetail:h,sortBy:f,noSystemsTable:E}),gridBreakPoint:(null==C?void 0:C.length)>5?Qe.TableGridBreakpoint.gridLg:Qe.TableGridBreakpoint.gridMd,className:"ins-c-entity-table",onSort:function(e,t,r){var a,o;!function(e,t,n,r){"action"!==t&&"health"!==t&&Z((0,p.HD)({index:r,key:t,direction:n})),null==g||g({index:r,key:t,direction:n})}(0,(null==L||null===(a=L[t-Boolean(c)-Boolean(n)])||void 0===a?void 0:a.sortKey)||(null==L||null===(o=L[t-Boolean(c)-Boolean(n)])||void 0===o?void 0:o.key),r,t)},sortBy:{index:(null==L?void 0:L.findIndex((function(e){return(null==f?void 0:f.key)===e.key||"operating_system"===(null==f?void 0:f.key)&&"system_profile"===e.key})))+Boolean(c)+Boolean(n),direction:null==f?void 0:f.direction}},jt(jt(jt({},c&&0!==(null==R?void 0:R.length)?{onSelect:function(e,t,n){var r=v?R[n/2]:R[n];Z((0,p.CL)(-1===n?0:r.id,t))}}:{}),n?{onCollapse:a}:{}),u&&(null==R?void 0:R.length)>0&&{actions:u}),{isStickyHeader:!0},m),i().createElement(Qe.TableHeader,null),i().createElement(Qe.TableBody,null)):i().createElement(Ot.Z,{colSize:(null==C?void 0:C.length)||3,rowSize:15,variant:null!=d?d:m.variant}))};Dt.propTypes={variant:u().oneOf(["compact"]),expandable:u().bool,onExpandClick:u().func,onSort:u().func,hasCheckbox:u().bool,showActions:u().bool,hasItems:u().bool,showHealth:u().bool,sortBy:u().shape({key:u().string,direction:u().oneOf(["asc","desc"])}),tableProps:u().shape((Tt={},(0,a.Z)(Tt,u().string,u().any),(0,a.Z)(Tt,"RowWrapper",u().elementType),(0,a.Z)(Tt,"variant",u().string),(0,a.Z)(Tt,"actionResolver",u().func),Tt)),onRowClick:u().func,showTags:u().bool,noSystemsTable:u().node,disableDefaultColumns:u().oneOfType([u().bool,u().arrayOf(u().string)]),loaded:u().bool,columnsCounter:u().number,columns:u().oneOfType([u().array,u().func]),isLoaded:u().bool,actions:u().array,noDetail:u().any},Dt.defaultProps={loaded:!1,showHealth:!1,expandable:!1,hasCheckbox:!0,showActions:!1,rows:[],variant:Qe.TableVariant.compact,onExpandClick:function(){},tableProps:{}};const Zt=Dt;var Ft=n(18446),kt=n.n(Ft),Rt=n(85333),It=n(75824),Ct=["title","description"],Lt=function(e){var t=e.title,n=e.description,a=(0,P.Z)(e,Ct);return i().createElement(Rt.Z,(0,r.Z)({},a,{className:"ins-c-inventory__no--access",title:t,description:i().createElement(It.u,{content:"inventory:*:read"},n)}))};Lt.propTypes={title:u().string,description:u().node},Lt.defaultProps={title:"You do not have access to Inventory",description:i().createElement("div",null,"To view your systems, you must be granted inventory access from your Organization Administrator.")};const _t=Lt;var Wt=["children","isOpen"],Bt=["showHealth","onRefreshData","ignoreRefresh"],At=["hasAccess","onRefreshData"];function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=function(e){return e.children,e.isOpen,(0,P.Z)(e,Wt)},Ht=function(e){e.showHealth;var t=e.onRefreshData,n=e.ignoreRefresh,a=(0,P.Z)(e,Bt),l=(0,o.useRef)(a.items),s=(0,o.useRef)(a.sortBy);return(0,o.useEffect)((function(){a.hasItems&&t({},n)}),[]),(0,o.useEffect)((function(){a.hasItems&&!kt()(l.current.map(zt),a.items.map(zt))&&(l.current=a.items,t({},n)),a.hasItems||kt()(s.current,a.sortBy)||(s.current=a.sortBy,t({},n))})),i().createElement(x.r,{gutter:"sm",className:"ins-inventory-list"},i().createElement(z.P,{span:12},i().createElement(Zt,(0,r.Z)({},a,{onRefreshData:t}))))},Mt=i().forwardRef((function(e,t){var n=e.hasAccess,a=e.onRefreshData,o=(0,P.Z)(e,At),l=(0,s.useSelector)((function(e){return e.entities.activeFilters}));return t&&(t.current={onRefreshData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(e,t)}}),n?i().createElement(Ht,(0,r.Z)({},o,{activeFilters:l,onRefreshData:a})):i().createElement("div",{className:"ins-c-inventory__no-access"},i().createElement(_t,{showReturnButton:!1}))}));Ht.propTypes=xt(xt({},Mt.propTypes),{},{setRefresh:u().func,onRefreshData:u().func,ignoreRefresh:u().bool}),Ht.defaultProps={perPage:50,page:1,ignoreRefresh:!0},Mt.propTypes={showTags:u().bool,filterEntities:u().func,loadEntities:u().func,showHealth:u().bool,page:u().number,perPage:u().number,sortBy:u().shape({key:u().string,direction:u().string}),items:u().arrayOf(u().oneOfType([u().string,u().shape({id:u().string.isRequired}),u().shape({account:u().any,isOpen:u().bool,title:u().node})])),entities:u().arrayOf(u().any),customFilters:u().shape({tags:u().oneOfType([u().object,u().arrayOf(u().string)])}),getEntities:u().func,hideFilters:u().shape({tags:u().bool,name:u().bool,registeredWith:u().bool,stale:u().bool,operatingSystem:u().bool}),onRefreshData:u().func},Mt.defaultProps={hasAccess:!0};const Ut=Mt;var Gt=n(44733),Vt=function(e){var t=e.total,n=e.page,a=e.perPage,o=e.direction,l=e.isFull,s=e.hasAccess,c=e.paginationProps,u=e.onRefreshData;return e.loaded||!s?i().createElement(Gt.t,(0,r.Z)({},l&&{variant:Gt.a.bottom},{isDisabled:!s,itemCount:t,page:n,perPage:a,dropDirection:o,onSetPage:function(e,t){return u({page:t})},onPerPageSelect:function(e,t){return u({page:1,per_page:t})}},c)):null};Vt.propTypes={perPage:u().number,total:u().number,page:u().number,isFull:u().bool,hasAccess:u().bool,direction:u().string,paginationProps:u().object,loaded:u().bool,onRefreshData:u().func.isRequired},Vt.defaultProps={total:0,isFull:!1,direction:"up",hasAccess:!0};const Kt=Vt;var qt=["onRefresh","children","inventoryRef","items","total","page","perPage","showTags","sortBy","customFilters","hasAccess","isFullView","getEntities","getTags","hideFilters","paginationProps","errorState","autoRefresh","isLoaded","initialLoading","ignoreRefresh","showTagModal"];function Jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jt(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Yt=(0,o.forwardRef)((function(e,t){var n=e.onRefresh,a=e.children,l=(e.inventoryRef,e.items),c=e.total,u=e.page,d=e.perPage,f=e.showTags,m=e.sortBy,g=e.customFilters,v=e.hasAccess,y=void 0===v||v,h=e.isFullView,b=void 0!==h&&h,E=e.getEntities,O=e.getTags,w=e.hideFilters,T=e.paginationProps,S=e.errorState,Z=void 0===S?i().createElement(bt.Z,null):S,F=e.autoRefresh,k=e.isLoaded,R=e.initialLoading,I=e.ignoreRefresh,C=e.showTagModal,L=(0,P.Z)(e,qt),_=Boolean(l),W=(0,s.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.error})),B=(0,s.useSelector)((function(e){var t=e.entities.page;return _?u:t||1}),s.shallowEqual),A=(0,s.useSelector)((function(e){var t=e.entities.perPage;return _?d:t||50}),s.shallowEqual),N={page:B,perPage:A,total:(0,s.useSelector)((function(e){var t=e.entities.total;return _?void 0!==c?c:null==l?void 0:l.length:t}),s.shallowEqual)},x=(0,s.useSelector)((function(e){var t=e.entities.sortBy;return _?m:t}),s.shallowEqual),z=(0,s.useSelector)((function(e){var t=e.entities;return _&&void 0!==k?k&&(null==t?void 0:t.loaded):null==t?void 0:t.loaded})),H=(0,o.useState)(R),M=(0,j.Z)(H,2),U=M[0],G=M[1];(0,o.useEffect)((function(){z||G()}),[z]);var V=z&&!U,K=(0,s.useDispatch)(),q=(0,s.useStore)(),J=(0,o.useRef)(function(){var e={};return{updateProps:function(t){e=t},getProps:function(){return e}}}());J.current.updateProps({page:B,perPage:A,items:l,sortBy:x,hideFilters:w,showTags:f,getEntities:E,customFilters:g,hasItems:_});var X=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=q.getState().entities.activeFilters,o=(null===(e=J.current)||void 0===e?void 0:e.getProps())||{},i=(null==t?void 0:t.per_page)||(null==t?void 0:t.perPage)||o.perPage,l=Xt(Xt({page:o.page,per_page:i,items:o.items,sortBy:o.sortBy,hideFilters:o.hideFilters,filters:a,hasItems:o.hasItems},o.customFilters),t);n&&!r?(K((0,p.nE)()),n(l,(function(e){K((0,D.loadSystems)(Xt(Xt({},l),e),o.showTags,o.getEntities))}))):K((0,D.loadSystems)(l,o.showTags,o.getEntities))},Y=(0,o.useRef)(g);return(0,o.useEffect)((function(){F&&!kt()(Y.current,g)&&(X({page:1}),Y.current=g)})),!1===y&&b?i().createElement(_t,{title:"This application requires Inventory permissions",description:i().createElement("div",null,"To view the content of this page, you must be granted a minimum of inventory permissions from your Organization Administrator.")}):W?Z:i().createElement(o.Fragment,null,i().createElement(yt,(0,r.Z)({},L,{customFilters:g,hasAccess:y,items:l,hasItems:_,total:N.total,page:N.page,perPage:N.perPage,showTags:f,getTags:O,onRefreshData:X,sortBy:x,hideFilters:w,paginationProps:T,loaded:V,showTagModal:C,activeFiltersConfig:Xt({deleteTitle:"Reset filters"},L.activeFiltersConfig)}),a),i().createElement(Ut,(0,r.Z)({},L,{customFilters:g,hasAccess:y,ref:t,hasItems:_,items:l,page:N.page,sortBy:x,perPage:N.perPage,showTags:f,onRefreshData:X,loaded:V,ignoreRefresh:I})),i().createElement(ht.Z,{isFooter:!0,className:"ins-c-inventory__table--toolbar"},i().createElement(Kt,{hasAccess:y,isFull:!0,total:N.total,page:N.page,perPage:N.perPage,hasItems:_,onRefreshData:X,paginationProps:T,loaded:V})))}));Yt.propTypes={autoRefresh:u().bool,onRefresh:u().func,children:u().node,inventoryRef:u().object,items:u().array,total:u().number,page:u().number,perPage:u().number,showTags:u().bool,getTags:u().func,sortBy:u().object,customFilters:u().any,hasAccess:u().bool,isFullView:u().bool,getEntities:u().func,hideFilters:u().object,paginationProps:u().object,errorState:u().node,isLoaded:u().bool,initialLoading:u().bool,ignoreRefresh:u().bool,showTagModal:u().bool,activeFiltersConfig:u().object};const $t=Yt;var Qt=n(95249),en=["isRbacEnabled"],tn=function(e){var t=e.isRbacEnabled,n=(0,P.Z)(e,en),r=(0,Qt.c$)(["inventory:*:*","inventory:*:read","inventory:hosts:read"]).hasAccess;return t&&!1===r?i().createElement(_t,null):i().createElement(ze,n)};tn.propTypes={isRbacEnabled:u().bool};const nn=tn;function rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rn(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function on(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Boolean(n);return an({InventoryTable:i().forwardRef((function(t,n){return i().createElement(He.Z,(0,r.Z)({},t,{isRbacEnabled:a,inventoryRef:n,store:e,cmp:$t}))})),AppInfo:i().forwardRef((function(n,o){return i().createElement(He.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:o,store:e,cmp:ve}))})),InventoryDetailHead:i().forwardRef((function(n,l){return i().createElement(He.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:l,store:e,showInventoryDrawer:o&&!n.hideInvDrawer,cmp:me}))})),InventoryDetail:i().forwardRef((function(n,l){return i().createElement(He.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:l,store:e,showInventoryDrawer:o,cmp:ye}))})),TagWithDialog:i().forwardRef((function(t,n){return i().createElement(He.Z,(0,r.Z)({},t,{inventoryRef:n,isRbacEnabled:a,store:e,cmp:Me.Z}))})),DetailWrapper:function(e){return i().createElement(nn,(0,r.Z)({Wrapper:n,isRbacEnabled:a,showInventoryDrawer:o},e))}},pt)}},98516:(e,t,n)=>{n.r(t),n.d(t,{OPERATING_SYSTEM_FILTER:()=>R.Tc,REGISTERED_WITH_FILTER:()=>P,STALENESS_FILTER:()=>y,TEXT_FILTER:()=>c,filtersReducer:()=>L,operatingSystemFilterReducer:()=>R.BG,registeredWithFilterReducer:()=>S,registeredWithFilterState:()=>T,stalenessFilterReducer:()=>h,stalenessFilterState:()=>v,textFilterReducer:()=>u,textFilterState:()=>s,useRegisteredWithFilter:()=>j,useStalenessFilter:()=>b,useTagsFilter:()=>k,useTextFilter:()=>p});var r=n(4942),a=n(29439),o=n(92950),i=n(14918);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s={textFilter:""},c="TEXT_FILTER",u=function(e,t){var n=t.type,a=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===c&&{textFilter:a})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[s],t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,o.useState)(""),u=(0,a.Z)(l,2),p=u[0],d=u[1],f=r?n.textFilter:p,m=r?function(e){return r({type:c,payload:e})}:d,g={label:"Name",value:"name-filter",filterValues:{placeholder:"Filter by name",value:f,onChange:function(e,t){return m(t)}}},v=f.length>0?[{category:"Display name",type:i.TEXTUAL_CHIP,chips:[{name:f}]}]:[];return[g,v,f,m]},d=n(45987),f=["label"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v={stalenessFilter:[]},y="STALENESS_FILTER",h=function(e,t){var n=t.type,r=t.payload;return g({},n===y&&{stalenessFilter:r})},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[v],t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,o.useState)([]),s=(0,a.Z)(l,2),c=s[0],u=s[1],p=r?n.stalenessFilter:c,m=r?function(e){return r({type:y,payload:e})}:u,h={label:"Status",value:"stale-status",type:"checkbox",filterValues:{value:p,onChange:function(e,t){return m(t)},items:i.staleness}},b=(null==p?void 0:p.length)>0?[{category:"Status",type:i.STALE_CHIP,chips:i.staleness.filter((function(e){var t=e.value;return p.includes(t)})).map((function(e){return g({name:e.label},(0,d.Z)(e,f))}))}]:[];return[h,b,p,m]},E=["label"];function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var T={registeredWithFilter:[]},P="REGISTERED_WITH_FILTER",S=function(e,t){var n=t.type,r=t.payload;return w({},n===P&&{registeredWithFilter:r})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[T],t=(0,a.Z)(e,2),n=t[0],r=t[1],l=(0,o.useState)([]),s=(0,a.Z)(l,2),c=s[0],u=s[1],p=r?n.registeredWithFilter:c,f=r?function(e){return r({type:P,payload:e})}:u,m={label:"Data Collector",value:"data-collector-registered-with",type:"checkbox",filterValues:{value:p,onChange:function(e,t){return f(t)},items:i.registered}},g=(null==p?void 0:p.length)>0?[{category:"Data Collector",type:i.REGISTERED_CHIP,chips:i.registered.filter((function(e){var t=e.value;return p.includes(t)})).map((function(e){return w({name:e.label},(0,d.Z)(e,E))}))}]:[];return[m,g,p,f]},D=n(3474);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=(0,D.YM)(e,t,n,r,a,"system"),i=o.filter,l=o.chips,s=o.selectedTags,c=o.setValue,u=o.filterTagsBy,p=o.seFilterTagsBy;return{tagsFilter:{label:"Tags",value:"tags",type:"group",placeholder:"Filter system by tag",filterValues:F({},i)},tagsChip:l,selectedTags:s,setSelectedTags:c,filterTagsBy:u,seFilterTagsBy:p}},R=n(7314);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(e){return function(t,n){return e.reduce((function(e,r){return C(C({},e),null==r?void 0:r(t,n))}),t)}}},7314:(e,t,n)=>{n.d(t,{Tc:()=>u,BG:()=>p,ZP:()=>d});var r=n(29439),a=n(4942),o=n(92950),i=n(32384),l=n(8622),s=n(98436);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var u="OPERATING_SYSTEM_FILTER",p=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===u&&{operatingSystemFilter:r})};const d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,i.useDispatch)(),n=(0,i.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystems})),a=(0,i.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.operatingSystemsLoaded}))||!1,c=(0,o.useState)({}),u=(0,r.Z)(c,2),p=u[0],d=u[1],f=(0,o.useState)([]),m=(0,r.Z)(f,2),g=m[0],v=m[1];(0,o.useEffect)((function(){t((0,l.g6)(e))}),[]),(0,o.useEffect)((function(){var e=(0,s.vb)(n);v(0===(n||[]).length?[{items:[{label:"No versions available"}]}]:e),d((0,s.CR)((0,s.pW)(p),(n||[]).map((function(e){return e.value}))))}),[n]);var y=(0,o.useMemo)((function(){return{label:"Operating System",type:"group",filterValues:{selected:p,groups:g,onChange:function(e,t,n,r){d((0,s.gk)(e,t,n,r))}}}}),[p,g]),h=(0,o.useMemo)((function(){return(0,s.DJ)(p,n)}),[p,n]),b=(0,o.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d((0,s.CR)(e,a?(n||[]).map((function(e){return e.value})):void 0))}),[a,n]),E=(0,o.useMemo)((function(){return(0,s.pW)(p)}),[p]);return[y,h,E,b]}}}]);
//# sourceMappingURL=../sourcemaps/1490.b8ffff49b7f3bf2b37c3d30a971bf11f.js.map