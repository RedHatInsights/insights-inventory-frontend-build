(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[9390,5849,1931],{87116:(e,t,n)=>{"use strict";n.d(t,{b:()=>Z,U:()=>_});var a=n(70655),r=n(92950),i=n(38296),o=n(91487),l=n(63339),s=n(68778),c=n(43047),u=n(69957),d=n(53688),f=n(34143);const p={success:s.ZP,danger:c.ZP,warning:u.ZP,info:d.ZP,default:f.ZP},m=e=>{var{variant:t,customIcon:n,className:l=""}=e,s=(0,a.__rest)(e,["variant","customIcon","className"]);const c=p[t];return r.createElement("div",Object.assign({},s,{className:(0,i.i)(o.Z.alertIcon,l)}),n||r.createElement(c,null))};var g=n(80164),v=n(62472),y=n(21133);const E="--pf-c-alert__title--max-lines";var b=n(35224),h=n(47173),T=n(93174);const O=e=>{var{"aria-label":t,variantLabel:n,onToggleExpand:l,isExpanded:s}=e,c=(0,a.__rest)(e,["aria-label","variantLabel","onToggleExpand","isExpanded"]);const{title:u,variantLabel:d}=r.useContext(y.w);return r.createElement(h.zx,Object.assign({variant:h.Wu.plain,onClick:l,"aria-expanded":s,"aria-label":""===t?`Toggle ${n||d} alert: ${u}`:t},c),r.createElement("span",{className:(0,i.i)(o.Z.alertToggleIcon)},r.createElement(T.ZP,{"aria-hidden":"true"})))};var _;O.displayName="AlertToggleExpandButton",function(e){e.success="success",e.danger="danger",e.warning="warning",e.info="info",e.default="default"}(_||(_={}));const Z=e=>{var{variant:t=_.default,isInline:n=!1,isPlain:s=!1,isLiveRegion:c=!1,variantLabel:u=`${(0,g.kC)(t)} alert:`,"aria-label":d=`${(0,g.kC)(t)} Alert`,actionClose:f,actionLinks:p,title:h,children:T="",className:C="",ouiaId:I,ouiaSafe:w=!0,timeout:D=!1,timeoutAnimation:L=3e3,onTimeout:S=(()=>{}),truncateTitle:P=0,tooltipPosition:N,customIcon:j,isExpandable:A=!1,toggleAriaLabel:x=`${(0,g.kC)(t)} alert details`,onMouseEnter:F=(()=>{}),onMouseLeave:R=(()=>{})}=e,k=(0,a.__rest)(e,["variant","isInline","isPlain","isLiveRegion","variantLabel","aria-label","actionClose","actionLinks","title","children","className","ouiaId","ouiaSafe","timeout","timeoutAnimation","onTimeout","truncateTitle","tooltipPosition","customIcon","isExpandable","toggleAriaLabel","onMouseEnter","onMouseLeave"]);const M=(0,v.S$)(Z.displayName,I,w,t),H=r.createElement(r.Fragment,null,r.createElement("span",{className:(0,i.i)(l.Z.screenReader)},u),h),B=r.useRef(null),G=r.useRef(),[W,K]=(0,r.useState)(!1);r.useEffect((()=>{if(!B.current||!P)return;B.current.style.setProperty(E,P.toString());const e=B.current&&B.current.offsetHeight<B.current.scrollHeight;W!==e&&K(e)}),[B,P,W]);const[U,$]=(0,r.useState)(!1),[q,J]=(0,r.useState)(!0),[Y,z]=(0,r.useState)(),[V,X]=(0,r.useState)(),Q=U&&q&&!Y&&!V;r.useEffect((()=>{if((D=!0===D?8e3:Number(D))>0){const e=setTimeout((()=>$(!0)),D);return()=>clearTimeout(e)}}),[]),r.useEffect((()=>{const e=()=>{G.current&&(G.current.contains(document.activeElement)?(X(!0),J(!1)):V&&X(!1))};return document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}),[V]),r.useEffect((()=>{if(!1===V||!1===Y){const e=setTimeout((()=>J(!0)),L);return()=>clearTimeout(e)}}),[V,Y]),r.useEffect((()=>{Q&&S()}),[Q]);const[ee,te]=(0,r.useState)(!1);if(Q)return null;const ne=r.createElement("h4",Object.assign({},W&&{tabIndex:0},{ref:B,className:(0,i.i)(o.Z.alertTitle,P&&o.Z.modifiers.truncate)}),H);return r.createElement("div",Object.assign({ref:G,className:(0,i.i)(o.Z.alert,n&&o.Z.modifiers.inline,s&&o.Z.modifiers.plain,A&&o.Z.modifiers.expandable,ee&&o.Z.modifiers.expanded,o.Z.modifiers[t],C),"aria-label":d},M,c&&{"aria-live":"polite","aria-atomic":"false"},{onMouseEnter:e=>{z(!0),J(!1),F(e)},onMouseLeave:e=>{z(!1),R(e)}},k),A&&r.createElement(y.w.Provider,{value:{title:h,variantLabel:u}},r.createElement("div",{className:(0,i.i)(o.Z.alertToggle)},r.createElement(O,{isExpanded:ee,onToggleExpand:()=>{te(!ee)},"aria-label":x}))),r.createElement(m,{variant:t,customIcon:j}),W?r.createElement(b.u,{content:H,position:N},ne):ne,f&&r.createElement(y.w.Provider,{value:{title:h,variantLabel:u}},r.createElement("div",{className:(0,i.i)(o.Z.alertAction)},f)),T&&(!A||A&&ee)&&r.createElement("div",{className:(0,i.i)(o.Z.alertDescription)},T),p&&r.createElement("div",{className:(0,i.i)(o.Z.alertActionGroup)},p))};Z.displayName="Alert"},21133:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});const a=n(92950).createContext(null)},32203:(e,t,n)=>{"use strict";n.d(t,{H:()=>s,Z:()=>c});var a=n(70655),r=n(92950),i=n(62802),o=n(38296),l=n(62472);const s=r.createContext({cardId:"",isExpanded:!1}),c=e=>{var{children:t=null,id:n="",className:u="",component:d="article",isHoverable:f=!1,isCompact:p=!1,isSelectable:m=!1,isSelected:g=!1,isFlat:v=!1,isExpanded:y=!1,isRounded:E=!1,isLarge:b=!1,isFullHeight:h=!1,isPlain:T=!1,ouiaId:O,ouiaSafe:_=!0}=e,Z=(0,a.__rest)(e,["children","id","className","component","isHoverable","isCompact","isSelectable","isSelected","isFlat","isExpanded","isRounded","isLarge","isFullHeight","isPlain","ouiaId","ouiaSafe"]);const C=d,I=(0,l.S$)(c.displayName,O,_);return p&&b&&(console.warn("Card: Cannot use isCompact with isLarge. Defaulting to isCompact"),b=!1),r.createElement(s.Provider,{value:{cardId:n,isExpanded:y}},r.createElement(C,Object.assign({id:n,className:(0,o.i)(i.Z.card,f&&i.Z.modifiers.hoverable,p&&i.Z.modifiers.compact,m&&i.Z.modifiers.selectable,g&&m&&i.Z.modifiers.selected,y&&i.Z.modifiers.expanded,v&&i.Z.modifiers.flat,E&&i.Z.modifiers.rounded,b&&i.Z.modifiers.displayLg,h&&i.Z.modifiers.fullHeight,T&&i.Z.modifiers.plain,u),tabIndex:m?"0":void 0},Z,I),t))};c.displayName="Card"},62394:(e,t,n)=>{"use strict";n.d(t,{e:()=>l});var a=n(70655),r=n(92950),i=n(62802),o=n(38296);const l=e=>{var{children:t=null,className:n="",component:l="div",isFilled:s=!0}=e,c=(0,a.__rest)(e,["children","className","component","isFilled"]);const u=l;return r.createElement(u,Object.assign({className:(0,o.i)(i.Z.cardBody,!s&&i.Z.modifiers.noFill,n)},c),t)};l.displayName="CardBody"},12136:(e,t,n)=>{"use strict";n.d(t,{EI:()=>r,yK:()=>i,ZP:()=>o});var a=n(40400);const r={name:"DisconnectedIcon",height:1024,width:1024,svgPath:"M107.625758,511.919812 C107.647579,453.639819 120.473237,396.076275 145.195758,343.299812 L66.0757577,263.919812 C64.9757577,266.019812 63.7857577,268.019812 62.6857577,270.119812 C-38.2858609,455.136708 -13.6478565,683.418046 124.475758,842.629812 C134.640866,854.227038 149.304208,860.890207 164.725758,860.920803 C177.621501,860.999229 190.089847,856.300444 199.725758,847.729812 C222.045758,828.339812 224.235758,794.349812 204.725758,771.959812 C142.116482,699.791587 107.639971,607.46129 107.625758,511.919812 Z M298.965758,512.769812 C298.965758,507.959812 299.165758,503.349812 299.465758,498.849812 L223.695758,422.919812 C195.943021,511.49644 210.859555,607.936744 264.075758,683.989812 C272.417691,695.880397 286.040845,702.947712 300.565758,702.92092 C309.717884,702.984827 318.661486,700.187766 326.145758,694.919812 C346.244069,680.682503 351.030068,652.865563 336.845758,632.729812 C312.094475,597.618928 298.858215,555.687799 298.965758,512.729812 L298.965758,512.769812 Z M903.425758,837.839812 C1064.25516,648.181373 1062.68818,369.557312 899.735758,181.719812 C890.46515,170.983736 877.290268,164.395355 863.139154,163.418898 C848.98804,162.442441 835.033106,167.158807 824.375758,176.519812 C802.005758,195.919812 799.815758,229.919812 819.185758,252.309812 C945.123654,397.620078 948.572544,612.370403 827.365758,761.649812 L754.005758,688.159812 C755.244385,686.815558 756.37773,685.377981 757.395758,683.859812 C792.844775,633.759435 811.790626,573.852791 811.595758,512.479812 C811.595758,450.189812 792.735758,390.599812 756.695758,340.199812 C749.880846,330.567 739.510358,324.044705 727.876268,322.074416 C716.242178,320.104127 704.302408,322.848071 694.695758,329.699812 C674.625758,343.899812 670.135758,371.699812 684.215758,391.799812 C733.317078,460.966176 735.688504,552.965658 690.215758,624.569812 L615.045758,549.479812 C619.447596,537.503845 621.679174,524.839047 621.635758,512.079812 C621.657896,451.518897 572.616613,402.388105 512.055758,402.299812 C499.315423,402.259246 486.670236,404.494336 474.715758,408.899812 L82.6457577,15.6398121 C64.3651324,-2.58558468 34.7711544,-2.54081316 16.5457577,15.7398121 C-1.67963909,34.0204373 -1.63486757,63.6144153 16.6457577,81.8398121 L120.475758,185.919812 L196.535758,261.919812 L333.185758,398.799812 L408.845758,474.589812 L549.005758,614.969812 L941.455758,1008.21981 C959.733621,1026.4673 989.34327,1026.44268 1007.59076,1008.16481 C1025.83825,989.886948 1025.81362,960.2773 1007.53576,942.029812 L903.425758,837.839812 Z",yOffset:0,xOffset:0},i=(0,a.IU)(r),o=i},91487:(e,t,n)=>{"use strict";n(81754),t.Z={alert:"pf-c-alert",alertAction:"pf-c-alert__action",alertActionGroup:"pf-c-alert__action-group",alertDescription:"pf-c-alert__description",alertIcon:"pf-c-alert__icon",alertTitle:"pf-c-alert__title",alertToggle:"pf-c-alert__toggle",alertToggleIcon:"pf-c-alert__toggle-icon",button:"pf-c-button",modifiers:{success:"pf-m-success",danger:"pf-m-danger",warning:"pf-m-warning",info:"pf-m-info",inline:"pf-m-inline",plain:"pf-m-plain",expandable:"pf-m-expandable",expanded:"pf-m-expanded",truncate:"pf-m-truncate",overpassFont:"pf-m-overpass-font"}}},62802:(e,t,n)=>{"use strict";n(80598),t.Z={card:"pf-c-card",cardActions:"pf-c-card__actions",cardBody:"pf-c-card__body",cardExpandableContent:"pf-c-card__expandable-content",cardFooter:"pf-c-card__footer",cardHeader:"pf-c-card__header",cardHeaderToggle:"pf-c-card__header-toggle",cardHeaderToggleIcon:"pf-c-card__header-toggle-icon",cardTitle:"pf-c-card__title",divider:"pf-c-divider",modifiers:{hoverable:"pf-m-hoverable",selectable:"pf-m-selectable",selected:"pf-m-selected",hoverableRaised:"pf-m-hoverable-raised",selectableRaised:"pf-m-selectable-raised",selectedRaised:"pf-m-selected-raised",compact:"pf-m-compact",displayLg:"pf-m-display-lg",flat:"pf-m-flat",plain:"pf-m-plain",rounded:"pf-m-rounded",expanded:"pf-m-expanded",fullHeight:"pf-m-full-height",toggleRight:"pf-m-toggle-right",noOffset:"pf-m-no-offset",noFill:"pf-m-no-fill",overpassFont:"pf-m-overpass-font"}}},17558:(e,t,n)=>{"use strict";n.d(t,{Dv:()=>r,Kf:()=>i,wt:()=>o});var a="@@INSIGHTS-CORE/NOTIFICATIONS/",r="".concat(a,"ADD_NOTIFICATION"),i="".concat(a,"REMOVE_NOTIFICATION"),o="".concat(a,"CLEAR_NOTIFICATIONS")},21458:(e,t,n)=>{"use strict";n.d(t,{wN:()=>r});var a=n(17558),r=function(e){return{type:a.Dv,payload:e}}},83215:(e,t,n)=>{"use strict";n.d(t,{wN:()=>r.wN,ee:()=>f});var a=n(17558),r=n(21458),i=n(4942),o=n(93433);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=function(e,t){var n=t.payload;return[].concat((0,o.Z)(e),[s({id:("notification","cloud-servicesnotification-"+(new Date).getTime()+Math.random().toString(36).slice(2))},n)])},u=function(e,t){var n=t.payload,a=e.findIndex((function(e){return e.id===n}));return[].concat((0,o.Z)(e.slice(0,a)),(0,o.Z)(e.slice(a+1)))},d=[];const f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.Dv:return c(e,t);case a.Kf:return u(e,t);case a.wt:return[];default:return e}}},12385:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var a=n(92950),r=n.n(a),i=n(41337),o=n(80604),l=n(94184),s=n.n(l),c=function(){return c=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},c.apply(this,arguments)};const u=function(e){var t=e.culled,n=void 0===t?new Date(0):t,a=e.className,l=e.staleWarning,u=void 0===l?new Date(0):l,d=e.stale,f=void 0===d?new Date(0):d,p=e.currDate,m=void 0===p?new Date(0):p,g=e.children,v=e.render,y=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["culled","className","staleWarning","stale","currDate","children","render"]);if(new Date(m).valueOf()-new Date(f).valueOf()<0)return v?v({msg:""}):g||null;var E=function(e,t,n){var a=new Date(e),r=new Date(t),i=new Date(n).valueOf()-r.valueOf(),o=Math.ceil((a.valueOf()-new Date(n).valueOf())/864e5),l="System scheduled for inventory removal in ".concat(o," days");return i>=0?{isError:!0,msg:l}:{isWarn:!0,msg:l}}(n,u,m),b=E.isWarn,h=E.isError,T=E.msg;return v?r().createElement("span",{className:s()({"ins-c-inventory__culling-warning":b,"ins-c-inventory__culling-danger":h},a)},b&&r().createElement(i.ExclamationTriangleIcon,null),h&&r().createElement(i.ExclamationCircleIcon,null),v({msg:T})):r().createElement(r().Fragment,null,r().createElement(o.Tooltip,c({},y,{content:T,position:"bottom"}),r().createElement("span",{className:s()({"ins-c-inventory__culling-warning":b,"ins-c-inventory__culling-danger":h},a)},h&&r().createElement(i.ExclamationCircleIcon,null),b&&r().createElement(i.ExclamationTriangleIcon,null),g)))}},62410:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var a=n(92950),r=n.n(a),i=n(80604),o=function(){return o=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)},l=36e5,s=24*l,c=30*s,u=365*s,d=function(e,t){return"".concat(e," ").concat(e>1?"".concat(t,"s"):t," ago")},f=[{rightBound:1/0,description:function(e){return d(Math.round(e/u),"year")}},{rightBound:u,description:function(e){return d(Math.round(e/c),"month")}},{rightBound:c,description:function(e){return d(Math.round(e/s),"day")}},{rightBound:s,description:function(e){return d(Math.round(e/l),"hour")}},{rightBound:l,description:function(e){return d(Math.round(e/6e4),"minute")}},{rightBound:6e4,description:function(){return"Just now"}}],p=function(e){return e.toUTCString().split(",")[1].slice(0,-7).trim()},m=function(e){return{exact:function(e){return p(e)+" UTC"},onlyDate:function(e){return p(e).slice(0,-6)},relative:function(e){return f.reduce((function(t,n){return n.rightBound>Date.now()-e.getTime()?n.description(Date.now()-e.getTime()):t}),p(e))},invalid:function(){return"Invalid date"}}[e]};const g=function(e){var t=e.date,n=e.type,a=void 0===n?"relative":n,l=e.extraTitle,s=e.tooltipProps,c=t instanceof Date?t:new Date(t),u=null==t||"Invalid Date"===c.toString()?"invalid":a;return r().createElement(r().Fragment,null,function(e,t,n){return{exact:function(t){return m(e)(t)},onlyDate:function(t){return m(e)(t)},relative:function(a){return function(e,t,n,a){return void 0===a&&(a=""),r().createElement(i.Tooltip,o({},n,{content:r().createElement("div",null,a,e)}),t)}(m("exact")(a),r().createElement("span",null,m(e)(a)),t,n)},invalid:function(){return"Invalid date"}}[e]}(u,s,l)(c))}},39903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(66435),s=n(80236),c=n(79851),u=n(34512),d=n(49739),f=n(83826),p=n(48140),m=n(86050),g=n(47173),v=n(19694),y=function(e){var t,n=e.handleModalToggle,a=e.isModalOpen,i=e.currentSytems,o=e.onConfirm,y="system";return Array.isArray(i)?(t=1===i.length?i[0].display_name:"".concat(i.length," systems"),y=1===i.length?y:"systems"):t=i.display_name,r().createElement(s.u,{variant:"small",title:"Remove from inventory",className:"ins-c-inventory__table--remove",ouiaId:"inventory-delete-modal",isOpen:a,onClose:function(){return n(!1)},appendTo:document.getElementsByClassName("inventory")[0]||document.body},r().createElement(c.P,{hasGutter:!0},r().createElement(u.J,null,r().createElement(v.ZP,{size:"xl",className:"ins-m-alert"})),r().createElement(u.J,{isFilled:!0},r().createElement(d.K,{hasGutter:!0},r().createElement(f.v,null,t," will be removed from all ",location.host," applications and services. You need to re-register the ",y," to add it back to your inventory."),r().createElement(f.v,null,"To disable the daily upload for this ",y,", use the following command:"),r().createElement(f.v,null,r().createElement(l.M5,null,"insights-client --unregister"))))),r().createElement(p.a,{hasGutter:!0},r().createElement(m.Z,null,r().createElement(g.zx,{variant:"danger",ouiaId:"confirm-inventory-delete",onClick:o},"Remove"),r().createElement(g.zx,{variant:"link",ouiaId:"cancel-inventory-delete",onClick:function(){return n(!1)}},"Cancel"))))},E=o().shape({id:o().string,displayName:o().string});y.propTypes={isModalOpen:o().bool,currentSytems:o().oneOfType([E,o().arrayOf(E)]),handleModalToggle:o().func,onConfirm:o().func},y.defaultProps={isModalOpen:!1,currentSytems:{},handleModalToggle:function(){},onConfirm:function(){}};const b=y},67882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(92950),r=n.n(a),i=n(35224),o=n(50693),l=n(16475),s=n(12136);const c=function(){return r().createElement(i.u,{maxWidth:"14rem",content:r().createElement(o.r,{hasGutter:!0},r().createElement(l.P,null,"Insights client not reporting"),r().createElement(l.P,null,'From the main navigation, open "Registration Assitant" to learn how to set up Insights.'))},r().createElement("span",{className:"pf-u-ml-sm ins-c-inventor__disconnected-icon"},r().createElement(s.ZP,null)))}},5311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=function(e){var t=e.operatingSystem;if("RHEL"===(null==t?void 0:t.name)){var n=t.major&&null!==t.minor&&"".concat(t.major,".").concat(null==t?void 0:t.minor)||null;return r().createElement("span",null,"RHEL ",n)}return r().createElement("span",null,(null==t?void 0:t.name)||"Not available")};l.propTypes={operatingSystem:o().shape({name:o().string,major:o().number,minor:o().number})};const s=l},68595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(92950),r=n.n(a),i=n(45697),o=n.n(i),l=n(32384),s=n(19281),c=n(94778),u=function(e){var t=e.count,n=e.loadTags,a=e.systemId;return r().createElement("span",{onClick:function(e){return e.stopPropagation()},className:"ins-c-inventory__list-tags","data-ouia-component-id":"".concat(a,"-tag-button")},r().createElement(s.Z,{count:t,onTagClick:function(){return n(a,t)}}))};u.propTypes={count:o().number,loadTags:o().func,systemId:o().string};const d=(0,l.connect)((function(){return{}}),(function(e){return{loadTags:function(t,n){t&&(e((0,c.Ar)(!0)),e((0,c.me)(t,void 0,void 0,n)))}}}))(u)},454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var a=n(87462),r=n(45987),i=n(92950),o=n.n(i),l=n(45697),s=n.n(l),c=n(43707),u=n(2372),d=["cmp","hideLoader","isRbacEnabled","inventoryRef","store"],f=function(e){var t=e.cmp,n=e.hideLoader,i=e.isRbacEnabled,l=e.inventoryRef,s=e.store,f=(0,r.Z)(e,d),p=(0,c.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0),m=p.hasAccess;return p.isLoading&&!n?o().createElement(u.$,null):o().createElement(t,(0,a.Z)({},f,l&&{ref:l},{hasAccess:!i||m,store:s}))};f.propTypes={cmp:s().any,inventoryRef:s().any,store:s().object,customRender:s().bool,isRbacEnabled:s().bool,hideLoader:s().bool};const p=f},73880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteModal:()=>C.Z,InventoryContext:()=>I.FW,OS_CHIP:()=>I.vi,REGISTERED_CHIP:()=>I.p9,RenderWrapper:()=>Z.Z,STALE_CHIP:()=>I.yc,TAG_CHIP:()=>I.m5,TEXTUAL_CHIP:()=>I.UC,TEXT_FILTER:()=>I.ud,TagWithDialog:()=>a.Z,TagsModal:()=>_,arrayToSelection:()=>I.Nu,defaultFilters:()=>I.js,filterToGroup:()=>I.Tk,generateFilter:()=>I.h3,isEmpty:()=>I.xb,loadSystems:()=>I.K$,operatingSystems:()=>I.wQ,reduceFilters:()=>I.YQ,registered:()=>I.Gw,reloadWrapper:()=>I.KS,staleness:()=>I.jv});var a=n(68595),r=n(87462),i=n(4942),o=n(93433),l=n(29439),s=n(92950),c=n.n(s),u=n(32384),d=n(45697),f=n.n(d),p=n(94778),m=n(98944),g=n(57971),v=n(23279),y=n.n(v),E=n(85564),b=n.n(E);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.customFilters,n=e.filterTagsBy,a=e.onToggleModal,i=e.onApply,d=e.getTags,f=(0,u.useDispatch)(),v=(0,s.useState)(""),E=(0,l.Z)(v,2),h=E[0],O=E[1],_=(0,s.useState)([]),Z=(0,l.Z)(_,2),C=Z[0],I=Z[1],w=(0,s.useState)({perPage:10,page:1}),D=(0,l.Z)(w,2),L=D[0],S=D[1],P=(0,u.useSelector)((function(e){var t,n=e.entities,a=e.entityDetails;return null===(t=n||a)||void 0===t?void 0:t.showTagDialog})),N=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return null!=t&&t.activeSystemTag||null!=n&&n.entity?L:(null==t?void 0:t.allTagsPagination)||L}),u.shallowEqual),j=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.tagModalLoaded)||(null==n?void 0:n.tagModalLoaded)})),A=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.activeSystemTag)||(null==n?void 0:n.entity)})),x=(0,u.useSelector)((function(e){var t,n,a,r=e.entities,i=e.entityDetails,l=(null==r||null===(t=r.activeSystemTag)||void 0===t?void 0:t.tags)||(null==i||null===(n=i.entity)||void 0===n?void 0:n.tags);return l?null==l?void 0:l.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(h)}))})).slice((null==L?void 0:L.perPage)*((null==L?void 0:L.page)-1),(null==L?void 0:L.perPage)*(null==L?void 0:L.page)):null==r||null===(a=r.allTags)||void 0===a?void 0:a.reduce((function(e,t){var n=t.tags;return[].concat((0,o.Z)(e),(0,o.Z)(b()(n.map((function(e){return e.tag})))))}),[])})),F=(0,u.useSelector)((function(e){var t,n=e.entities,a=e.entityDetails;return null===(t=n||a)||void 0===t?void 0:t.activeFilters})),R=(0,u.useSelector)((function(e){var t,n,a,r=e.entities,i=e.entityDetails,o=null===(t=(null==r||null===(n=r.activeSystemTag)||void 0===n?void 0:n.tags)||(null==i||null===(a=i.entity)||void 0===a?void 0:a.tags))||void 0===t?void 0:t.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(h)}))}));return o?o.length:null==r?void 0:r.allTagsTotal}));(0,s.useEffect)((function(){O(n)}),[n]);var k=function(e,n){A?S((function(){return e})):f((0,p.C8)(n,T(T({},t),{},{pagination:e,filters:F}),d))},M=(0,s.useCallback)(y()(k,800),[A]);return c().createElement(m.Z,(0,r.Z)({className:"ins-c-inventory__tags-modal",tableProps:{canSelectAll:!1}},j&&{loaded:j,pagination:T(T({},N),{},{count:R}),rows:(null==x?void 0:x.map((function(e){var t=e.key,n=e.value,a=e.namespace;return{id:"".concat(a,"/").concat(t,"=").concat(n),selected:C.find((function(e){return e.id==="".concat(a,"/").concat(t,"=").concat(n)})),cells:[t,n,a]}})))||[]},{loaded:j,width:"auto",isOpen:P,toggleModal:function(){I([]),O(""),a(),f((0,p.Ar)(!1))},filters:[{label:"Tags filter",placeholder:"Filter tags",value:"tags-filter",filterValues:{value:h,onChange:function(e,t){M(N,t),O(t)}}}],onUpdateData:function(e){return k(e,h)},columns:[{title:"Name"},{title:"Value",transforms:[(0,g.cellWidth)(30)]},{title:"Tag source",transforms:[(0,g.cellWidth)(30)]}]},!A&&{onSelect:function(e){return I(e)},selected:C,onApply:function(){return i&&i(C)}},{bulkSelect:{id:"bulk-select-tags"},title:A?"".concat(A.display_name," (").concat(R,")"):"All tags in inventory (".concat(R,")")}))};O.propTypes={onApply:f().func,onToggleModal:f().func,filterTagsBy:f().string,customFilters:f().shape({tags:f().oneOfType([f().object,f().arrayOf(f().string)])}),getTags:f().func},O.defaultProps={filterTagsBy:"",onToggleModal:function(){}};const _=O;var Z=n(454),C=n(39903),I=n(13784)},13718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var a=n(92950),r=n.n(a);const i=function(e,t,n,a){return r().createElement("div",{className:"ins-composed-col"},r().createElement("div",{key:"os_release"},null==n?void 0:n.os_release),r().createElement("div",{key:"data",className:null!=a&&a.noDetail?"ins-m-nodetail":""},null!=a&&a.noDetail?e:r().createElement("a",{widget:"col",href:"".concat(location.pathname).concat("/"===location.pathname.substr(-1)?"":"/").concat(t),onClick:function(e){!function(e,t,n){var a=n.loaded,r=n.onRowClick,i=n.noDetail;if(a&&!i){var o=e.ctrlKey||e.metaKey||2===e.which;if(o)return;r&&r(e,t,o)}e.preventDefault(),e.stopPropagation()}(e,t,a)}},e)))}},94778:(e,t,n)=>{"use strict";n.d(t,{gb:()=>i.gb,Oj:()=>i.Oj,k0:()=>i.k0,Fo:()=>i.Fo,K5:()=>o.K5,u3:()=>o.u3,Xe:()=>o.Xe,nE:()=>o.nE,C8:()=>o.C8,CP:()=>o.CP,fg:()=>o.fg,il:()=>o.il,A_:()=>o.A_,me:()=>o.me,CL:()=>o.CL,HD:()=>o.HD,wb:()=>o.wb,Ar:()=>o.Ar,jB:()=>o.jB,Ks:()=>l,Tv:()=>s,L1:()=>c,$Y:()=>u,Jr:()=>d,eR:()=>f,Uw:()=>p});var a=n(59086),r=n(63599),i=n(87637),o=n(8622),l=function(e,t){return{type:a.aI.REMOVE_ENTITY,payload:r.hosts.apiHostDeleteById(e),meta:{notifications:{fulfilled:{variant:"success",title:"Delete operation finished",description:"".concat(t," has been successfully removed."),dismissable:!0}},systems:e}}},s=function(e){return{type:a.uW,payload:{filtersList:e}}},c=function(){return{type:a.wt}},u=function(e,t){return{type:a.aI.UPDATE_DISPLAY_NAME,payload:r.hosts.apiHostPatchById([e],{display_name:t}),meta:{id:e,value:t,notifications:{fulfilled:{variant:"success",title:"Display name for entity with ID ".concat(e," has been changed to ").concat(t),dismissable:!0}}}}},d=function(e,t){return{type:a.fT,payload:{page:e,perPage:t}}},f=function(e){return{type:a.aI.LOAD_SYSTEM_PROFILE,payload:(0,r.getEntitySystemProfile)(e,{})}},p=function(e,t){return{type:a.aI.SET_ANSIBLE_HOST,payload:r.hosts.apiHostPatchById([e],{ansible_host:t}),meta:{notifications:{fulfilled:{variant:"success",title:"Ansible hostname has been updated",dismissable:!0}}}}}},21216:(e,t,n)=>{"use strict";n.d(t,{W2:()=>w,y5:()=>D,nN:()=>P,vI:()=>N,ZP:()=>j});var a,r=n(29439),i=n(45987),o=n(93433),l=n(4942),s=n(92950),c=n.n(s),u=n(59086),d=n(35240),f=n(62410),p=n(12385),m=n(73880),g=n(7739),v=n.n(g),y=n(13718),E=n(67882),b=n(5311),h=n(35224),T=n(13784),O=["items"],_=["tags"],Z=["tags"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w={loaded:!1,tagsLoaded:!1,allTagsLoaded:!1,invConfig:{},sortBy:{key:"updated",direction:"desc"}},D=[{key:"display_name",sortKey:"display_name",title:"Name",renderFunc:y.Z},{key:"tags",title:"Tags",props:{width:10,isStatic:!0},renderFunc:function(e,t){return c().createElement(m.TagWithDialog,{count:e.length,systemId:t})}},{key:"system_profile",sortKey:"operating_system",dataLabel:"OS",title:c().createElement(h.u,{content:c().createElement("span",null,"Operating system")},c().createElement("span",null,"OS")),renderFunc:function(e){return c().createElement(b.Z,{operatingSystem:null==e?void 0:e.operating_system})},props:{width:10}},{key:"updated",sortKey:"updated",title:"Last seen",renderFunc:function(e,t,n){var a=n.culled_timestamp,r=n.stale_warning_timestamp,i=n.stale_timestamp,o=n.insights_id;return p.Z?c().createElement(p.Z,{culled:a,staleWarning:r,stale:i,render:function(t){var n=t.msg;return c().createElement(c().Fragment,null,c().createElement(f.Z,{date:e,extraTitle:c().createElement(c().Fragment,null,c().createElement("div",null,n),"Last seen:"," ")}),!o&&c().createElement(E.Z,null))}}," ",c().createElement(f.Z,{date:e})," "):new Date(e).toLocaleString()},props:{width:10}}];function L(e,t){var n=t.payload,a=n.results,r=n.per_page,i=n.page,o=n.count,l=n.total,s=n.loaded,c=n.filters;return t.meta.lastDateRequest<e.lastDateRequest?e:void 0!==s||void 0!==i&&void 0!==r?I(I({},e),{},{activeFilters:c||[],loaded:void 0===s||s,rows:(0,d.r0)([e.rows,a]).filter((function(e){return!s||e.created})),perPage:void 0!==r?r:e.perPage,page:void 0!==i?i:e.page,count:void 0!==o?o:e.count,total:void 0!==l?l:e.total}):e}function S(e,t){var n=t.payload;return I(I({},e),{},{error:n})}function P(e,t){var n=t.payload,a=t.meta,r=e.rows?e.rows.find((function(e){var t=e.id;return a.systemId===t})):e.entity||{},o=(r.tags,(0,i.Z)(r,_));return I(I({},e),{},{tagModalLoaded:!0,activeSystemTag:I(I({},o),{},{tags:Object.values(n.results)[0],tagsCount:a.tagsCount,page:n.page,perPage:n.per_page,tagsLoaded:!0})})}function N(e,t){var n=t.payload.isOpen;return I(I({},e),{},{showTagDialog:n,activeSystemTag:void 0})}const j=(a={},(0,l.Z)(a,u.aI.ALL_TAGS_FULFILLED,(function(e,t){var n=t.payload,a=n.results,i=n.total,o=n.page,l=n.per_page;return t.meta.lastDateRequestTags<e.lastDateRequestTags?e:I(I({},e),{},{allTags:Object.entries(v()(a,(function(e){return e.tag.namespace}))).map((function(e){var t=(0,r.Z)(e,2);return{name:t[0],tags:t[1]}})),allTagsPagination:{perPage:l,page:o},additionalTagsCount:i>l?i-l:0,allTagsTotal:i,allTagsLoaded:!0,tagModalLoaded:!0})})),(0,l.Z)(a,u.aI.ALL_TAGS_PENDING,(function(e,t){var n=t.meta;return I(I({},e),{},{allTagsLoaded:!1,tagModalLoaded:!1,lastDateRequestTags:n.lastDateRequestTags})})),(0,l.Z)(a,u.aI.LOAD_ENTITIES_PENDING,(function(e,t){var n=t.meta;return I(I({},e),{},{columns:(0,d.r0)([D.filter((function(e){return"tags"!==e.key||(null==n?void 0:n.showTags)})),e.columns],"key"),rows:[],loaded:!1,lastDateRequest:n.lastDateRequest})})),(0,l.Z)(a,u.aI.LOAD_ENTITIES_FULFILLED,L),(0,l.Z)(a,u.aI.LOAD_ENTITIES_REJECTED,S),(0,l.Z)(a,u.aI.LOAD_TAGS_PENDING,(function(e,t){var n=t.meta,a=e.rows?e.rows.find((function(e){var t=e.id;return n.systemId===t})):e.entity||{},r=(a.tags,(0,i.Z)(a,Z));return I(I({},e),{},{tagModalLoaded:!1,activeSystemTag:I(I({},r),{},{tagsCount:n.tagsCount,tagsLoaded:!1})})})),(0,l.Z)(a,u.aI.LOAD_TAGS_FULFILLED,P),(0,l.Z)(a,u.aI.ALL_TAGS_REJECTED,S),(0,l.Z)(a,u.s$,L),(0,l.Z)(a,u.u4,(function(e,t){return L(e,{payload:I(I({},t.payload),{},{loaded:!1})})})),(0,l.Z)(a,u.hI,(function(e,t){var n=t.payload,a=n.item,r=a.items,l=(0,i.Z)(a,O),s=n.selected,c=e.activeFilters,u=void 0===c?[]:c;if(s){var d=(u=[].concat((0,o.Z)(u),[l],(0,o.Z)(r||[]))).map((function(e){return e.value}));u=u.filter((function(e,t){return d.lastIndexOf(e.value)===t}))}else u.splice(u.map((function(e){return e.value})).indexOf(l.value),1),r&&r.forEach((function(e){u.splice(u.map((function(e){return e.value})).indexOf(e.value),1)}));return I(I({},e),{},{activeFilters:u})})),(0,l.Z)(a,u.pr,(function(e,t){var n=t.payload,a=(0,o.Z)(e.rows);return[].concat(n).forEach((function(e){var t=e.id,n=e.selected,r=a.find((function(e){return e.id===t}));r?r.selected=n:a.forEach((function(e){return e.selected=n}))})),I(I({},e),{},{rows:a})})),(0,l.Z)(a,u.WH,(function(e,t){var n=t.payload,a=n.key,r=n.direction;return I(I({},e),{},{sortBy:{key:a,direction:r}})})),(0,l.Z)(a,u.Gs,(function(e){return I(I({},e),{},{activeFilters:[T.js]})})),(0,l.Z)(a,u.jZ,(function(e,t){var n=t.payload.isLoading;return I(I({},e),{},{loaded:!n})})),(0,l.Z)(a,u.Qd,N),(0,l.Z)(a,u.Uq,(function(e,t){var n=t.payload;return I(I({},e),{},{invConfig:n})})),a)},7739:(e,t,n)=>{var a=n(89465),r=n(55189),i=Object.prototype.hasOwnProperty,o=r((function(e,t,n){i.call(e,n)?e[n].push(t):a(e,n,[t])}));e.exports=o},45467:()=>{},81754:()=>{},70347:()=>{},34946:()=>{},80598:()=>{},37625:()=>{},10108:()=>{},30187:()=>{},90479:()=>{},25238:()=>{},93398:()=>{},46928:()=>{},314:()=>{},49854:()=>{},38299:()=>{},72816:()=>{},74181:()=>{},16166:()=>{},53519:()=>{},11177:()=>{},71002:(e,t,n)=>{"use strict";function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}n.d(t,{Z:()=>a})}}]);
//# sourceMappingURL=../sourcemaps/inventoryConnector.efb1c56e935e5d87b2012d132b801e0b.js.map