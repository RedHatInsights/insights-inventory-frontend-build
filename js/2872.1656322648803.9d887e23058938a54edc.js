(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[2872],{98436:(e,t,n)=>{"use strict";n.d(t,{VU:()=>u,Zf:()=>d,VT:()=>f});var r=n(45987),a=n(4942),o=n(29439),i=n(73880),l=["label"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var u=function(e){return e.reduce((function(e,t){var n=t.split("."),r=(0,o.Z)(n,2),i=r[0],l=r[1];return e["".concat(i,".0")]=c(c({},e["".concat(i,".0")]||{}),{},(0,a.Z)({},"".concat(i,".").concat(l),!0)),e}),{})},p=function(e){return e.filter((function(e){return"0"===e.value.split(".")[1]})).map((function(t){return c(c({},t),{},{groupSelectable:!0,items:e.filter((function(e){var n=e.value.split("."),r=(0,o.Z)(n,2),a=r[0],i=r[1];return a===t.value.split(".")[0]&&"0"!==i})).sort((function(e){return e.value.split(".")[1]}))})}))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c(c({},e),{},{label:"Operating System",value:"os-filter",type:"group",filterValues:{selected:e.value,onChange:e.onChange,groups:p(i.operatingSystems).map((function(e){var t;return c(c({},e),{},{type:"checkbox",items:null===(t=e.items)||void 0===t?void 0:t.map((function(e){return c(c({},e),{},{type:"checkbox"})}))})}))}})},f=function(e){var t=Object.values(e||{}).flatMap((function(e){return Object.keys(e)}));return(null==t?void 0:t.length)>0?[{category:"Operating System",type:i.OS_CHIP,chips:i.operatingSystems.filter((function(e){var n=e.value;return t.some((function(e){return e===n}))})).map((function(e){return c({name:e.label},(0,r.Z)(e,l))}))}]:[]}},20668:(e,t,n)=>{"use strict";n.r(t),n.d(t,{inventoryConnector:()=>Wn});var r={};n.r(r),n.d(r,{OPERATING_SYSTEM_FILTER:()=>Wt,REGISTERED_WITH_FILTER:()=>jt,STALENESS_FILTER:()=>Et,TEXT_FILTER:()=>ft,filtersReducer:()=>zt,operatingSystemFilterReducer:()=>Bt,operatingSystemFilterState:()=>_t,registeredWithFilterReducer:()=>Zt,registeredWithFilterState:()=>Dt,stalenessFilterReducer:()=>Ot,stalenessFilterState:()=>bt,textFilterReducer:()=>mt,textFilterState:()=>dt,useOperatingSystemFilter:()=>At,useRegisteredWithFilter:()=>Ft,useStalenessFilter:()=>wt,useTagsFilter:()=>Rt,useTextFilter:()=>gt});var a=n(87462),o=n(4942),i=n(92950),l=n.n(i),s=n(75662),c=n(32384),u=n(45697),p=n.n(u),d=n(94778),f=n(9947),m=n(38424),g=n(75106),v=n(60485),y=n(47173),h=n(96733),b=n(27361),E=n.n(b),O=function(e,t){t?t():document.referrer&&document.referrer!=="".concat(document.location.origin).concat(document.location.pathname)?history.back():location.href=location.pathname.replace(new RegExp("".concat([e],".*"),"g"),"")},w=function(e,t){return E()(t,e,void 0)},T=function(e){var t=e.inventoryId,n=e.onBackToListClick;return l().createElement(f.u,{variant:f.I.full},l().createElement(m.k,{icon:h.ZP}),l().createElement(v.D,{headingLevel:"h5",size:"lg"},"System not found"),l().createElement(g.B,null,"System with ID ",t," does not exist"),l().createElement(y.zx,{variant:"primary",onClick:function(){return O(t,n)}},"Back to previous page"))};T.propTypes={inventoryId:p().string,onBackToListClick:p().func};const P=T;var S=n(45987),D=n(93433),j=n(29439),Z=n(73880),F=n(35664),k=n(56787),I=n(84457),R=n(99355),C=n(75728),L=n(28191),_=n(92298),W=n(79851),B=n(34512),A=["title"],N=function(e){var t=e.entity,n=e.loaded,r=e.actions,o=e.deleteEntity,s=e.addNotification,u=e.hideInvLink,p=e.onBackToListClick,f=e.showDelete,m=e.showInventoryDrawer,g=e.TitleWrapper,h=e.TagsWrapper,b=e.DeleteWrapper,E=e.ActionsWrapper,w=e.showTags,T=(0,c.useDispatch)(),P=(0,i.useState)(!1),N=(0,j.Z)(P,2),x=N[0],z=N[1],H=(0,i.useState)(!1),M=(0,j.Z)(H,2),U=M[0],V=M[1],G=[].concat((0,D.Z)(u?[]:[{title:"View system in Inventory",component:"a",href:"./insights/inventory/".concat(null==t?void 0:t.id)}]),(0,D.Z)(r||[]));return l().createElement(W.P,{className:"ins-c-inventory__detail--header"},l().createElement(B.J,{isFilled:!0},n?l().createElement(L.k,null,l().createElement(_.B,null,l().createElement(g,null,l().createElement(v.D,{headingLevel:"h1",size:"2xl"},t&&t.display_name))),w&&l().createElement(_.B,null,l().createElement(h,null,l().createElement(Z.TagWithDialog,{count:t&&t.tags&&t.tags.length,systemId:t&&t.id}),l().createElement(Z.TagsModal,null)))):l().createElement(F.Z,{size:F.i.md})),l().createElement(B.J,null,n?l().createElement(L.k,null,f&&l().createElement(_.B,null,l().createElement(b,null,l().createElement(y.zx,{onClick:function(){return V(!0)},variant:"secondary"},"Delete"))),(null==G?void 0:G.length)>0&&l().createElement(_.B,null,l().createElement(E,null,l().createElement(k.L,{onSelect:function(){return z(!1)},toggle:l().createElement(C.Z,{onToggle:function(e){return z(e)}},"Actions"),isOpen:x,position:R.ir.right,dropdownItems:G.map((function(e,t){var n=e.title,r=(0,S.Z)(e,A);return l().createElement(I.h,(0,a.Z)({key:t,component:"button",onClick:function(e){return r.onClick(e,r,r.key||t)}},r),n)}))}))),l().createElement(_.B,null,m&&l().createElement(y.zx,{onClick:function(){return T((0,d.wb)(!0))}},"Show more information"))):l().createElement(F.Z,{size:F.i.lg})),U&&l().createElement(Z.DeleteModal,{handleModalToggle:function(){return V(!U)},isModalOpen:U,currentSytems:t,onConfirm:function(){s({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t.display_name," started."),dismissable:!1}),o([t.id],t.display_name,(function(){return O(t.id,p)})),V(!1)}}))};N.propTypes={entity:p().object,loaded:p().bool,showDelete:p().bool,hideInvLink:p().bool,showInventoryDrawer:p().bool,showTags:p().bool,actions:p().arrayOf(p().shape({key:p().string,title:p().node,onClick:p().func})),deleteEntity:p().func,addNotification:p().func,onBackToListClick:p().func,TitleWrapper:p().elementType,TagsWrapper:p().elementType,DeleteWrapper:p().elementType,ActionsWrapper:p().elementType},N.defaultProps={actions:[],loaded:!1,hideInvLink:!1,showDelete:!1,showInventoryDrawer:!1,deleteEntity:function(){},addNotification:function(){},onBackToListClick:function(){},TitleWrapper:i.Fragment,TitleWTagsWrapperrapper:i.Fragment,DeleteWrapper:i.Fragment,ActionsWrapper:i.Fragment};const x=N;var z=n(50693),H=n(16475),M=n(62410),U=n(12385),V=n(67882),G=["entity","loaded","UUIDWrapper","LastSeenWrapper"],K=function(e){var t=e.entity,n=e.loaded,r=(e.UUIDWrapper,e.LastSeenWrapper),o=(0,S.Z)(e,G);return l().createElement(z.r,(0,a.Z)({className:"ins-entity-facts"},o),l().createElement(H.P,{md:6},l().createElement(L.k,null,l().createElement(_.B,null,"UUID:"),l().createElement(_.B,{grow:{default:"grow"}},n?w("id",t)||" ":l().createElement(F.Z,{size:F.i.md,fontSize:"sm"}))),l().createElement(L.k,null,l().createElement(_.B,null,"Last seen:"),l().createElement(_.B,{grow:{default:"grow"}},n?l().createElement(r,null,U.Z?l().createElement(U.Z,{culled:w("culled_timestamp",t),staleWarning:w("stale_warning_timestamp",t),stale:w("stale_timestamp",t),currDate:new Date},l().createElement(M.Z,{date:w("updated",t),type:"exact"})):l().createElement(M.Z,{date:w("updated",t),type:"exact"})):l().createElement(F.Z,{size:F.i.md,fontSize:"sm"})),n&&!w("insights_id",t)&&l().createElement(V.Z,null))))};K.propTypes={loaded:p().bool,entity:p().object,UUIDWrapper:p().elementType,LastSeenWrapper:p().elementType},K.defaultProps={UUIDWrapper:i.Fragment,LastSeenWrapper:i.Fragment};const q=K;var X=n(83215),J=n(71002),Y=n(14638),$=n(28883),Q=["onTabSelect","appList"],ee=function(e){var t,n,r=e.onTabSelect,o=e.appList,u=(0,S.Z)(e,Q),p=(0,s.useLocation)().search,f=(0,s.useHistory)(),m=(0,c.useDispatch)(),g=new URLSearchParams(p),v=(0,c.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.activeApps)||[]})).filter((function(e){return!1!==e.isVisible})),y=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.activeApp})),h=(0,c.useSelector)((function(e){var t=e.systemProfileStore;return null==t?void 0:t.disabledApps})),b=(null==y?void 0:y.appName)||(null==o||null===(t=o.find((function(e){var t,n=e.pageId,r=e.name;return(null==v||null===(t=v[0])||void 0===t?void 0:t.name)===(n||r)})))||void 0===t?void 0:t.name)||(null==v||null===(n=v[0])||void 0===n?void 0:n.name),E=o||v,O=(0,i.useState)(E),w=(0,j.Z)(O,2),T=w[0],P=w[1];return(0,i.useEffect)((function(){var e=g.get("appName");e&&m((0,d.Xe)(e))}),[]),(0,i.useEffect)((function(){var e=E.filter((function(e){return!(null!=h&&h.includes(e.name))}));0!==e&&void 0!==(0,J.Z)(e)?P(e):P(E)}),[h]),l().createElement(l().Fragment,null,(null==E?void 0:E.length)>1&&l().createElement(Y.m,(0,a.Z)({},u,{activeKey:b,onSelect:function(e,t){var n=T.find((function(e){return e.name===t}));r?r(e,t,n):(g.set("appName",n.name),f.push({search:g.toString()})),m((0,d.Xe)(n.name))},isFilled:!0,className:"ins-c-inventory-detail__app-tabs"}),null==T?void 0:T.map((function(e,t){return l().createElement($.O,{key:t,eventKey:e.name,title:e.title})}))))};ee.propTypes={appList:p().arrayOf(p().shape({title:p().node,name:p().string.isRequired,pageId:p().string})),onTabSelect:p().func};const te=ee;var ne=n(87116),re=n(68340),ae=n(68774),oe=n(25834),ie=n(78140),le=n(32203),se=n(70),ce=n(49734),ue=n(62394),pe=n(66435);const de=function(){return l().createElement(ne.b,{variant:"info",isInline:!0,title:"Your insights-client is not reporting"},l().createElement(z.r,null,l().createElement(H.P,null,l().createElement(z.r,{hasGutter:!0},l().createElement(H.P,{span:4},l().createElement(ae.D,{style:{"--pf-c-content--LineHeight":"1","--pf-c-content--FontSize":"0.9rem"}},l().createElement(re.x,{component:re.q.p},"With Insights you can easly:"),l().createElement(oe.G,{component:"ul",style:{"--pf-c-content--ul--PaddingLeft":"0","--pf-c-content--ul--MarginLeft":"1rem"}},l().createElement(ie.T,null,"Optimize your IT Operations"),l().createElement(ie.T,null,"Manage your security and compliance"),l().createElement(ie.T,null,"Resolve operational issues quickly")))),l().createElement(H.P,{span:4},l().createElement(le.Z,{isCompact:!0},l().createElement(se.l,null,"Client setup"),l().createElement(ue.e,null,"Make sure the client is properly installed and registered"),l().createElement(ce.e,null,l().createElement(pe.M5,{isCode:!0,isReadOnly:!0,variant:"expansion"},"yum -install insights \ninsights-client register")))),l().createElement(H.P,{span:4},l().createElement(le.Z,{isCompact:!0,style:{height:"100%"}},l().createElement(se.l,null,"Configure troubleshooting"),l().createElement(ue.e,null,"Proceed with verification on the client to ensure insights-client is properly running and collecting data"),l().createElement(ce.e,null,l().createElement(y.zx,{component:"a",target:"_blank",variant:"link",href:"https://access.redhat.com/solutions/6758841",isInline:!0},"Host not reporting data to Red Hat Insights")))))),l().createElement(H.P,null,l().createElement(y.zx,{component:"a",target:"_blank",variant:"link",href:"https://console.redhat.com/security/insights",isInline:!0},"How does Red Hat keep data secure?"))))};var fe=function(e){var t=e.actions,n=e.showTags,r=e.hideInvLink,a=e.onTabSelect,o=e.onBackToListClick,u=e.showDelete,p=e.appList,f=e.showInventoryDrawer,m=e.UUIDWrapper,g=e.LastSeenWrapper,v=e.TitleWrapper,y=e.TagsWrapper,h=e.DeleteWrapper,b=e.ActionsWrapper,E=e.children,O=(0,s.useParams)().inventoryId,w=(0,c.useDispatch)(),T=(0,c.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.loaded)||!1})),S=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity}));return(0,i.useEffect)((function(){var e=O||location.pathname.replace(/\/$/,"").split("/").pop();S&&(null==S?void 0:S.id)===e&&T||w((0,d.A_)(e,{hasItems:!0},{showTags:n}))}),[]),l().createElement("div",{className:"ins-entity-detail"},T&&!S?l().createElement(P,{onBackToListClick:o,inventoryId:location.pathname.split("/")[location.pathname.split("/").length-1]}):l().createElement(i.Fragment,null,l().createElement(x,{entity:S,loaded:T,onBackToListClick:o,actions:t,deleteEntity:function(e,t,n){var r=(0,d.Ks)(e,t);w((0,Z.reloadWrapper)(r,n))},addNotification:function(e){return w((0,X.wN)(e))},hideInvLink:r,showInventoryDrawer:f,showDelete:u,showTags:n,TitleWrapper:v,TagsWrapper:y,DeleteWrapper:h,ActionsWrapper:b}),l().createElement(q,{loaded:T,entity:S,UUIDWrapper:m,LastSeenWrapper:g}),T&&!(null!=S&&S.insights_id)&&l().createElement(de,null),E),T&&S&&l().createElement(te,{onTabSelect:a,appList:p}))};fe.propTypes={hideInvLink:p().bool,hideBack:p().bool,showTags:p().bool,showDelete:p().bool,showInventoryDrawer:p().bool,actions:p().arrayOf(p().shape({title:p().node,onClick:p().func,key:p().string})),appList:p().arrayOf(p().shape({title:p().node,name:p().string,pageId:p().string})),onTabSelect:p().func,onBackToListClick:p().func,children:p().node,UUIDWrapper:p().elementType,LastSeenWrapper:p().elementType,TitleWrapper:p().elementType,TagsWrapper:p().elementType,DeleteWrapper:p().elementType,ActionsWrapper:p().elementType},fe.defaultProps={actions:[],hideInvLink:!1,showTags:!1,UUIDWrapper:i.Fragment,LastSeenWrapper:i.Fragment,TitleWrapper:i.Fragment,TagsWrapper:i.Fragment,DeleteWrapper:i.Fragment,ActionsWrapper:i.Fragment};const me=fe;var ge=function(e){var t=e.componentMapper,n=e.appList,r=(0,c.useStore)(),a=(0,s.useLocation)().search,o=new URLSearchParams(a),u=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded})),p=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),d=(0,c.useSelector)((function(e){var t,r,a,i=e.entityDetails;if(null!=i&&i.loaded)return(null===(t=n||(null==i?void 0:i.activeApps))||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(function(e){var t;return(null==e?void 0:e.name)===(o.get("appName")||(null==i||null===(t=i.activeApp)||void 0===t?void 0:t.appName))})))||(null==i||null===(a=i.activeApps)||void 0===a?void 0:a[0])})),f=t||(null==d?void 0:d.component);return!0!==u||p?l().createElement(i.Fragment,null,u?d&&l().createElement("div",{className:"ins-active-app-".concat(null==d?void 0:d.name)},f?l().createElement(f,{store:r,inventoryId:null==p?void 0:p.id,appName:null==d?void 0:d.name}):"missing component"):l().createElement(F.Z,{size:F.i.md})):null};ge.propTypes={componentMapper:p().element,appList:p().arrayOf(p().shape({title:p().node,name:p().string,pageId:p().string}))};const ve=ge,ye=function(e){return l().createElement(i.Fragment,null,l().createElement(me,e),l().createElement(ve,e))};var he=n(5436),be=n(16941),Ee=n(34241),Oe=n(16537),we=n(29821),Te=n(76770),Pe=n(58409),Se=n(28985),De=n(49739),je=n(83826),Ze=n(21899),Fe=n(26391),ke=function(e){var t=e.hideInvLink,n=e.showTags,r=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.display_name})),a=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),o=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.tags}));return l().createElement(De.K,{hasGutter:!0},l().createElement(je.v,null,l().createElement(W.P,null,l().createElement(B.J,{isFilled:!0},l().createElement(v.D,{headingLevel:"h3",size:"xl"},r)),!t&&l().createElement(B.J,null,l().createElement("a",{className:"ins-c-entity-detail__inv-link",href:"./insights/inventory/".concat(a)},"Open in Inventory")))),n&&l().createElement(je.v,null,l().createElement(W.P,{hasGutter:!0},l().createElement(B.J,null,"Tags:"),l().createElement(B.J,null,l().createElement(Fe.Z,null,0!==(null==o?void 0:o.length)?null==o?void 0:o.map((function(e,t){return l().createElement(Ze.A,{key:t,isReadOnly:!0},(null==e?void 0:e.namespace)&&"".concat(null==e?void 0:e.namespace,"/"),null==e?void 0:e.key,(null==e?void 0:e.value)&&"=".concat(null==e?void 0:e.value))})):"No tags")))))};ke.propTypes={hideInvLink:p().bool,showTags:p().bool},ke.defaultProps={hideInvLink:!1,showTags:!1};const Ie=ke;var Re=n(48140),Ce=n(86050),Le=n(52653),_e=n(80971),We=n(19210),Be=function(e){var t,n,r,a,o,s,u,p,f,m,g=e.isOpened,y=(0,c.useDispatch)(),h=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),b=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.advisor})),E=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.compliance})),O=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.cve})),w=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.patch}));return(0,i.useEffect)((function(){h&&g&&(y((0,d.gb)(h)),y((0,d.Oj)(h)),y((0,d.k0)(h)),y((0,d.Fo)(h)))}),[h,g]),l().createElement(De.K,{hasGutter:!0,className:"ins-c-inventory__drawer-system-issues"},l().createElement(je.v,null,l().createElement(v.D,{headingLevel:"h4",size:"lg"},"Top system issues")),l().createElement(je.v,null,l().createElement(Re.a,null,l().createElement(Ce.Z,null,l().createElement(De.K,{hasGutter:!0},l().createElement(je.v,{className:"ins-c-inventory__drawer--title"},"Applicable CVEs"),l().createElement(je.v,null,null!=O&&O.isLoaded?l().createElement(Re.a,{hasGutter:!0,className:"ins-c-inventory__drawer-cve"},l().createElement(Ce.Z,{className:"ins-m-critical"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=7")},(null==O||null===(t=O.critical)||void 0===t?void 0:t.count)||0," critical")),l().createElement(Ce.Z,{className:"ins-m-important"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=5")},(null==O||null===(n=O.important)||void 0===n?void 0:n.count)||0," important")),l().createElement(Ce.Z,{className:"ins-m-moderate"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=4")},(null==O||null===(r=O.moderate)||void 0===r?void 0:r.count)||0," moderate")),l().createElement(Ce.Z,{className:"ins-m-low"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=2")},(null==O||null===(a=O.low)||void 0===a?void 0:a.count)||0," low"))):l().createElement(F.Z,{size:F.i.md})))),l().createElement(Ce.Z,null,l().createElement(De.K,{hasGutter:!0},l().createElement(je.v,{className:"ins-c-inventory__drawer--title"},"Applicable advisories"),l().createElement(je.v,null,null!=w&&w.isLoaded?l().createElement(Re.a,{hasGutter:!0,className:"ins-c-inventory__drawer-patch"},l().createElement(Ce.Z,null,l().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=2")},l().createElement(Le.ZP,null)," ",null==w||null===(o=w.bug)||void 0===o?void 0:o.count)),l().createElement(Ce.Z,{className:"ins-m-moderate"},l().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=3")},l().createElement(We.ZP,null)," ",null==w||null===(s=w.security)||void 0===s?void 0:s.count)),l().createElement(Ce.Z,null,l().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=1")},l().createElement(_e.ZP,null)," ",null==w||null===(u=w.enhancement)||void 0===u?void 0:u.count))):l().createElement(F.Z,{size:F.i.md})))))),l().createElement(je.v,null,null!=b&&b.isLoaded?l().createElement("span",null,l().createElement("span",{className:"ins-m-critical"},(null==b||null===(p=b.criticalCount)||void 0===p?void 0:p.length)||0," critical")," recommendations in ",l().createElement("a",{href:"./insights/advisor/systems/".concat(h)},"Advisor")):l().createElement(F.Z,{size:F.i.md})),null!=E&&E.isLoaded?(null==E?void 0:E.profiles)&&l().createElement("span",null,"System above compliance threshold for ",l().createElement("a",{href:"./insights/compliance/reports/"},null==E||null===(f=E.profiles)||void 0===f?void 0:f.length," ",(null==E||null===(m=E.profiles)||void 0===m?void 0:m.length)>1?"policies":"policy")):l().createElement(F.Z,{size:F.i.md}))};Be.propTypes={isOpened:p().bool};const Ae=Be;var Ne=["children","hideInvLink","showTags","Wrapper","className","appName"],xe=function(e){var t=e.children,n=e.hideInvLink,r=e.showTags,o=e.Wrapper,i=e.className,s=e.appName,u=(0,S.Z)(e,Ne),p=(0,c.useDispatch)(),f=(0,c.useStore)(),m=(0,c.useSelector)((function(e){return e.entityDetails.isToggleOpened})),g=(0,c.useSelector)((function(e){return e.entityDetails.entity})),v=(0,c.useSelector)((function(e){return e.entityDetails.loaded}));return l().createElement(he.dy,(0,a.Z)({className:"ins-c-inventory__drawer ".concat(i||""),isExpanded:m,onExpand:function(){return p((0,d.wb)(!0))}},u),l().createElement(Ee.s,{panelContent:l().createElement(be.S,null,l().createElement(Pe.h,null,l().createElement(Ie,{hideInvLink:n,showTags:r}),l().createElement(Te.x,null,l().createElement(Se.c,{onClick:function(){return p((0,d.wb)(!1))}}))),l().createElement(we.F,null,l().createElement(De.K,{className:"ins-c-inventory__drawer--content"},l().createElement(je.v,null,l().createElement(Ae,{isOpened:m})),l().createElement(je.v,{isFilled:!0,className:"ins-c-inventory__drawer--facts"},l().createElement(q,{entity:g,loaded:v}),m&&v&&o&&l().createElement(o,{store:f,appName:s})))))},l().createElement(Oe.s,null,t)))};xe.propTypes={children:p().any,hideInvLink:p().bool,showTags:p().bool,appName:p().oneOf(["general_information","advisor","insights","compliance","vulnerabilities","patch"]),className:p().string,Wrapper:p().elementType},xe.defaultProps={appName:"general_information"};const ze=xe;var He=n(454),Me=n(68595),Ue=n(84506),Ve=n(3474),Ge=n(81945),Ke=n(7887),qe=n(13784),Xe=n(23279),Je=n.n(Xe),Ye=n(94654),$e=n.n(Ye),Qe=n(57971),et=n(85564),tt=n.n(et),nt=n(13718),rt=["actions","expandable","noSystemsTable"],at=["props","transforms","cellFormatters"];function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e,t,n){return t.map((function(t){var r=t.key,a=t.composed,o=t.renderFunc,s=a?l().createElement(i.Fragment,null,(0,nt.Z)(a.map((function(t){return E()(e,t," ")})),e.id,e,n)):E()(e,r," ");return o?l().createElement(i.Fragment,null,o(s,e.id,e,n)):s}))},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.actions,a=n.expandable,o=n.noSystemsTable,i=(0,S.Z)(n,rt);return 0===e.length?[{cells:[{title:o,props:{colSpan:t.length+Boolean(r),dataLabel:null}}]}]:tt()(e.map((function(e,n){return[it(it(it({},e),e.children&&a&&{isOpen:!!e.isOpen}),{},{cells:lt(e,t,i),actionProps:{"data-ouia-component-id":"".concat(e.id,"-actions-kebab")}}),e.children&&a&&{cells:[{title:"function"==typeof e.children?e.children():e.children}],parent:2*n,fullWidth:!0}]}))).filter(Boolean)},ct=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{},a=r.value;return n.filter((function(e){return e!==a}))},ut=function(e){return null==e?void 0:e.reduce((function(e,t){return e||t.toString().includes("onSort:")}),!1)};function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var dt={textFilter:""},ft="TEXT_FILTER",mt=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===ft&&{textFilter:r})},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[dt],t=(0,j.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(""),o=(0,j.Z)(a,2),l=o[0],s=o[1],c=r?n.textFilter:l,u=r?function(e){return r({type:ft,payload:e})}:s,p={label:"Name",value:"name-filter",filterValues:{placeholder:"Filter by name",value:c,onChange:function(e,t){return u(t)}}},d=c.length>0?[{category:"Display name",type:Z.TEXTUAL_CHIP,chips:[{name:c}]}]:[];return[p,d,c,u]},vt=["label"];function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var bt={stalenessFilter:[]},Et="STALENESS_FILTER",Ot=function(e,t){var n=t.type,r=t.payload;return ht({},n===Et&&{stalenessFilter:r})},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[bt],t=(0,j.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)([]),o=(0,j.Z)(a,2),l=o[0],s=o[1],c=r?n.stalenessFilter:l,u=r?function(e){return r({type:Et,payload:e})}:s,p={label:"Status",value:"stale-status",type:"checkbox",filterValues:{value:c,onChange:function(e,t){return u(t)},items:Z.staleness}},d=(null==c?void 0:c.length)>0?[{category:"Status",type:Z.STALE_CHIP,chips:Z.staleness.filter((function(e){var t=e.value;return c.includes(t)})).map((function(e){return ht({name:e.label},(0,S.Z)(e,vt))}))}]:[];return[p,d,c,u]},Tt=["label"];function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt={registeredWithFilter:[]},jt="REGISTERED_WITH_FILTER",Zt=function(e,t){var n=t.type,r=t.payload;return St({},n===jt&&{registeredWithFilter:r})},Ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[Dt],t=(0,j.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)([]),o=(0,j.Z)(a,2),l=o[0],s=o[1],c=r?n.registeredWithFilter:l,u=r?function(e){return r({type:jt,payload:e})}:s,p={label:"Data Collector",value:"data-collector-registered-with",type:"checkbox",filterValues:{value:c,onChange:function(e,t){return u(t)},items:Z.registered}},d=(null==c?void 0:c.length)>0?[{category:"Data Collector",type:Z.REGISTERED_CHIP,chips:Z.registered.filter((function(e){var t=e.value;return c.includes(t)})).map((function(e){return St({name:e.label},(0,S.Z)(e,Tt))}))}]:[];return[p,d,c,u]};function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=(0,Ve.YM)(e,t,n,r,a,"system"),i=o.filter,l=o.chips,s=o.selectedTags,c=o.setValue,u=o.filterTagsBy,p=o.seFilterTagsBy;return{tagsFilter:{label:"Tags",value:"tags",type:"group",placeholder:"Filter system by tag",filterValues:It({},i)},tagsChip:l,selectedTags:s,setSelectedTags:c,filterTagsBy:u,seFilterTagsBy:p}},Ct=n(98436);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var _t={operatingSystemFilter:[]},Wt="OPERATING_SYSTEM_FILTER",Bt=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===Wt&&{operatingSystemFilter:r})},At=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[_t],t=(0,j.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)([]),o=(0,j.Z)(a,2),l=o[0],s=o[1],c=r?n.operatingSystemFilter:l,u=r?function(e){return r({type:Wt,payload:e})}:s,p=(0,Ct.Zf)({value:c,onChange:function(e,t){return u(t)}}),d=(0,Ct.VT)(c);return[p,d,c,u]};function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zt=function(e){return function(t,n){return e.reduce((function(e,r){return xt(xt({},e),null==r?void 0:r(t,n))}),t)}},Ht=["total","page","perPage","filterConfig","hasItems","children","actionsConfig","activeFiltersConfig","showTags","getTags","items","sortBy","customFilters","hasAccess","bulkSelect","hideFilters","paginationProps","onRefreshData","loaded","showTagModal"];function Mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=function(e){var t,n=e.total,r=e.page,s=e.perPage,u=e.filterConfig,p=e.hasItems,f=e.children,m=e.actionsConfig,g=e.activeFiltersConfig,v=e.showTags,y=e.getTags,h=e.items,b=e.sortBy,E=e.customFilters,O=e.hasAccess,w=e.bulkSelect,T=e.hideFilters,P=e.paginationProps,k=e.onRefreshData,I=e.loaded,R=e.showTagModal,C=(0,S.Z)(e,Ht),L=(0,c.useDispatch)(),_=(0,i.useReducer)(zt([mt,Ot,Zt,Ve.sr,Bt]),Ut(Ut(Ut(Ut(Ut({},dt),bt),Dt),Ve.Yn),_t)),W=(0,c.useSelector)((function(e){return e.entities.activeFilters})),B=(0,c.useSelector)((function(e){return e.entities.allTagsLoaded})),A=(0,c.useSelector)((function(e){return e.entities.allTags})),N=(0,c.useSelector)((function(e){return e.entities.additionalTagsCount})),x=gt(_),z=(0,j.Z)(x,4),H=z[0],M=z[1],U=z[2],V=z[3],G=wt(_),K=(0,j.Z)(G,4),q=K[0],X=K[1],J=K[2],Y=K[3],$=Ft(_),Q=(0,j.Z)($,4),ee=Q[0],te=Q[1],ne=Q[2],re=Q[3],ae=At(_),oe=(0,j.Z)(ae,4),ie=oe[0],le=oe[1],se=oe[2],ce=oe[3],ue=Rt(A,B,N,(function(){return L((0,d.Ar)(!0))}),_),pe=ue.tagsFilter,de=ue.tagsChip,fe=ue.selectedTags,me=ue.setSelectedTags,ge=ue.filterTagsBy,ve=ue.seFilterTagsBy,ye=(0,i.useCallback)(Je()((function(e,t){v&&!p&&O&&L((0,d.C8)(e,Ut(Ut({},E),t),y))}),800),[null==E?void 0:E.tags]),he=(0,i.useCallback)((function(e){O&&(k(e),v&&!p&&L((0,d.C8)(ge,Ut(Ut({},E),{},{filters:(null==e?void 0:e.filters)||W}),y)))}),[null==E?void 0:E.tags]),be={name:!(T.all&&!1!==T.name||T.name),stale:!(T.all&&!1!==T.stale||T.stale),registeredWith:!(T.all&&!1!==T.registeredWith||T.registeredWith),operatingSystem:!(T.all&&!1!==T.operatingSystem||T.operatingSystem),tags:!(T.all&&!1!==T.tags||T.tags)},Ee=function(e){O&&he(e)},Oe=(0,i.useCallback)(Je()((function(e){return Ee(e)}),800),[null==b?void 0:b.key,null==b?void 0:b.direction]);(0,i.useEffect)((function(){var e=(0,Z.reduceFilters)(W),t=e.textFilter,n=e.tagFilters,r=e.staleFilter,a=e.registeredWithFilter,o=e.osFilter;Oe(),be.name&&V(t),be.stale&&Y(r),be.registeredWith&&re(a),be.tags&&me(n),be.operatingSystem&&ce(o)}),[]);var we=function(e,t,n){var r=[].concat((0,D.Z)(null==W?void 0:W.filter((function(e){return!Object.prototype.hasOwnProperty.call(e,t)}))),[(0,o.Z)({},t,e)]);n({page:1,perPage:s,filters:r})},Te=r&&s&&W&&(!p||h);(0,i.useEffect)((function(){Te&&v&&be.tags&&ye(ge,{filters:W})}),[ge,null==E?void 0:E.tags]),(0,i.useEffect)((function(){Te&&be.name&&function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.trim(),r=null==W?void 0:W.find((function(e){return e.value===Z.TEXT_FILTER}));r?r.filter=n:null==W||W.push({value:Z.TEXT_FILTER,filter:n}),(t?Oe:Ee)({page:1,perPage:s,filters:W})}(U,!0)}),[U]),(0,i.useEffect)((function(){Te&&be.stale&&we(J,"staleFilter",Oe)}),[J]),(0,i.useEffect)((function(){Te&&be.registeredWith&&we(ne,"registeredWithFilter",Oe)}),[ne]),(0,i.useEffect)((function(){Te&&v&&be.tags&&we((0,Ge.Nc)(fe),"tagFilters",Oe)}),[fe]),(0,i.useEffect)((function(){Te&&be.operatingSystem&&we(se,"osFilter",Oe)}),[se]);var Pe,Se=(t={},(0,o.Z)(t,Z.TEXTUAL_CHIP,(function(){return V("")})),(0,o.Z)(t,Z.TAG_CHIP,(function(e){return me(function(e,t,n){var r,a,o=null==e||null===(r=e.chips)||void 0===r?void 0:r[0];return void 0!==(null==t||null===(a=t[null==e?void 0:e.key])||void 0===a?void 0:a[null==o?void 0:o.key])&&(t[null==e?void 0:e.key][null==o?void 0:o.key]=!1),n&&n(t),t}(e,fe,(function(e){return we((0,Ge.Nc)(e),"tagFilters",Ee)})))})),(0,o.Z)(t,Z.STALE_CHIP,(function(e){return Y(ct(e,J))})),(0,o.Z)(t,Z.REGISTERED_CHIP,(function(e){return re(ct(e,ne))})),(0,o.Z)(t,Z.OS_CHIP,(function(e){return ce(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=((null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{}).value,a="".concat(r.split(".")[0],".0");return it(it({},n),{},(0,o.Z)({},a,Object.keys(n[a]).reduce((function(e,t){return t!==r&&(e[t]=!0),e}),{})))}(e,se))})),t),De=[].concat((0,D.Z)(p?[]:[].concat((0,D.Z)(be.name?[H]:[]),(0,D.Z)(be.stale?[q]:[]),(0,D.Z)(be.operatingSystem?[ie]:[]),(0,D.Z)(be.registeredWith?[ee]:[]),(0,D.Z)(v&&be.tags?[pe]:[]))),(0,D.Z)((null==u?void 0:u.items)||[]));return l().createElement(i.Fragment,null,l().createElement(Ke.Z,(0,a.Z)({},C,w&&{bulkSelect:Ut(Ut({},w),{},{isDisabled:(null==w?void 0:w.isDisabled)||!O})},{className:"ins-c-inventory__table--toolbar ".concat(p||!De.length?"ins-c-inventory__table--toolbar-has-items":"")},(null==De?void 0:De.length)>0&&{filterConfig:Ut(Ut({},u||{}),{},{isDisabled:!O,items:null==De?void 0:De.map((function(e){var t,n;return Ut(Ut({},e),{},{filterValues:Ut(Ut({placeholder:(null==e||null===(t=e.filterValues)||void 0===t?void 0:t.placeholder)||"Filter by ".concat(null==e||null===(n=e.label)||void 0===n?void 0:n.toLowerCase())},null==e?void 0:e.filterValues),{},{isDisabled:!O})})}))})},(U.length>0||$e()(Object.values(fe),(function(e){return Object.values(e).filter(Boolean)})).filter(Boolean).length>0||(null==J?void 0:J.length)>0||(null==ne?void 0:ne.length)>0||(null==se?void 0:se.length)>0||(null==g||null===(Pe=g.filters)||void 0===Pe?void 0:Pe.length)>0)&&O&&{activeFiltersConfig:Ut(Ut({},g||{}),{},{filters:[].concat((0,D.Z)(v&&!p&&be.tags?de:[]),(0,D.Z)(!p&&be.name?M:[]),(0,D.Z)(!p&&be.stale?X:[]),(0,D.Z)(!p&&be.registeredWith?te:[]),(0,D.Z)(!p&&be.operatingSystem?le:[]),(0,D.Z)((null==g?void 0:g.filters)||[])),onDelete:function(e,t,n){var r,a=(0,Ue.Z)(t),o=a[0],i=a.slice(1);n?(L((0,d.K5)()),be.name&&V(""),be.stale&&Y(qe.js.staleFilter),be.registeredWith&&re([]),be.tags&&me({}),be.operatingSystem&&ce([]),L((0,d.Tv)([qe.js])),Ee({page:1,filters:[qe.js]})):null===(r=Se[o.type])||void 0===r||r.call(Se,o),g&&g.onDelete&&g.onDelete(e,[o].concat((0,D.Z)(i)),n,qe.js)}})},{actionsConfig:I?m:null,pagination:I?Ut({page:r,itemCount:O?n:0,isDisabled:!O,perPage:s,onSetPage:function(e,t){return k({page:t})},onPerPageSelect:function(e,t){return k({page:1,per_page:t})}},P):l().createElement(F.Z,{size:F.i.lg})}),f),(v||be.tags||R)&&l().createElement(Z.TagsModal,{customFilters:E,filterTagsBy:ge,onApply:function(e){return me((0,Z.arrayToSelection)(e))},onToggleModal:function(){return ve("")},getTags:y}))};Vt.propTypes={showTags:p().bool,getTags:p().func,hasAccess:p().bool,filterConfig:Ke.Z.propTypes.filterConfig,total:p().number,filters:p().array,hasItems:p().bool,page:p().number,onClearFilters:p().func,toggleTagModal:p().func,perPage:p().number,children:p().node,pagination:Ke.Z.propTypes.pagination,actionsConfig:Ke.Z.propTypes.actionsConfig,activeFiltersConfig:Ke.Z.propTypes.activeFiltersConfig,onRefreshData:p().func,customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),hideFilters:p().shape({tags:p().bool,name:p().bool,registeredWith:p().bool,stale:p().bool,operatingSystem:p().bool,all:p().bool}),paginationProps:p().object,loaded:p().bool,onRefresh:p().func,hasCheckbox:p().bool,isLoaded:p().bool,items:p().array,sortBy:p().object,bulkSelect:p().object,showTagModal:p().bool,disableDefaultColumns:p().any},Vt.defaultProps={showTags:!1,hasAccess:!0,activeFiltersConfig:{},filters:[],hideFilters:{}};const Gt=Vt;var Kt=n(65550),qt=n(2443),Xt=n(1284),Jt=n(81739);const Yt=function(){return l().createElement(f.u,{variant:f.I.full},l().createElement(v.D,{headingLevel:"h5",size:"lg"},"No matching systems found"),l().createElement(g.B,null,"To continue, edit your filter settings and search again."))};var $t,Qt=n(21216);function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=function(e){var t,n,r=e.hasItems,o=e.expandable,u=e.onExpandClick,p=e.hasCheckbox,f=e.actions,m=e.variant,g=e.sortBy,v=e.tableProps,y=e.onSort,h=e.expandable,b=e.onRowClick,E=e.noDetail,O=e.noSystemsTable,w=void 0===O?l().createElement(Yt,null):O,T=e.showTags,P=e.columns,j=e.disableDefaultColumns,Z=e.loaded,F=e.columnsCounter,k=(0,c.useDispatch)(),I=(0,s.useHistory)(),R=(0,s.useLocation)(),C=(0,c.useSelector)((function(e){return e.entities.rows})),L=(0,c.useSelector)((function(e){return e.entities.columns}),(function(e,t){return e.every((function(e,n){var r=e.key;return t.findIndex((function(e){return e.key===r}))===n}))})),_=(0,i.useRef)([]);(0,i.useMemo)((function(){if("function"==typeof P)_.current=P(Qt.y5);else if(P){var e=Array.isArray(j)?j:[],t=Qt.y5.filter((function(t){var n=t.key;return"tags"===n&&T||"tags"!==n&&!e.includes(n)}));_.current=(0,Xt.mergeArraysByKey)(["boolean"==typeof j&&j?[]:t,P],"key")}else _.current=L}),[T,Array.isArray(j)?j.join():j,Array.isArray(P)?P.map((function(e){return e.key})).join():"function"==typeof P?"function":P,Array.isArray(L)?L.map((function(e){return e.key})).join():L,F]);var W=Z&&function(e,t,n,r){return null==e?void 0:e.map((function(e){var a=e.props,o=e.transforms,i=e.cellFormatters;return it(it({},(0,S.Z)(e,at)),{},{transforms:[].concat((0,D.Z)(o||[]),(0,D.Z)(null!=a&&a.width?[(0,Qe.cellWidth)(a.width)]:[]),(0,D.Z)(t||n.length<=0||a&&a.isStatic||null!=o&&o.includes(Qe.sortable)||ut(o)?[]:[Qe.sortable])),cellFormatters:[].concat((0,D.Z)(i||[]),(0,D.Z)(r?[Qe.expandable]:[]))})}))}(_.current,r,C,h);return delete v.RowWrapper,0===(null==C?void 0:C.length)&&delete v.actionResolver,l().createElement(l().Fragment,null,Z&&W?Qe.Table&&l().createElement(Qe.Table,(0,a.Z)({variant:m,"aria-label":"Host inventory",cells:W,rows:st(C,_.current,{actions:f,expandable:o,loaded:Z,onRowClick:b||function(e,t){I.push("".concat(R.pathname).concat("/"===R.pathname.slice(-1)?"":"/").concat(t))},noDetail:E,sortBy:g,noSystemsTable:w}),gridBreakPoint:(null===(t=_.current)||void 0===t?void 0:t.length)>5?Qe.TableGridBreakpoint.gridLg:Qe.TableGridBreakpoint.gridMd,className:"ins-c-entity-table",onSort:function(e,t,n){var r;!function(e,t,n,r){"action"!==t&&"health"!==t&&k((0,d.HD)({index:r,key:t,direction:n})),null==y||y({index:r,key:t,direction:n})}(0,null==W||null===(r=W[t-Boolean(p)-Boolean(o)])||void 0===r?void 0:r.sortKey,n,t)},sortBy:{index:(null==W?void 0:W.findIndex((function(e){return(null==g?void 0:g.key)===e.key})))+Boolean(p)+Boolean(o),direction:null==g?void 0:g.direction}},tn(tn(tn({},p&&0!==(null==C?void 0:C.length)?{onSelect:function(e,t,n){var r=h?C[n/2]:C[n];k((0,d.CL)(-1===n?0:r.id,t))}}:{}),o?{onCollapse:u}:{}),f&&(null==C?void 0:C.length)>0&&{actions:f}),{isStickyHeader:!0},v),l().createElement(Qe.TableHeader,null),l().createElement(Qe.TableBody,null)):l().createElement(Jt.Z,{colSize:(null===(n=_.current)||void 0===n?void 0:n.length)||3,rowSize:15,variant:null!=m?m:v.variant}))};nn.propTypes={variant:p().oneOf(["compact"]),expandable:p().bool,onExpandClick:p().func,onSort:p().func,hasCheckbox:p().bool,showActions:p().bool,hasItems:p().bool,showHealth:p().bool,sortBy:p().shape({key:p().string,direction:p().oneOf(["asc","desc"])}),tableProps:p().shape(($t={},(0,o.Z)($t,p().string,p().any),(0,o.Z)($t,"RowWrapper",p().elementType),(0,o.Z)($t,"variant",p().string),(0,o.Z)($t,"actionResolver",p().func),$t)),onRowClick:p().func,showTags:p().bool,noSystemsTable:p().node,disableDefaultColumns:p().oneOfType([p().bool,p().arrayOf(p().string)]),loaded:p().bool,columnsCounter:p().number,columns:p().oneOfType([p().array,p().func]),isLoaded:p().bool,actions:p().array,noDetail:p().any},nn.defaultProps={loaded:!1,showHealth:!1,expandable:!1,hasCheckbox:!0,showActions:!1,rows:[],variant:Qe.TableVariant.compact,onExpandClick:function(){},tableProps:{}};const rn=nn;var an=n(18446),on=n.n(an),ln=n(85333),sn=n(35224),cn=["title","description"],un=function(e){var t=e.title,n=e.description,r=(0,S.Z)(e,cn);return l().createElement(ln.Z,(0,a.Z)({},r,{className:"ins-c-inventory__no--access",title:t,description:l().createElement(sn.u,{content:"inventory:*:read"},n)}))};un.propTypes={title:p().string,description:p().node},un.defaultProps={title:"You do not have access to Inventory",description:l().createElement("div",null,"To view your systems, you must be granted inventory access from your Organization Administrator.")};const pn=un;var dn=["children","isOpen"],fn=["showHealth","onRefreshData","ignoreRefresh"],mn=["hasAccess","onRefreshData"];function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn=function(e){return e.children,e.isOpen,(0,S.Z)(e,dn)},hn=function(e){e.showHealth;var t=e.onRefreshData,n=e.ignoreRefresh,r=(0,S.Z)(e,fn),o=(0,i.useRef)(r.items),s=(0,i.useRef)(r.sortBy);return(0,i.useEffect)((function(){r.hasItems&&t({},n)}),[]),(0,i.useEffect)((function(){r.hasItems&&!on()(o.current.map(yn),r.items.map(yn))&&(o.current=r.items,t({},n)),r.hasItems||on()(s.current,r.sortBy)||(s.current=r.sortBy,t({},n))})),l().createElement(z.r,{gutter:"sm",className:"ins-inventory-list"},l().createElement(H.P,{span:12},l().createElement(rn,(0,a.Z)({},r,{onRefreshData:t}))))},bn=l().forwardRef((function(e,t){var n=e.hasAccess,r=e.onRefreshData,o=(0,S.Z)(e,mn),i=(0,c.useSelector)((function(e){return e.entities.activeFilters}));return t&&(t.current={onRefreshData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r(e,t)}}),n?l().createElement(hn,(0,a.Z)({},o,{activeFilters:i,onRefreshData:r})):l().createElement("div",{className:"ins-c-inventory__no-access"},l().createElement(pn,{showReturnButton:!1}))}));hn.propTypes=vn(vn({},bn.propTypes),{},{setRefresh:p().func,onRefreshData:p().func,ignoreRefresh:p().bool}),hn.defaultProps={perPage:50,page:1,ignoreRefresh:!0},bn.propTypes={showTags:p().bool,filterEntities:p().func,loadEntities:p().func,showHealth:p().bool,page:p().number,perPage:p().number,sortBy:p().shape({key:p().string,direction:p().string}),items:p().arrayOf(p().oneOfType([p().string,p().shape({id:p().string.isRequired}),p().shape({account:p().any,isOpen:p().bool,title:p().node})])),entities:p().arrayOf(p().any),customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),getEntities:p().func,hideFilters:p().shape({tags:p().bool,name:p().bool,registeredWith:p().bool,stale:p().bool,operatingSystem:p().bool}),onRefreshData:p().func},bn.defaultProps={hasAccess:!0};const En=bn;var On=n(71070),wn=function(e){var t=e.total,n=e.page,r=e.perPage,o=e.direction,i=e.isFull,s=e.hasAccess,c=e.paginationProps,u=e.onRefreshData;return e.loaded||!s?l().createElement(On.t,(0,a.Z)({},i&&{variant:On.a.bottom},{isDisabled:!s,itemCount:t,page:n,perPage:r,dropDirection:o,onSetPage:function(e,t){return u({page:t})},onPerPageSelect:function(e,t){return u({page:1,per_page:t})}},c)):null};wn.propTypes={perPage:p().number,total:p().number,page:p().number,isFull:p().bool,hasAccess:p().bool,direction:p().string,paginationProps:p().object,loaded:p().bool,onRefreshData:p().func.isRequired},wn.defaultProps={total:0,isFull:!1,direction:"up",hasAccess:!0};const Tn=wn;var Pn=["onRefresh","children","inventoryRef","items","total","page","perPage","filters","showTags","sortBy","customFilters","hasAccess","isFullView","getEntities","getTags","hideFilters","paginationProps","errorState","autoRefresh","isLoaded","initialLoading","ignoreRefresh","showTagModal"];function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=(0,i.forwardRef)((function(e,t){var n=e.onRefresh,r=e.children,o=(e.inventoryRef,e.items),s=e.total,u=e.page,p=e.perPage,f=e.filters,m=e.showTags,g=e.sortBy,v=e.customFilters,y=e.hasAccess,h=void 0===y||y,b=e.isFullView,E=void 0!==b&&b,O=e.getEntities,w=e.getTags,T=e.hideFilters,P=e.paginationProps,D=e.errorState,F=void 0===D?l().createElement(qt.Z,null):D,k=e.autoRefresh,I=e.isLoaded,R=e.initialLoading,C=e.ignoreRefresh,L=e.showTagModal,_=(0,S.Z)(e,Pn),W=Boolean(o),B=(0,c.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.error})),A=(0,c.useSelector)((function(e){var t=e.entities.page;return W?u:t||1}),c.shallowEqual),N=(0,c.useSelector)((function(e){var t=e.entities.perPage;return W?p:t||50}),c.shallowEqual),x={page:A,perPage:N,total:(0,c.useSelector)((function(e){var t=e.entities.total;return W?void 0!==s?s:null==o?void 0:o.length:t}),c.shallowEqual)},z=(0,c.useSelector)((function(e){var t=e.entities.sortBy;return W?g:t}),c.shallowEqual),H=(0,c.useSelector)((function(e){var t=e.entities;return W&&void 0!==I?I&&(null==t?void 0:t.loaded):null==t?void 0:t.loaded})),M=(0,i.useState)(R),U=(0,j.Z)(M,2),V=U[0],G=U[1];(0,i.useEffect)((function(){H||G()}),[H]);var K=H&&!V,q=(0,c.useDispatch)(),X=(0,c.useStore)(),J=(0,i.useRef)(function(){var e={};return{updateProps:function(t){e=t},getProps:function(){return e}}}());J.current.updateProps({page:A,perPage:N,items:o,sortBy:z,hideFilters:T,showTags:m,getEntities:O,customFilters:v,hasItems:W});var Y=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=X.getState().entities.activeFilters,o=(null===(e=J.current)||void 0===e?void 0:e.getProps())||{},i=(null==t?void 0:t.per_page)||(null==t?void 0:t.perPage)||o.perPage,l=Dn(Dn({page:o.page,per_page:i,items:o.items,sortBy:o.sortBy,hideFilters:o.hideFilters,filters:a,hasItems:o.hasItems},o.customFilters),t);n&&!r?(q((0,d.nE)()),n(l,(function(e){q((0,Z.loadSystems)(Dn(Dn({},l),e),o.showTags,o.getEntities))}))):q((0,Z.loadSystems)(l,o.showTags,o.getEntities))},$=(0,i.useRef)(v);return(0,i.useEffect)((function(){k&&!on()($.current,v)&&(Y({page:1}),$.current=v)})),!1===h&&E?l().createElement(pn,{title:"This application requires Inventory permissions",description:l().createElement("div",null,"To view the content of this page, you must be granted a minimum of inventory permissions from your Organization Administrator.")}):B?F:l().createElement(i.Fragment,null,l().createElement(Gt,(0,a.Z)({},_,{customFilters:v,hasAccess:h,items:o,filters:f,hasItems:W,total:x.total,page:x.page,perPage:x.perPage,showTags:m,getTags:w,onRefreshData:Y,sortBy:z,hideFilters:T,paginationProps:P,loaded:K,showTagModal:L,activeFiltersConfig:Dn({deleteTitle:"Reset filters"},_.activeFiltersConfig)}),r),l().createElement(En,(0,a.Z)({},_,{customFilters:v,hasAccess:h,ref:t,hasItems:W,items:o,page:x.page,sortBy:z,perPage:x.perPage,showTags:m,onRefreshData:Y,loaded:K,ignoreRefresh:C})),l().createElement(Kt.Z,{isFooter:!0,className:"ins-c-inventory__table--toolbar"},l().createElement(Tn,{hasAccess:h,isFull:!0,total:x.total,page:x.page,perPage:x.perPage,hasItems:W,onRefreshData:Y,paginationProps:P,loaded:K})))}));jn.propTypes={autoRefresh:p().bool,onRefresh:p().func,children:p().node,inventoryRef:p().object,items:p().array,total:p().number,page:p().number,perPage:p().number,filters:p().any,showTags:p().bool,getTags:p().func,sortBy:p().object,customFilters:p().any,hasAccess:p().bool,isFullView:p().bool,getEntities:p().func,hideFilters:p().object,paginationProps:p().object,errorState:p().node,isLoaded:p().bool,initialLoading:p().bool,ignoreRefresh:p().bool,showTagModal:p().bool,activeFiltersConfig:p().object};const Zn=jn;var Fn=n(43707),kn=n(2372),In=["showInventoryDrawer","isRbacEnabled"],Rn=function(e){var t=e.showInventoryDrawer,n=e.isRbacEnabled,r=(0,S.Z)(e,In),a=(0,Fn.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0),o=a.hasAccess;return a.isLoading?l().createElement(kn.$,null):n&&!1===o?l().createElement(pn,null):t?l().createElement(ze,r):l().createElement(l().Fragment,r)};Rn.propTypes={showInventoryDrawer:p().bool,isRbacEnabled:p().bool},Rn.defaultProps={showInventoryDrawer:!1};const Cn=Rn;function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wn(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Boolean(n);return _n({InventoryTable:l().forwardRef((function(t,n){return l().createElement(He.Z,(0,a.Z)({},t,{isRbacEnabled:o,inventoryRef:n,store:e,cmp:Zn}))})),AppInfo:l().forwardRef((function(n,r){return l().createElement(He.Z,(0,a.Z)({hideLoader:!0},n,t,{isRbacEnabled:o,inventoryRef:r,store:e,cmp:ve}))})),InventoryDetailHead:l().forwardRef((function(n,r){return l().createElement(He.Z,(0,a.Z)({hideLoader:!0},n,t,{isRbacEnabled:o,inventoryRef:r,store:e,showInventoryDrawer:i&&!n.hideInvDrawer,cmp:me}))})),InventoryDetail:l().forwardRef((function(n,r){return l().createElement(He.Z,(0,a.Z)({hideLoader:!0},n,t,{isRbacEnabled:o,inventoryRef:r,store:e,showInventoryDrawer:i,cmp:ye}))})),TagWithDialog:l().forwardRef((function(t,n){return l().createElement(He.Z,(0,a.Z)({},t,{inventoryRef:n,isRbacEnabled:o,store:e,cmp:Me.Z}))})),DetailWrapper:function(e){return l().createElement(Cn,(0,a.Z)({Wrapper:n,isRbacEnabled:o,showInventoryDrawer:i},e))}},r)}},81754:()=>{},80598:()=>{},93818:()=>{},94498:()=>{},80897:()=>{},81320:()=>{},56024:()=>{},43390:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2872.05c288fd927956e007f9a148c5c67e66.js.map