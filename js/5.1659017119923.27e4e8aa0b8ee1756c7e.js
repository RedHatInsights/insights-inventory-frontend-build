(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[5,1931],{39903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var o=n(92950),r=n.n(o),a=n(45697),i=n.n(a),l=n(66435),s=n(80236),u=n(79851),c=n(34512),d=n(49739),p=n(83826),f=n(48140),v=n(86050),y=n(47173),g=n(19694),m=function(e){var t,n=e.handleModalToggle,o=e.isModalOpen,a=e.currentSytems,i=e.onConfirm,m="system";return Array.isArray(a)?(t=1===a.length?a[0].display_name:"".concat(a.length," systems"),m=1===a.length?m:"systems"):t=a.display_name,r().createElement(s.u,{variant:"small",title:"Remove from inventory",className:"ins-c-inventory__table--remove",ouiaId:"inventory-delete-modal",isOpen:o,onClose:function(){return n(!1)},appendTo:document.getElementsByClassName("inventory")[0]||document.body},r().createElement(u.P,{hasGutter:!0},r().createElement(c.J,null,r().createElement(g.ZP,{size:"xl",className:"ins-m-alert"})),r().createElement(c.J,{isFilled:!0},r().createElement(d.K,{hasGutter:!0},r().createElement(p.v,null,t," will be removed from all ",location.host," applications and services. You need to re-register the ",m," to add it back to your inventory."),r().createElement(p.v,null,"To disable the daily upload for this ",m,", use the following command:"),r().createElement(p.v,null,r().createElement(l.M5,null,"insights-client --unregister"))))),r().createElement(f.a,{hasGutter:!0},r().createElement(v.Z,null,r().createElement(y.zx,{variant:"danger",ouiaId:"confirm-inventory-delete",onClick:i},"Remove"),r().createElement(y.zx,{variant:"link",ouiaId:"cancel-inventory-delete",onClick:function(){return n(!1)}},"Cancel"))))},h=i().shape({id:i().string,displayName:i().string});m.propTypes={isModalOpen:i().bool,currentSytems:i().oneOfType([h,i().arrayOf(h)]),handleModalToggle:i().func,onConfirm:i().func},m.defaultProps={isModalOpen:!1,currentSytems:{},handleModalToggle:function(){},onConfirm:function(){}};const T=m},68595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var o=n(92950),r=n.n(o),a=n(45697),i=n.n(a),l=n(32384),s=n(19281),u=n(94778),c=function(e){var t=e.count,n=e.loadTags,o=e.systemId;return r().createElement("span",{onClick:function(e){return e.stopPropagation()},className:"ins-c-inventory__list-tags","data-ouia-component-id":"".concat(o,"-tag-button")},r().createElement(s.Z,{count:t,onTagClick:function(){return n(o,t)}}))};c.propTypes={count:i().number,loadTags:i().func,systemId:i().string};const d=(0,l.connect)((function(){return{}}),(function(e){return{loadTags:function(t,n){t&&(e((0,u.Ar)(!0)),e((0,u.me)(t,void 0,void 0,n)))}}}))(c)},454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n(87462),r=n(45987),a=n(92950),i=n.n(a),l=n(45697),s=n.n(l),u=n(43707),c=n(2372),d=["cmp","hideLoader","isRbacEnabled","inventoryRef","store"],p=function(e){var t=e.cmp,n=e.hideLoader,a=e.isRbacEnabled,l=e.inventoryRef,s=e.store,p=(0,r.Z)(e,d),f=(0,u.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0),v=f.hasAccess;return f.isLoading&&!n?i().createElement(c.$,null):i().createElement(t,(0,o.Z)({},p,l&&{ref:l},{hasAccess:!a||v,store:s}))};p.propTypes={cmp:s().any,inventoryRef:s().any,store:s().object,customRender:s().bool,isRbacEnabled:s().bool,hideLoader:s().bool};const f=p},73880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteModal:()=>C.Z,InventoryContext:()=>D.FW,OS_CHIP:()=>D.vi,REGISTERED_CHIP:()=>D.p9,RenderWrapper:()=>O.Z,STALE_CHIP:()=>D.yc,TAG_CHIP:()=>D.m5,TEXTUAL_CHIP:()=>D.UC,TEXT_FILTER:()=>D.ud,TagWithDialog:()=>o.Z,TagsModal:()=>S,arrayToSelection:()=>D.Nu,defaultFilters:()=>D.js,filterToGroup:()=>D.Tk,generateFilter:()=>D.h3,isEmpty:()=>D.xb,loadSystems:()=>D.K$,operatingSystems:()=>D.wQ,reduceFilters:()=>D.YQ,registered:()=>D.Gw,reloadWrapper:()=>D.KS,staleness:()=>D.jv});var o=n(68595),r=n(87462),a=n(4942),i=n(93433),l=n(29439),s=n(92950),u=n.n(s),c=n(32384),d=n(45697),p=n.n(d),f=n(94778),v=n(98944),y=n(57971),g=n(23279),m=n.n(g),h=n(85564),T=n.n(h);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=function(e){var t=e.customFilters,n=e.filterTagsBy,o=e.onToggleModal,a=e.onApply,d=e.getTags,p=(0,c.useDispatch)(),g=(0,s.useState)(""),h=(0,l.Z)(g,2),E=h[0],P=h[1],S=(0,s.useState)([]),O=(0,l.Z)(S,2),C=O[0],D=O[1],_=(0,s.useState)({perPage:10,page:1}),Z=(0,l.Z)(_,2),w=Z[0],I=Z[1],M=(0,c.useSelector)((function(e){var t,n=e.entities,o=e.entityDetails;return null===(t=n||o)||void 0===t?void 0:t.showTagDialog})),A=(0,c.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return null!=t&&t.activeSystemTag||null!=n&&n.entity?w:(null==t?void 0:t.allTagsPagination)||w}),c.shallowEqual),j=(0,c.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.tagModalLoaded)||(null==n?void 0:n.tagModalLoaded)})),k=(0,c.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.activeSystemTag)||(null==n?void 0:n.entity)})),F=(0,c.useSelector)((function(e){var t,n,o,r=e.entities,a=e.entityDetails,l=(null==r||null===(t=r.activeSystemTag)||void 0===t?void 0:t.tags)||(null==a||null===(n=a.entity)||void 0===n?void 0:n.tags);return l?null==l?void 0:l.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(E)}))})).slice((null==w?void 0:w.perPage)*((null==w?void 0:w.page)-1),(null==w?void 0:w.perPage)*(null==w?void 0:w.page)):null==r||null===(o=r.allTags)||void 0===o?void 0:o.reduce((function(e,t){var n=t.tags;return[].concat((0,i.Z)(e),(0,i.Z)(T()(n.map((function(e){return e.tag})))))}),[])})),L=(0,c.useSelector)((function(e){var t,n=e.entities,o=e.entityDetails;return null===(t=n||o)||void 0===t?void 0:t.activeFilters})),R=(0,c.useSelector)((function(e){var t,n,o,r=e.entities,a=e.entityDetails,i=null===(t=(null==r||null===(n=r.activeSystemTag)||void 0===n?void 0:n.tags)||(null==a||null===(o=a.entity)||void 0===o?void 0:o.tags))||void 0===t?void 0:t.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(E)}))}));return i?i.length:null==r?void 0:r.allTagsTotal}));(0,s.useEffect)((function(){P(n)}),[n]);var N=function(e,n){k?I((function(){return e})):p((0,f.C8)(n,b(b({},t),{},{pagination:e,filters:L}),d))},q=(0,s.useCallback)(m()(N,800),[k]);return u().createElement(v.Z,(0,r.Z)({className:"ins-c-inventory__tags-modal",tableProps:{canSelectAll:!1}},j&&{loaded:j,pagination:b(b({},A),{},{count:R}),rows:(null==F?void 0:F.map((function(e){var t=e.key,n=e.value,o=e.namespace;return{id:"".concat(o,"/").concat(t,"=").concat(n),selected:C.find((function(e){return e.id==="".concat(o,"/").concat(t,"=").concat(n)})),cells:[t,n,o]}})))||[]},{loaded:j,width:"auto",isOpen:M,toggleModal:function(){D([]),P(""),o(),p((0,f.Ar)(!1))},filters:[{label:"Tags filter",placeholder:"Filter tags",value:"tags-filter",filterValues:{value:E,onChange:function(e,t){q(A,t),P(t)}}}],onUpdateData:function(e){return N(e,E)},columns:[{title:"Name"},{title:"Value",transforms:[(0,y.cellWidth)(30)]},{title:"Tag source",transforms:[(0,y.cellWidth)(30)]}]},!k&&{onSelect:function(e){return D(e)},selected:C,onApply:function(){return a&&a(C)}},{bulkSelect:{id:"bulk-select-tags"},title:k?"".concat(k.display_name," (").concat(R,")"):"All tags in inventory (".concat(R,")")}))};P.propTypes={onApply:p().func,onToggleModal:p().func,filterTagsBy:p().string,customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),getTags:p().func},P.defaultProps={filterTagsBy:"",onToggleModal:function(){}};const S=P;var O=n(454),C=n(39903),D=n(13784)},94778:(e,t,n)=>{"use strict";n.d(t,{gb:()=>a.gb,Oj:()=>a.Oj,k0:()=>a.k0,Fo:()=>a.Fo,K5:()=>i.K5,u3:()=>i.u3,Xe:()=>i.Xe,nE:()=>i.nE,C8:()=>i.C8,CP:()=>i.CP,fg:()=>i.fg,il:()=>i.il,A_:()=>i.A_,me:()=>i.me,CL:()=>i.CL,HD:()=>i.HD,wb:()=>i.wb,Ar:()=>i.Ar,jB:()=>i.jB,Ks:()=>l,Tv:()=>s,L1:()=>u,$Y:()=>c,Jr:()=>d,eR:()=>p,Uw:()=>f});var o=n(59086),r=n(63599),a=n(87637),i=n(8622),l=function(e,t){return{type:o.aI.REMOVE_ENTITY,payload:r.hosts.apiHostDeleteById(e),meta:{notifications:{fulfilled:{variant:"success",title:"Delete operation finished",description:"".concat(t," has been successfully removed."),dismissable:!0}},systems:e}}},s=function(e){return{type:o.uW,payload:{filtersList:e}}},u=function(){return{type:o.wt}},c=function(e,t){return{type:o.aI.UPDATE_DISPLAY_NAME,payload:r.hosts.apiHostPatchById([e],{display_name:t}),meta:{id:e,value:t,notifications:{fulfilled:{variant:"success",title:"Display name for entity with ID ".concat(e," has been changed to ").concat(t),dismissable:!0}}}}},d=function(e,t){return{type:o.fT,payload:{page:e,perPage:t}}},p=function(e){return{type:o.aI.LOAD_SYSTEM_PROFILE,payload:(0,r.getEntitySystemProfile)(e,{})}},f=function(e,t){return{type:o.aI.SET_ANSIBLE_HOST,payload:r.hosts.apiHostPatchById([e],{ansible_host:t}),meta:{notifications:{fulfilled:{variant:"success",title:"Ansible hostname has been updated",dismissable:!0}}}}}},36494:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var o=n(87462),r=n(63366),a=n(26685),i=n(35067),l=n(63480),s=n(26343);const u=[function(e){return"function"==typeof e?(0,s.xv)(e,"mapDispatchToProps"):void 0},function(e){return e?void 0:(0,s.dX)((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?(0,s.dX)((function(t){return(0,l.Z)(e,t)})):void 0}],c=[function(e){return"function"==typeof e?(0,s.xv)(e,"mapStateToProps"):void 0},function(e){return e?void 0:(0,s.dX)((function(){return{}}))}];function d(e,t,n){return(0,o.Z)({},n,e,t)}const p=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var o,r=n.pure,a=n.areMergedPropsEqual,i=!1;return function(t,n,l){var s=e(t,n,l);return i?r&&a(s,o)||(o=s):(i=!0,o=s),o}}}(e):void 0},function(e){return e?void 0:function(){return d}}];var f=n(38548),v=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function y(e,t,n){for(var o=t.length-1;o>=0;o--){var r=t[o](e);if(r)return r}return function(t,o){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+o.wrappedComponentName+".")}}function g(e,t){return e===t}function m(e){var t=void 0===e?{}:e,n=t.connectHOC,l=void 0===n?a.Z:n,s=t.mapStateToPropsFactories,d=void 0===s?c:s,m=t.mapDispatchToPropsFactories,h=void 0===m?u:m,T=t.mergePropsFactories,E=void 0===T?p:T,b=t.selectorFactory,P=void 0===b?f.ZP:b;return function(e,t,n,a){void 0===a&&(a={});var s=a,u=s.pure,c=void 0===u||u,p=s.areStatesEqual,f=void 0===p?g:p,m=s.areOwnPropsEqual,T=void 0===m?i.Z:m,b=s.areStatePropsEqual,S=void 0===b?i.Z:b,O=s.areMergedPropsEqual,C=void 0===O?i.Z:O,D=(0,r.Z)(s,v),_=y(e,d,"mapStateToProps"),Z=y(t,h,"mapDispatchToProps"),w=y(n,E,"mergeProps");return l(P,(0,o.Z)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:Z,initMergeProps:w,pure:c,areStatesEqual:f,areOwnPropsEqual:T,areStatePropsEqual:S,areMergedPropsEqual:C},D))}}const h=m()},45467:()=>{},70347:()=>{},34946:()=>{},37625:()=>{},90479:()=>{},25238:()=>{},66822:()=>{},49854:()=>{},87234:()=>{},74181:()=>{},16166:()=>{},53519:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/5.5418117af98b82a2289c4b0f5e16c608.js.map