(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[7878],{38424:(e,t,n)=>{"use strict";n.d(t,{k:()=>c});var r=n(70655),a=n(92950),i=n(38296),o=n(51203);const c=e=>{var{className:t="",icon:n,component:c,variant:s="icon"}=e,l=(0,r.__rest)(e,["className","icon","component","variant"]);const u=(0,i.i)(o.Z.emptyStateIcon,t);return"icon"===s?a.createElement(n,Object.assign({className:u},l,{"aria-hidden":"true"})):a.createElement("div",{className:u},a.createElement(c,null))};c.displayName="EmptyStateIcon"},68340:(e,t,n)=>{"use strict";n.d(t,{q:()=>r,x:()=>l});var r,a=n(70655),i=n(92950),o=n(38296),c=n(62873),s=n(62472);!function(e){e.h1="h1",e.h2="h2",e.h3="h3",e.h4="h4",e.h5="h5",e.h6="h6",e.p="p",e.a="a",e.small="small",e.blockquote="blockquote",e.pre="pre"}(r||(r={}));const l=e=>{var{children:t=null,className:n="",component:u=r.p,isVisitedLink:p=!1,ouiaId:d,ouiaSafe:f=!0}=e,h=(0,a.__rest)(e,["children","className","component","isVisitedLink","ouiaId","ouiaSafe"]);const v=u,m=(0,s.S$)(l.displayName,d,f);return i.createElement(v,Object.assign({},m,h,{"data-pf-content":!0,className:(0,o.i)(p&&u===r.a&&c.Z.modifiers.visited,n)}),t)};l.displayName="Text"},68774:(e,t,n)=>{"use strict";n.d(t,{D:()=>c});var r=n(70655),a=n(92950),i=n(62873),o=n(38296);const c=e=>{var{children:t=null,className:n="",isVisited:c=!1}=e,s=(0,r.__rest)(e,["children","className","isVisited"]);return a.createElement("div",Object.assign({},s,{className:(0,o.i)(i.Z.content,c&&i.Z.modifiers.visited,n)}),t)};c.displayName="TextContent"},83668:(e,t,n)=>{"use strict";n.d(t,{Mu:()=>a,ZP:()=>o,r7:()=>i});var r=n(40400);const a={name:"StarIcon",height:512,width:576,svgPath:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z",yOffset:0,xOffset:0},i=(0,r.IU)(a),o=i},54783:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(32857);const r={check:"pf-c-check",checkBody:"pf-c-check__body",checkDescription:"pf-c-check__description",checkInput:"pf-c-check__input",checkLabel:"pf-c-check__label",checkLabelRequired:"pf-c-check__label-required",modifiers:{standalone:"pf-m-standalone",disabled:"pf-m-disabled"}}},62873:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(10108);const r={content:"pf-c-content",modifiers:{visited:"pf-m-visited",overpassFont:"pf-m-overpass-font"}}},89376:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(85893),a=n(94184),i=n.n(a),o=n(92950);const c=n.n(o)().createContext("light");var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},s.apply(this,arguments)};const l=function(e){var t=e.className,n=e.children,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["className","children"]),o=i()(t,"pf-l-page-header","pf-c-page-header","pf-l-page__main-section","pf-c-page__main-section");return(0,r.jsx)(c.Consumer,{children:function(e){var t,c;void 0===e&&(e="light");var l=i()(((t={})["pf-m-".concat(e,"-200")]="dark"===e,t),((c={})["pf-m-light"]="light"===e,c));return(0,r.jsx)("section",s({},a,{className:"".concat(o," ").concat(l),"widget-type":"InsightsPageHeader"},{children:n}))}})}},39173:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(85893),a=n(94184),i=n.n(a),o=n(48542),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)};const s=function(e){var t=e.className,n=e.title,a=i()(t);return(0,r.jsx)(o.Title,c({headingLevel:"h1",size:"2xl",className:a,"widget-type":"InsightsPageHeaderTitle"},{children:n}))}},48524:(e,t,n)=>{"use strict";n.d(t,{e:()=>r.Z});var r=n(20565)},17499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextInputModal:()=>o.Z,default:()=>c});var r=n(92950),a=n.n(r),i=n(43107),o=n(95364);const c=function(e){return a().createElement(i.default,e)}},54174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculatePagination:()=>A,default:()=>D});var r=n(87462),a=n(4942),i=n(29439),o=n(92950),c=n.n(o),s=n(45697),l=n.n(s),u=n(50533),p=n(75662),d=n(89376),f=n(39173),h=n(85893),v=n(94184),m=n.n(v),g=function(){return g=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},g.apply(this,arguments)};const y=function(e){var t=e.children,n=e.className,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["children","className"]);return(0,o.useEffect)((function(){console.error('Using deprecated "Main" component. Do not use it. Either remove it from your JSX or replace it by "section" HTML element.')}),[]),(0,h.jsx)("section",g({},r,{className:"".concat(m()(n,"pf-l-page__main-section pf-c-page__main-section"))},{children:t}))};var O=n(3672),b=n(50693),_=n(16475),S=n(83215),E=n(39903),k=n(17499),j=n(94654),F=n.n(j),N=n(13784),P=n(48524),w=n(55140);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every((function(e){var n=e.id;return t&&t.has(n)}))?e.length>0:e.some((function(e){var n=e.id;return t&&t.has(n)}))&&null},L=function(e){var t=e.category;return e.values.map((function(e){var n=e.tagKey,r=e.value;return"".concat(t?"".concat(t,"/"):"").concat(n).concat(r?"=".concat(r):"")}))},x={staleFilter:function(e,t){return e.staleFilter.forEach((function(e){return t.append("status",e)}))},osFilter:function(e,t){var n=e.osFilter;return null==n?void 0:n.forEach((function(e){return t.append("operating_system",e)}))},registeredWithFilter:function(e,t){var n=e.registeredWithFilter;return null==n?void 0:n.forEach((function(e){return t.append("source",e)}))},value:function(e,t){var n=e.value,r=e.filter;return"hostname_or_id"===n&&Boolean(r)&&t.append("hostname_or_id",r)},tagFilters:function(e,t){var n=e.tagFilters;return(null==n?void 0:n.length)>0&&t.append("tags",F()(n,L))},rhcdFilter:function(e,t){var n=e.rhcdFilter;return null==n?void 0:n.forEach((function(e){return t.append(N.Ih,e)}))},lastSeenFilter:function(e,t){var n,r=e.lastSeenFilter;return null===(n=Object.keys(r||{}))||void 0===n?void 0:n.forEach((function(e){return"mark"===e&&t.append("last_seen",r[e])}))},updateMethodFilter:function(e,t){var n=e.updateMethodFilter;return null==n?void 0:n.forEach((function(e){return t.append(N.cE,e)}))},groupHostFilter:function(e,t){var n=e.groupHostFilter;return null==n?void 0:n.forEach((function(e){return t.append("host_group",e)}))}},A=function(e,t,n){var r=new URLSearchParams(location.search),a=void 0!==t?t:r.get("page"),i=void 0!==n?n:r.get("per_page");!isNaN(parseInt(a))&&e.append("page",a),!isNaN(parseInt(i))&&e.append("per_page",i)},C=function(e){var t=e.status,n=e.source,a=e.filterbyName,s=e.tagsFilter,l=e.operatingSystem,h=e.rhcdFilter,v=e.updateMethodFilter,m=e.lastSeenFilter,g=e.page,j=e.perPage,F=e.initialLoading,Z=e.hasAccess,L=e.groupHostsFilter,C=(0,p.useHistory)(),D=(0,w.Z)(),M=(0,o.useRef)(null),R=(0,o.useState)(!1),H=(0,i.Z)(R,2),q=H[0],U=H[1],V=(0,o.useState)({}),z=(0,i.Z)(V,2),B=z[0],G=z[1],J=(0,o.useState)((0,N.h3)(t,n,s,a,l,h,v,L,m)),K=(0,i.Z)(J,2),W=K[0],$=K[1],Q=(0,o.useState)(!1),X=(0,i.Z)(Q,2),Y=X[0],ee=X[1],te=(0,o.useState)(),ne=(0,i.Z)(te,2),re=ne[0],ae=ne[1],ie=(0,N.Mo)(),oe=(0,u.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.rows}),u.shallowEqual),ce=(0,u.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.loaded})),se=(0,u.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.selected})),le=(0,u.useDispatch)(),ue=function(e,t){return le(O.CL(e,t))},pe=function(e,t){$(null==e?void 0:e.filters);var n=new URLSearchParams;!function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){Object.keys(t).forEach((function(n){var r;null==x||null===(r=x[n])||void 0===r||r.call(x,t,e)}))}))}(n,null==e?void 0:e.filters),A(n,null==e?void 0:e.page,null==e?void 0:e.per_page);var r=n.toString();C.push({search:r,hash:location.hash}),t&&t(e)};(0,o.useEffect)((function(){var e;D.updateDocumentTitle("Inventory | Red Hat Insights"),null==D||null===(e=D.hideGlobalFilter)||void 0===e||e.call(D,!1),D.appAction("system-list"),D.appObjectId(),D.on("GLOBAL_FILTER_UPDATE",(function(e){var t,n,r,a,o,c=e.data,s=null==D||null===(t=D.mapGlobalFilter)||void 0===t?void 0:t.call(D,c,!1,!0),l=(0,i.Z)(s,3),u=l[0],p=l[1],d=l[2];ae({tags:d,filter:T(T({},null==re?void 0:re.filter),{},{system_profile:T(T(T(T(T({},null==re||null===(n=re.filter)||void 0===n?void 0:n.system_profile),(null==u||null===(r=u.SAP)||void 0===r?void 0:r.isSelected)&&{sap_system:!0}),u&&(null===(a=u["Ansible Automation Platform"])||void 0===a?void 0:a.isSelected)&&{ansible:"not_nil"}),(null==u||null===(o=u["Microsoft SQL"])||void 0===o?void 0:o.isSelected)&&{mssql:"not_nil"}),(null==p?void 0:p.length)>0&&{sap_sids:p})})})})),le(O.L1()),(j||g)&&le(O.Jr(Array.isArray(g)?g[0]:g,Array.isArray(j)?j[0]:j))}),[]);var de=function(){return se?se.size:0};return c().createElement(c().Fragment,null,c().createElement(d.Z,{className:"pf-m-light"},c().createElement(f.Z,{title:"Inventory"})),c().createElement(y,null,c().createElement(b.r,{gutter:"md"},c().createElement(_.P,{span:12},c().createElement(P.e,(0,r.Z)({hasAccess:Z,isRbacEnabled:!0,customFilters:{filters:W,globalFilter:re},isFullView:!0,inventoryRef:M,showTags:!0,onRefresh:pe,hasCheckbox:ie,autoRefresh:!0,initialLoading:F},ie&&{actions:[{title:"Delete",onClick:function(e,t,n){var r=n.id,a=n.display_name;G((function(){return{id:r,displayName:a}})),U((function(){return!0}))}},{title:"Edit",onClick:function(e,t,n){G((function(){return n})),ee((function(){return!0}))}}],actionsConfig:{actions:[{label:"Delete",props:{isDisabled:0===de(),variant:"secondary",onClick:function(){G(Array.from(se.values())),U(!0)}}}]},bulkSelect:{count:de(),id:"bulk-select-systems",items:[{title:"Select none (0)",onClick:function(){ue(-1,!1)}},T({},ce&&oe&&oe.length>0?{title:"Select page (".concat(oe.length,")"),onClick:function(){ue(0,!0)}}:{})],checked:I(oe,se),onSelect:function(e){ue(0,e)}}},{tableProps:{canSelectAll:!1},onRowClick:function(e,t,n){return C.push("/".concat(t).concat(n?"/".concat(n):""))}}))))),c().createElement(E.Z,{className:"sentry-mask data-hj-suppress",handleModalToggle:U,isModalOpen:q,currentSytems:B,onConfirm:function(){var e,t,n,r;Array.isArray(B)?(t=B.map((function(e){return e.id})),e=B.length>1?"".concat(B.length," systems"):B[0].display_name):(e=B.displayName,t=[B.id]),le((0,S.wN)({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(e," started."),dismissable:!1})),le((r=function(){return pe({filters:W})},(n=O.Ks(t,e)).payload.then(r),n)),U(!1)}}),c().createElement(k.TextInputModal,{title:"Edit display name",isOpen:Y,value:B.display_name,onCancel:function(){return ee(!1)},onSubmit:function(e){le(O.$Y(B.id,e)),ee(!1)}}))};C.propTypes={status:l().oneOfType([l().arrayOf(l().string),l().string]),source:l().oneOfType([l().arrayOf(l().string),l().string]),operatingSystem:l().oneOfType([l().arrayOf(l().string),l().string]),filterbyName:l().arrayOf(l().string),tagsFilter:l().any,page:l().arrayOf(l().oneOfType([l().string,l().number])),perPage:l().arrayOf(l().oneOfType([l().string,l().number])),initialLoading:l().bool,rhcdFilter:l().oneOfType([l().arrayOf(l().string),l().string]),updateMethodFilter:l().oneOfType([l().arrayOf(l().string),l().string]),hasAccess:l().bool,groupHostsFilter:l().oneOfType([l().arrayOf(l().string),l().string]),lastSeenFilter:l().oneOfType([l().arrayOf(l().string),l().string])},C.defaultProps={initialLoading:!0};const D=C},38299:()=>{}}]);
//# sourceMappingURL=../sourcemaps/7878.4c5e198f2b9d0811141f92f347228fcb.js.map