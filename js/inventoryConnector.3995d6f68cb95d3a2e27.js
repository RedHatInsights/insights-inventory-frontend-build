"use strict";(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[9390],{85630:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(87462),a=n(45987),o=n(92950),i=n.n(o),l=n(45697),s=n.n(l),c=n(27839),u=n(13342),p=["title","description"],d=function(e){var t=e.title,n=e.description,o=(0,a.Z)(e,p);return i().createElement(c.Z,(0,r.Z)({},o,{className:"ins-c-inventory__no--access",title:t,description:i().createElement(u.u,{content:"inventory:*:read"},n)}))};d.propTypes={title:s().string,description:s().node},d.defaultProps={title:"You do not have access to Inventory",description:i().createElement("div",null,"To view your systems, you must be granted inventory access from your Organization Administrator.")};const f=d},89845:(e,t,n)=>{n.r(t),n.d(t,{inventoryConnector:()=>g});var r=n(87462),a=n(4942),o=n(92950),i=n.n(o),l=n(29911),s=n(454),c=n(68595),u=n(48524),p=n(90901),d=n(23381);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=Boolean(n);return m({InventoryTable:i().forwardRef((function(t,n){return i().createElement(s.Z,(0,r.Z)({},t,{isRbacEnabled:a,inventoryRef:n,store:e,cmp:u.e}))})),AppInfo:i().forwardRef((function(n,o){return i().createElement(s.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:o,store:e,cmp:l.my}))})),InventoryDetailHead:i().forwardRef((function(n,c){return i().createElement(s.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:c,store:e,showInventoryDrawer:o&&!n.hideInvDrawer,cmp:l.mQ}))})),InventoryDetail:i().forwardRef((function(n,c){return i().createElement(s.Z,(0,r.Z)({hideLoader:!0},n,t,{isRbacEnabled:a,inventoryRef:c,store:e,showInventoryDrawer:o,cmp:l.Vr}))})),TagWithDialog:i().forwardRef((function(t,n){return i().createElement(s.Z,(0,r.Z)({},t,{inventoryRef:n,isRbacEnabled:a,store:e,cmp:c.Z}))})),DetailWrapper:function(e){return i().createElement(d.Z,(0,r.Z)({Wrapper:n,isRbacEnabled:a,showInventoryDrawer:o},e))}},p)}},25462:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(75662),s=n(50533),c=n(56455),u=function(e){var t=e.componentMapper,n=e.appList,o=(0,s.useStore)(),i=(0,l.useLocation)().search,u=new URLSearchParams(i),p=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded})),d=(0,s.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),f=(0,s.useSelector)((function(e){var t,r,a,o=e.entityDetails;if(null!=o&&o.loaded)return(null===(t=n||(null==o?void 0:o.activeApps))||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(function(e){var t;return(null==e?void 0:e.name)===(u.get("appName")||(null==o||null===(t=o.activeApp)||void 0===t?void 0:t.appName))})))||(null==o||null===(a=o.activeApps)||void 0===a?void 0:a[0])})),m=t||(null==f?void 0:f.component);return!0!==p||d?a().createElement(r.Fragment,null,p?f&&a().createElement("div",{className:"ins-active-app-".concat(null==f?void 0:f.name)},m?a().createElement(m,{store:o,inventoryId:null==d?void 0:d.id,appName:null==f?void 0:f.name}):"missing component"):a().createElement(c.Z,{size:c.i.md})):null};u.propTypes={componentMapper:i().element,appList:i().arrayOf(i().shape({title:i().node,name:i().string,pageId:i().string}))};const p=u},3471:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(87462),a=n(71002),o=n(93324),i=n(45987),l=n(92950),s=n.n(l),c=n(45697),u=n.n(c),p=n(50533),d=n(75662),f=n(14638),m=n(48099),g=n(94778),v=["onTabSelect","appList"],y=function(e){var t,n,c=e.onTabSelect,u=e.appList,y=(0,i.Z)(e,v),h=(0,d.useLocation)().search,b=(0,d.useHistory)(),E=(0,p.useDispatch)(),O=new URLSearchParams(h),w=(0,p.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.activeApps)||[]})).filter((function(e){return!1!==e.isVisible})),T=(0,p.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.activeApp})),Z=(0,p.useSelector)((function(e){var t=e.systemProfileStore;return null==t?void 0:t.disabledApps})),P=(null==T?void 0:T.appName)||(null==u||null===(t=u.find((function(e){var t,n=e.pageId,r=e.name;return(null==w||null===(t=w[0])||void 0===t?void 0:t.name)===(n||r)})))||void 0===t?void 0:t.name)||(null==w||null===(n=w[0])||void 0===n?void 0:n.name),S=u||w,D=(0,l.useState)(S),j=(0,o.Z)(D,2),F=j[0],k=j[1];return(0,l.useEffect)((function(){var e=O.get("appName");e&&E((0,g.Xe)(e))}),[]),(0,l.useEffect)((function(){var e=S.filter((function(e){return!(null!=Z&&Z.includes(e.name))}));0!==e&&void 0!==(0,a.Z)(e)?k(e):k(S)}),[Z]),s().createElement(s().Fragment,null,(null==S?void 0:S.length)>1&&s().createElement(f.m,(0,r.Z)({},y,{activeKey:P,onSelect:function(e,t){var n=F.find((function(e){return e.name===t}));c?c(e,t,n):(O.set("appName",n.name),b.push({search:O.toString()})),E((0,g.Xe)(n.name))},isFilled:!0,className:"ins-c-inventory-detail__app-tabs"}),null==F?void 0:F.map((function(e,t){return s().createElement(m.O,{key:t,eventKey:e.name,title:e.title})}))))};y.propTypes={appList:u().arrayOf(u().shape({title:u().node,name:u().string.isRequired,pageId:u().string})),onTabSelect:u().func};const h=y},23381:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(45987),a=n(92950),o=n.n(a),i=n(45697),l=n.n(i),s=n(95249),c=n(2372),u=n(59667),p=n(85630),d=["showInventoryDrawer","isRbacEnabled"],f=function(e){var t=e.showInventoryDrawer,n=e.isRbacEnabled,a=(0,r.Z)(e,d),i=(0,s.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0).hasAccess;return void 0===i?o().createElement(c.$,null):n&&!1===i?o().createElement(p.Z,null):t?o().createElement(u.Z,a):o().createElement(o().Fragment,a)};f.propTypes={showInventoryDrawer:l().bool,isRbacEnabled:l().bool},f.defaultProps={showInventoryDrawer:!1};const m=f},59667:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(87462),a=n(45987),o=n(92950),i=n.n(o),l=n(5436),s=n(16941),c=n(78135),u=n(16537),p=n(29821),d=n(76770),f=n(58409),m=n(28985),g=n(49739),v=n(83826),y=n(45697),h=n.n(y),b=n(50533),E=n(94778),O=n(19207),w=n(67866),T=["children","hideInvLink","showTags","Wrapper","className","appName"],Z=function(e){var t=e.children,n=e.hideInvLink,o=e.showTags,y=e.Wrapper,h=e.className,Z=e.appName,P=(0,a.Z)(e,T),S=(0,b.useDispatch)(),D=(0,b.useStore)(),j=(0,b.useSelector)((function(e){return e.entityDetails.isToggleOpened})),F=(0,b.useSelector)((function(e){return e.entityDetails.entity})),k=(0,b.useSelector)((function(e){return e.entityDetails.loaded}));return i().createElement(l.dy,(0,r.Z)({className:"ins-c-inventory__drawer ".concat(h||""),isExpanded:j,onExpand:function(){return S((0,E.wb)(!0))}},P),i().createElement(c.s,{panelContent:i().createElement(s.S,null,i().createElement(f.h,null,i().createElement(O.K,{hideInvLink:n,showTags:o}),i().createElement(d.x,null,i().createElement(m.c,{onClick:function(){return S((0,E.wb)(!1))}}))),i().createElement(p.F,null,i().createElement(g.K,{className:"ins-c-inventory__drawer--content"},i().createElement(v.v,null,i().createElement(O.T,{isOpened:j})),i().createElement(v.v,{isFilled:!0,className:"ins-c-inventory__drawer--facts"},i().createElement(w.Z,{entity:F,loaded:k}),j&&k&&y&&i().createElement(y,{store:D,appName:Z})))))},i().createElement(u.s,null,t)))};Z.propTypes={children:h().any,hideInvLink:h().bool,showTags:h().bool,appName:h().oneOf(["general_information","advisor","insights","compliance","vulnerabilities","patch"]),className:h().string,Wrapper:h().elementType},Z.defaultProps={appName:"general_information"};const P=Z},67866:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(87462),a=n(45987),o=n(92950),i=n.n(o),l=n(45697),s=n.n(l),c=n(50693),u=n(16475),p=n(28191),d=n(92298),f=n(56455),m=n(64107),g=n(66774),v=n(94471),y=n(67882),h=["entity","loaded","UUIDWrapper","LastSeenWrapper"],b=function(e){var t=e.entity,n=e.loaded,o=(e.UUIDWrapper,e.LastSeenWrapper),l=(0,a.Z)(e,h);return i().createElement(c.r,(0,r.Z)({className:"ins-entity-facts"},l),i().createElement(u.P,{md:6},i().createElement(p.k,null,i().createElement(d.B,null,"UUID:"),i().createElement(d.B,{grow:{default:"grow"}},n?(0,v.s)("id",t)||" ":i().createElement(f.Z,{size:f.i.md,fontSize:"sm"}))),i().createElement(p.k,null,i().createElement(d.B,null,"Last seen:"),i().createElement(d.B,{grow:{default:"grow"}},n?i().createElement(o,null,g.Z?i().createElement(g.Z,{culled:(0,v.s)("culled_timestamp",t),staleWarning:(0,v.s)("stale_warning_timestamp",t),stale:(0,v.s)("stale_timestamp",t),currDate:new Date},i().createElement(m.Z,{date:(0,v.s)("updated",t),type:"exact"})):i().createElement(m.Z,{date:(0,v.s)("updated",t),type:"exact"})):i().createElement(f.Z,{size:f.i.md,fontSize:"sm"})),n&&!(0,v.s)("insights_id",t)&&i().createElement(y.Z,null))))};b.propTypes={loaded:s().bool,entity:s().object,UUIDWrapper:s().elementType,LastSeenWrapper:s().elementType},b.defaultProps={UUIDWrapper:o.Fragment,LastSeenWrapper:o.Fragment};const E=b},51149:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(92950),a=n.n(r),o=n(16940),i=n(25462);const l=function(e){return a().createElement(r.Fragment,null,a().createElement(o.Z,e),a().createElement(i.Z,e))}},16940:(e,t,n)=>{n.d(t,{Z:()=>y});var r=n(92950),a=n.n(r),o=n(75662),i=n(50533),l=n(45697),s=n.n(l),c=n(94778),u=n(77824),p=n(57798),d=n(67866),f=n(14918),m=n(35435),g=n(3471),v=function(e){var t=e.actions,n=e.showTags,l=e.hideInvLink,s=e.onTabSelect,v=e.onBackToListClick,y=e.showDelete,h=e.appList,b=e.showInventoryDrawer,E=e.UUIDWrapper,O=e.LastSeenWrapper,w=e.TitleWrapper,T=e.TagsWrapper,Z=e.DeleteWrapper,P=e.ActionsWrapper,S=e.children,D=(0,o.useParams)().inventoryId,j=(0,i.useDispatch)(),F=(0,i.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.loaded)||!1})),k=(0,i.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity}));return(0,r.useEffect)((function(){var e=D||location.pathname.replace(/\/$/,"").split("/").pop();k&&(null==k?void 0:k.id)===e&&F||j((0,c.A_)(e,{hasItems:!0},{showTags:n}))}),[]),a().createElement("div",{className:"ins-entity-detail"},F&&!k?a().createElement(u.Z,{onBackToListClick:v,inventoryId:location.pathname.split("/")[location.pathname.split("/").length-1]}):a().createElement(r.Fragment,null,a().createElement(p.Z,{entity:k,loaded:F,onBackToListClick:v,actions:t,deleteEntity:function(e,t,n){var r=(0,c.Ks)(e,t);j((0,f.reloadWrapper)(r,n))},addNotification:function(e){return j((0,m.wN)(e))},hideInvLink:l,showInventoryDrawer:b,showDelete:y,showTags:n,TitleWrapper:w,TagsWrapper:T,DeleteWrapper:Z,ActionsWrapper:P}),a().createElement(d.Z,{loaded:F,entity:k,UUIDWrapper:E,LastSeenWrapper:O}),S),F&&k&&a().createElement(g.Z,{onTabSelect:s,appList:h}))};v.propTypes={hideInvLink:s().bool,hideBack:s().bool,showTags:s().bool,showDelete:s().bool,showInventoryDrawer:s().bool,actions:s().arrayOf(s().shape({title:s().node,onClick:s().func,key:s().string})),appList:s().arrayOf(s().shape({title:s().node,name:s().string,pageId:s().string})),onTabSelect:s().func,onBackToListClick:s().func,children:s().node,UUIDWrapper:s().elementType,LastSeenWrapper:s().elementType,TitleWrapper:s().elementType,TagsWrapper:s().elementType,DeleteWrapper:s().elementType,ActionsWrapper:s().elementType},v.defaultProps={actions:[],hideInvLink:!1,showTags:!1,UUIDWrapper:r.Fragment,LastSeenWrapper:r.Fragment,TitleWrapper:r.Fragment,TagsWrapper:r.Fragment,DeleteWrapper:r.Fragment,ActionsWrapper:r.Fragment};const y=v},77824:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(9947),s=n(38424),c=n(75106),u=n(60485),p=n(47173),d=n(96733),f=n(94471),m=function(e){var t=e.inventoryId,n=e.onBackToListClick;return a().createElement(l.u,{variant:l.I.full},a().createElement(s.k,{icon:d.ZP}),a().createElement(u.D,{headingLevel:"h5",size:"lg"},"System not found"),a().createElement(c.B,null,"System with ID ",t," does not exist"),a().createElement(p.zx,{variant:"primary",onClick:function(){return(0,f.h)(t,n)}},"Back to previous page"))};m.propTypes={inventoryId:i().string,onBackToListClick:i().func};const g=m},57798:(e,t,n)=>{n.d(t,{Z:()=>j});var r=n(87462),a=n(45987),o=n(89062),i=n(93324),l=n(92950),s=n.n(l),c=n(45697),u=n.n(c),p=n(14918),d=n(56455),f=n(56787),m=n(84457),g=n(99355),v=n(75728),y=n(60485),h=n(47173),b=n(28191),E=n(92298),O=n(79851),w=n(34512),T=n(94471),Z=n(50533),P=n(94778),S=["title"],D=function(e){var t=e.entity,n=e.loaded,c=e.actions,u=e.deleteEntity,D=e.addNotification,j=e.hideInvLink,F=e.onBackToListClick,k=e.showDelete,R=e.showInventoryDrawer,I=e.TitleWrapper,L=e.TagsWrapper,C=e.DeleteWrapper,W=e.ActionsWrapper,_=e.showTags,B=(0,Z.useDispatch)(),A=(0,l.useState)(!1),N=(0,i.Z)(A,2),x=N[0],z=N[1],H=(0,l.useState)(!1),G=(0,i.Z)(H,2),U=G[0],M=G[1],V=[].concat((0,o.Z)(j?[]:[{title:"View system in Inventory",component:"a",href:"./insights/inventory/".concat(null==t?void 0:t.id)}]),(0,o.Z)(c||[]));return s().createElement(O.P,{className:"ins-c-inventory__detail--header"},s().createElement(w.J,{isFilled:!0},n?s().createElement(b.k,null,s().createElement(E.B,null,s().createElement(I,null,s().createElement(y.D,{headingLevel:"h1",size:"2xl"},t&&t.display_name))),_&&s().createElement(E.B,null,s().createElement(L,null,s().createElement(p.TagWithDialog,{count:t&&t.tags&&t.tags.length,systemId:t&&t.id}),s().createElement(p.TagsModal,null)))):s().createElement(d.Z,{size:d.i.md})),s().createElement(w.J,null,n?s().createElement(b.k,null,k&&s().createElement(E.B,null,s().createElement(C,null,s().createElement(h.zx,{onClick:function(){return M(!0)},variant:"secondary"},"Delete"))),(null==V?void 0:V.length)>0&&s().createElement(E.B,null,s().createElement(W,null,s().createElement(f.L,{onSelect:function(){return z(!1)},toggle:s().createElement(v.Z,{onToggle:function(e){return z(e)}},"Actions"),isOpen:x,position:g.ir.right,dropdownItems:V.map((function(e,t){var n=e.title,o=(0,a.Z)(e,S);return s().createElement(m.h,(0,r.Z)({key:t,component:"button",onClick:function(e){return o.onClick(e,o,o.key||t)}},o),n)}))}))),s().createElement(E.B,null,R&&s().createElement(h.zx,{onClick:function(){return B((0,P.wb)(!0))}},"Show more information"))):s().createElement(d.Z,{size:d.i.lg})),U&&s().createElement(p.DeleteModal,{handleModalToggle:function(){return M(!U)},isModalOpen:U,currentSytems:t,onConfirm:function(){D({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t.display_name," started."),dismissable:!1}),u([t.id],t.display_name,(function(){return(0,T.h)(t.id,F)})),M(!1)}}))};D.propTypes={entity:u().object,loaded:u().bool,showDelete:u().bool,hideInvLink:u().bool,showInventoryDrawer:u().bool,showTags:u().bool,actions:u().arrayOf(u().shape({key:u().string,title:u().node,onClick:u().func})),deleteEntity:u().func,addNotification:u().func,onBackToListClick:u().func,TitleWrapper:u().elementType,TagsWrapper:u().elementType,DeleteWrapper:u().elementType,ActionsWrapper:u().elementType},D.defaultProps={actions:[],loaded:!1,hideInvLink:!1,showDelete:!1,showInventoryDrawer:!1,deleteEntity:function(){},addNotification:function(){},onBackToListClick:function(){},TitleWrapper:l.Fragment,TitleWTagsWrapperrapper:l.Fragment,DeleteWrapper:l.Fragment,ActionsWrapper:l.Fragment};const j=D},94471:(e,t,n)=>{n.d(t,{h:()=>o,s:()=>i});var r=n(27361),a=n.n(r),o=function(e,t){t?t():document.referrer&&document.referrer!=="".concat(document.location.origin).concat(document.location.pathname)?history.back():location.href=location.pathname.replace(new RegExp("".concat([e],".*"),"g"),"")},i=function(e,t){return a()(t,e,void 0)}},29911:(e,t,n)=>{n.d(t,{mQ:()=>r.Z,my:()=>a.Z,Vr:()=>o.Z});var r=n(16940),a=n(25462),o=n(51149);n(59667)},16025:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(21899),s=n(26391),c=n(60485),u=n(79851),p=n(34512),d=n(49739),f=n(83826),m=n(50533),g=function(e){var t=e.hideInvLink,n=e.showTags,r=(0,m.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.display_name})),o=(0,m.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),i=(0,m.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.tags}));return a().createElement(d.K,{hasGutter:!0},a().createElement(f.v,null,a().createElement(u.P,null,a().createElement(p.J,{isFilled:!0},a().createElement(c.D,{headingLevel:"h3",size:"xl"},r)),!t&&a().createElement(p.J,null,a().createElement("a",{className:"ins-c-entity-detail__inv-link",href:"./insights/inventory/".concat(o)},"Open in Inventory")))),n&&a().createElement(f.v,null,a().createElement(u.P,{hasGutter:!0},a().createElement(p.J,null,"Tags:"),a().createElement(p.J,null,a().createElement(s.Z,null,0!==(null==i?void 0:i.length)?null==i?void 0:i.map((function(e,t){return a().createElement(l.A,{key:t,isReadOnly:!0},(null==e?void 0:e.namespace)&&"".concat(null==e?void 0:e.namespace,"/"),null==e?void 0:e.key,(null==e?void 0:e.value)&&"=".concat(null==e?void 0:e.value))})):"No tags")))))};g.propTypes={hideInvLink:i().bool,showTags:i().bool},g.defaultProps={hideInvLink:!1,showTags:!1};const v=g},1001:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(92950),a=n.n(r),o=n(45697),i=n.n(o),l=n(50533),s=n(94778),c=n(60485),u=n(48140),p=n(86050),d=n(49739),f=n(83826),m=n(56455),g=n(52653),v=n(80971),y=n(19210),h=function(e){var t,n,o,i,h,b,E,O,w,T,Z=e.isOpened,P=(0,l.useDispatch)(),S=(0,l.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),D=(0,l.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.advisor})),j=(0,l.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.compliance})),F=(0,l.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.cve})),k=(0,l.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.patch}));return(0,r.useEffect)((function(){S&&Z&&(P((0,s.gb)(S)),P((0,s.Oj)(S)),P((0,s.k0)(S)),P((0,s.Fo)(S)))}),[S,Z]),a().createElement(d.K,{hasGutter:!0,className:"ins-c-inventory__drawer-system-issues"},a().createElement(f.v,null,a().createElement(c.D,{headingLevel:"h4",size:"lg"},"Top system issues")),a().createElement(f.v,null,a().createElement(u.a,null,a().createElement(p.Z,null,a().createElement(d.K,{hasGutter:!0},a().createElement(f.v,{className:"ins-c-inventory__drawer--title"},"Applicable CVEs"),a().createElement(f.v,null,null!=F&&F.isLoaded?a().createElement(u.a,{hasGutter:!0,className:"ins-c-inventory__drawer-cve"},a().createElement(p.Z,{className:"ins-m-critical"},a().createElement("a",{href:"/insights/vulnerability/systems/".concat(S,"?impact=7")},(null==F||null===(t=F.critical)||void 0===t?void 0:t.count)||0," critical")),a().createElement(p.Z,{className:"ins-m-important"},a().createElement("a",{href:"/insights/vulnerability/systems/".concat(S,"?impact=5")},(null==F||null===(n=F.important)||void 0===n?void 0:n.count)||0," important")),a().createElement(p.Z,{className:"ins-m-moderate"},a().createElement("a",{href:"/insights/vulnerability/systems/".concat(S,"?impact=4")},(null==F||null===(o=F.moderate)||void 0===o?void 0:o.count)||0," moderate")),a().createElement(p.Z,{className:"ins-m-low"},a().createElement("a",{href:"/insights/vulnerability/systems/".concat(S,"?impact=2")},(null==F||null===(i=F.low)||void 0===i?void 0:i.count)||0," low"))):a().createElement(m.Z,{size:m.i.md})))),a().createElement(p.Z,null,a().createElement(d.K,{hasGutter:!0},a().createElement(f.v,{className:"ins-c-inventory__drawer--title"},"Applicable advisories"),a().createElement(f.v,null,null!=k&&k.isLoaded?a().createElement(u.a,{hasGutter:!0,className:"ins-c-inventory__drawer-patch"},a().createElement(p.Z,null,a().createElement("a",{href:"/insights/patch/systems/".concat(S,"/?advisory_type=2")},a().createElement(g.ZP,null)," ",null==k||null===(h=k.bug)||void 0===h?void 0:h.count)),a().createElement(p.Z,{className:"ins-m-moderate"},a().createElement("a",{href:"/insights/patch/systems/".concat(S,"/?advisory_type=3")},a().createElement(y.ZP,null)," ",null==k||null===(b=k.security)||void 0===b?void 0:b.count)),a().createElement(p.Z,null,a().createElement("a",{href:"/insights/patch/systems/".concat(S,"/?advisory_type=1")},a().createElement(v.ZP,null)," ",null==k||null===(E=k.enhancement)||void 0===E?void 0:E.count))):a().createElement(m.Z,{size:m.i.md})))))),a().createElement(f.v,null,null!=D&&D.isLoaded?a().createElement("span",null,a().createElement("span",{className:"ins-m-critical"},(null==D||null===(O=D.criticalCount)||void 0===O?void 0:O.length)||0," critical")," recommendations in ",a().createElement("a",{href:"./insights/advisor/systems/".concat(S)},"Advisor")):a().createElement(m.Z,{size:m.i.md})),null!=j&&j.isLoaded?(null==j?void 0:j.profiles)&&a().createElement("span",null,"System above compliance threshold for ",a().createElement("a",{href:"./insights/compliance/reports/"},null==j||null===(w=j.profiles)||void 0===w?void 0:w.length," ",(null==j||null===(T=j.profiles)||void 0===T?void 0:T.length)>1?"policies":"policy")):a().createElement(m.Z,{size:m.i.md}))};h.propTypes={isOpened:i().bool};const b=h},19207:(e,t,n)=>{n.d(t,{K:()=>r.Z,T:()=>a.Z});var r=n(16025),a=n(1001)},69506:(e,t,n)=>{n.d(t,{Z:()=>w});var r,a=n(87462),o=n(4942),i=n(92950),l=n.n(i),s=n(45697),c=n.n(s),u=n(94778),p=n(50533),d=n(75662),f=n(57971),m=n(1284),g=n(75959),v=n(8285),y=n(27254),h=n(21216);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t,n,r=e.hasItems,o=e.expandable,s=e.onExpandClick,c=e.hasCheckbox,b=e.actions,O=e.variant,w=e.sortBy,T=e.tableProps,Z=e.onSort,P=e.expandable,S=e.onRowClick,D=e.noDetail,j=e.noSystemsTable,F=void 0===j?l().createElement(v.Z,null):j,k=e.showTags,R=e.columns,I=e.disableDefaultColumns,L=e.loaded,C=e.columnsCounter,W=(0,p.useDispatch)(),_=(0,d.useHistory)(),B=(0,d.useLocation)(),A=(0,p.useSelector)((function(e){return e.entities.rows})),N=(0,p.useSelector)((function(e){return e.entities.columns}),(function(e,t){return e.every((function(e,n){var r=e.key;return t.findIndex((function(e){return e.key===r}))===n}))})),x=(0,i.useRef)([]);(0,i.useMemo)((function(){if("function"==typeof R)x.current=R(h.y5);else if(R){var e=Array.isArray(I)?I:[],t=h.y5.filter((function(t){var n=t.key;return"tags"===n&&k||"tags"!==n&&!e.includes(n)}));x.current=(0,m.mergeArraysByKey)(["boolean"==typeof I&&I?[]:t,R],"key")}else x.current=N}),[k,Array.isArray(I)?I.join():I,Array.isArray(R)?R.map((function(e){return e.key})).join():"function"==typeof R?"function":R,Array.isArray(N)?N.map((function(e){return e.key})).join():N,C]);var z=L&&(0,y.wu)(x.current,r,A,P);return delete T.RowWrapper,0===(null==A?void 0:A.length)&&delete T.actionResolver,l().createElement(l().Fragment,null,L&&z?f.Table&&l().createElement(f.Table,(0,a.Z)({variant:O,"aria-label":"Host inventory",cells:z,rows:(0,y.Hg)(A,x.current,{actions:b,expandable:o,loaded:L,onRowClick:S||function(e,t){_.push("".concat(B.pathname).concat("/"===B.pathname.slice(-1)?"":"/").concat(t))},noDetail:D,sortBy:w,noSystemsTable:F}),gridBreakPoint:(null===(t=x.current)||void 0===t?void 0:t.length)>5?f.TableGridBreakpoint.gridLg:f.TableGridBreakpoint.gridMd,className:"ins-c-entity-table",onSort:function(e,t,n){var r;!function(e,t,n,r){"action"!==t&&"health"!==t&&W((0,u.HD)({index:r,key:t,direction:n})),null==Z||Z({index:r,key:t,direction:n})}(0,null==z||null===(r=z[t-Boolean(c)-Boolean(o)])||void 0===r?void 0:r.key,n,t)},sortBy:{index:(null==z?void 0:z.findIndex((function(e){return(null==w?void 0:w.key)===e.key})))+Boolean(c)+Boolean(o),direction:null==w?void 0:w.direction}},E(E(E({},c&&0!==(null==A?void 0:A.length)?{onSelect:function(e,t,n){var r=P?A[n/2]:A[n];W((0,u.CL)(-1===n?0:r.id,t))}}:{}),o?{onCollapse:s}:{}),b&&(null==A?void 0:A.length)>0&&{actions:b}),{isStickyHeader:!0},T),l().createElement(f.TableHeader,null),l().createElement(f.TableBody,null)):l().createElement(g.Z,{colSize:(null===(n=x.current)||void 0===n?void 0:n.length)||3,rowSize:15,variant:null!=O?O:T.variant}))};O.propTypes={variant:c().oneOf(["compact"]),expandable:c().bool,onExpandClick:c().func,onSort:c().func,hasCheckbox:c().bool,showActions:c().bool,hasItems:c().bool,showHealth:c().bool,sortBy:c().shape({key:c().string,direction:c().oneOf(["asc","desc"])}),tableProps:c().shape((r={},(0,o.Z)(r,c().string,c().any),(0,o.Z)(r,"RowWrapper",c().elementType),(0,o.Z)(r,"variant",c().string),(0,o.Z)(r,"actionResolver",c().func),r)),onRowClick:c().func,showTags:c().bool,noSystemsTable:c().node,disableDefaultColumns:c().oneOfType([c().bool,c().arrayOf(c().string)]),loaded:c().bool,columnsCounter:c().number,columns:c().oneOfType([c().array,c().func]),isLoaded:c().bool,actions:c().array,noDetail:c().any},O.defaultProps={loaded:!1,showHealth:!1,expandable:!1,hasCheckbox:!0,showActions:!1,rows:[],variant:f.TableVariant.compact,onExpandClick:function(){},tableProps:{}};const w=O},95407:(e,t,n)=>{n.d(t,{Z:()=>R});var r=n(87462),a=n(84506),o=n(89062),i=n(93324),l=n(4942),s=n(45987),c=n(92950),u=n.n(c),p=n(50533),d=n(45697),f=n.n(d),m=n(56455),g=n(59855),v=n(81945),y=n(81790),h=n(94778),b=n(13784),E=n(23279),O=n.n(E),w=n(94654),T=n.n(w),Z=n(14918),P=n(27254),S=n(90901),D=["total","page","perPage","filterConfig","hasItems","children","actionsConfig","activeFiltersConfig","showTags","getTags","items","sortBy","customFilters","hasAccess","bulkSelect","hideFilters","paginationProps","onRefreshData","loaded","showTagModal"];function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=function(e){var t,n=e.total,d=e.page,f=e.perPage,E=e.filterConfig,w=e.hasItems,j=e.children,k=e.actionsConfig,R=e.activeFiltersConfig,I=e.showTags,L=e.getTags,C=e.items,W=e.sortBy,_=e.customFilters,B=e.hasAccess,A=e.bulkSelect,N=e.hideFilters,x=e.paginationProps,z=e.onRefreshData,H=e.loaded,G=e.showTagModal,U=(0,s.Z)(e,D),M=(0,p.useDispatch)(),V=(0,c.useReducer)((0,S.filtersReducer)([S.textFilterReducer,S.stalenessFilterReducer,S.registeredWithFilterReducer,g.sr,S.operatingSystemFilterReducer]),F(F(F(F(F({},S.textFilterState),S.stalenessFilterState),S.registeredWithFilterState),g.Yn),S.operatingSystemFilterState)),K=(0,p.useSelector)((function(e){return e.entities.activeFilters})),q=(0,p.useSelector)((function(e){return e.entities.allTagsLoaded})),X=(0,p.useSelector)((function(e){return e.entities.allTags})),J=(0,p.useSelector)((function(e){return e.entities.additionalTagsCount})),Y=(0,S.useTextFilter)(V),Q=(0,i.Z)(Y,4),$=Q[0],ee=Q[1],te=Q[2],ne=Q[3],re=(0,S.useStalenessFilter)(V),ae=(0,i.Z)(re,4),oe=ae[0],ie=ae[1],le=ae[2],se=ae[3],ce=(0,S.useRegisteredWithFilter)(V),ue=(0,i.Z)(ce,4),pe=ue[0],de=ue[1],fe=ue[2],me=ue[3],ge=(0,S.useOperatingSystemFilter)(V),ve=(0,i.Z)(ge,4),ye=ve[0],he=ve[1],be=ve[2],Ee=ve[3],Oe=(0,S.useTagsFilter)(X,q,J,(function(){return M((0,h.Ar)(!0))}),V),we=Oe.tagsFilter,Te=Oe.tagsChip,Ze=Oe.selectedTags,Pe=Oe.setSelectedTags,Se=Oe.filterTagsBy,De=Oe.seFilterTagsBy,je=(0,c.useCallback)(O()((function(e,t){I&&!w&&B&&M((0,h.C8)(e,F(F({},_),t),L))}),800),[null==_?void 0:_.tags]),Fe=(0,c.useCallback)((function(e){B&&(z(e),I&&!w&&M((0,h.C8)(Se,F(F({},_),{},{filters:(null==e?void 0:e.filters)||K}),L)))}),[null==_?void 0:_.tags]),ke={name:!(N.all&&!1!==N.name||N.name),stale:!(N.all&&!1!==N.stale||N.stale),registeredWith:!(N.all&&!1!==N.registeredWith||N.registeredWith),operatingSystem:!(N.all&&!1!==N.operatingSystem||N.operatingSystem),tags:!(N.all&&!1!==N.tags||N.tags)},Re=function(e){B&&Fe(e)},Ie=(0,c.useCallback)(O()((function(e){return Re(e)}),800),[null==W?void 0:W.key,null==W?void 0:W.direction]);(0,c.useEffect)((function(){var e=(0,Z.reduceFilters)(K),t=e.textFilter,n=e.tagFilters,r=e.staleFilter,a=e.registeredWithFilter,o=e.osFilter;Ie(),ke.name&&ne(t),ke.stale&&se(r),ke.registeredWith&&me(a),ke.tags&&Pe(n),ke.operatingSystem&&Ee(o)}),[]);var Le=function(e,t,n){var r=[].concat((0,o.Z)(null==K?void 0:K.filter((function(e){return!Object.prototype.hasOwnProperty.call(e,t)}))),[(0,l.Z)({},t,e)]);n({page:1,perPage:f,filters:r})},Ce=d&&f&&K&&(!w||C);(0,c.useEffect)((function(){Ce&&I&&ke.tags&&je(Se,{filters:K})}),[Se,null==_?void 0:_.tags]),(0,c.useEffect)((function(){Ce&&ke.name&&function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.trim(),r=null==K?void 0:K.find((function(e){return e.value===Z.TEXT_FILTER}));r?r.filter=n:null==K||K.push({value:Z.TEXT_FILTER,filter:n}),(t?Ie:Re)({page:1,perPage:f,filters:K})}(te,!0)}),[te]),(0,c.useEffect)((function(){Ce&&ke.stale&&Le(le,"staleFilter",Ie)}),[le]),(0,c.useEffect)((function(){Ce&&ke.registeredWith&&Le(fe,"registeredWithFilter",Ie)}),[fe]),(0,c.useEffect)((function(){Ce&&I&&ke.tags&&Le((0,v.Nc)(Ze),"tagFilters",Ie)}),[Ze]),(0,c.useEffect)((function(){Ce&&ke.operatingSystem&&Le(be,"osFilter",Ie)}),[be]);var We,_e=(t={},(0,l.Z)(t,Z.TEXTUAL_CHIP,(function(){return ne("")})),(0,l.Z)(t,Z.TAG_CHIP,(function(e){return Pe((0,P.cT)(e,Ze,(function(e){return Le((0,v.Nc)(e),"tagFilters",Re)})))})),(0,l.Z)(t,Z.STALE_CHIP,(function(e){return se((0,P.Jr)(e,le))})),(0,l.Z)(t,Z.REGISTERED_CHIP,(function(e){return me((0,P.Jr)(e,fe))})),(0,l.Z)(t,Z.OS_CHIP,(function(e){return Ee((0,P.Xd)(e,be))})),t),Be=[].concat((0,o.Z)(w?[]:[].concat((0,o.Z)(ke.name?[$]:[]),(0,o.Z)(ke.stale?[oe]:[]),(0,o.Z)(ke.operatingSystem?[ye]:[]),(0,o.Z)(ke.registeredWith?[pe]:[]),(0,o.Z)(I&&ke.tags?[we]:[]))),(0,o.Z)((null==E?void 0:E.items)||[]));return u().createElement(c.Fragment,null,u().createElement(y.Z,(0,r.Z)({},U,A&&{bulkSelect:F(F({},A),{},{isDisabled:(null==A?void 0:A.isDisabled)||!B})},{className:"ins-c-inventory__table--toolbar ".concat(w||!Be.length?"ins-c-inventory__table--toolbar-has-items":"")},(null==Be?void 0:Be.length)>0&&{filterConfig:F(F({},E||{}),{},{isDisabled:!B,items:null==Be?void 0:Be.map((function(e){var t,n;return F(F({},e),{},{filterValues:F(F({placeholder:(null==e||null===(t=e.filterValues)||void 0===t?void 0:t.placeholder)||"Filter by ".concat(null==e||null===(n=e.label)||void 0===n?void 0:n.toLowerCase())},null==e?void 0:e.filterValues),{},{isDisabled:!B})})}))})},(te.length>0||T()(Object.values(Ze),(function(e){return Object.values(e).filter(Boolean)})).filter(Boolean).length>0||(null==le?void 0:le.length)>0||(null==fe?void 0:fe.length)>0||(null==be?void 0:be.length)>0||(null==R||null===(We=R.filters)||void 0===We?void 0:We.length)>0)&&B&&{activeFiltersConfig:F(F({},R||{}),{},{filters:[].concat((0,o.Z)(I&&!w&&ke.tags?Te:[]),(0,o.Z)(!w&&ke.name?ee:[]),(0,o.Z)(!w&&ke.stale?ie:[]),(0,o.Z)(!w&&ke.registeredWith?de:[]),(0,o.Z)(!w&&ke.operatingSystem?he:[]),(0,o.Z)((null==R?void 0:R.filters)||[])),onDelete:function(e,t,n){var r,i=(0,a.Z)(t),l=i[0],s=i.slice(1);n?(Re({page:1,filters:[]}),M((0,h.K5)()),ke.name&&ne(""),ke.tags&&Pe({})):null===(r=_e[l.type])||void 0===r||r.call(_e,l),R&&R.onDelete&&R.onDelete(e,[l].concat((0,o.Z)(s)),n,b.js)}})},{actionsConfig:H?k:null,pagination:H?F({page:d,itemCount:B?n:0,isDisabled:!B,perPage:f,onSetPage:function(e,t){return z({page:t})},onPerPageSelect:function(e,t){return z({page:1,per_page:t})}},x):u().createElement(m.Z,{size:m.i.lg})}),j),(I||ke.tags||G)&&u().createElement(Z.TagsModal,{customFilters:_,filterTagsBy:Se,onApply:function(e){return Pe((0,Z.arrayToSelection)(e))},onToggleModal:function(){return De("")},getTags:L}))};k.propTypes={showTags:f().bool,getTags:f().func,hasAccess:f().bool,filterConfig:y.Z.propTypes.filterConfig,total:f().number,filters:f().array,hasItems:f().bool,page:f().number,onClearFilters:f().func,toggleTagModal:f().func,perPage:f().number,children:f().node,pagination:y.Z.propTypes.pagination,actionsConfig:y.Z.propTypes.actionsConfig,activeFiltersConfig:y.Z.propTypes.activeFiltersConfig,onRefreshData:f().func,customFilters:f().shape({tags:f().oneOfType([f().object,f().arrayOf(f().string)])}),hideFilters:f().shape({tags:f().bool,name:f().bool,registeredWith:f().bool,stale:f().bool,operatingSystem:f().bool,all:f().bool}),paginationProps:f().object,loaded:f().bool,onRefresh:f().func,hasCheckbox:f().bool,isLoaded:f().bool,items:f().array,sortBy:f().object,bulkSelect:f().object,showTagModal:f().bool,disableDefaultColumns:f().any},k.defaultProps={showTags:!1,hasAccess:!0,activeFiltersConfig:{},filters:[],hideFilters:{}};const R=k},37839:(e,t,n)=>{n.d(t,{Z:()=>P});var r=n(4942),a=n(87462),o=n(45987),i=n(92950),l=n.n(i),s=n(50533),c=n(69506),u=n(50693),p=n(16475),d=n(45697),f=n.n(d),m=n(18446),g=n.n(m),v=n(85630),y=["children","isOpen"],h=["showHealth","onRefreshData","ignoreRefresh"],b=["hasAccess","onRefreshData"];function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){return e.children,e.isOpen,(0,o.Z)(e,y)},T=function(e){e.showHealth;var t=e.onRefreshData,n=e.ignoreRefresh,r=(0,o.Z)(e,h),s=(0,i.useRef)(r.items),d=(0,i.useRef)(r.sortBy);return(0,i.useEffect)((function(){r.hasItems&&t({},n)}),[]),(0,i.useEffect)((function(){r.hasItems&&!g()(s.current.map(w),r.items.map(w))&&(s.current=r.items,t({},n)),r.hasItems||g()(d.current,r.sortBy)||(d.current=r.sortBy,t({},n))})),l().createElement(u.r,{gutter:"sm",className:"ins-inventory-list"},l().createElement(p.P,{span:12},l().createElement(c.Z,(0,a.Z)({},r,{onRefreshData:t}))))},Z=l().forwardRef((function(e,t){var n=e.hasAccess,r=e.onRefreshData,i=(0,o.Z)(e,b),c=(0,s.useSelector)((function(e){return e.entities.activeFilters}));return t&&(t.current={onRefreshData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r(e,t)}}),n?l().createElement(T,(0,a.Z)({},i,{activeFilters:c,onRefreshData:r})):l().createElement("div",{className:"ins-c-inventory__no-access"},l().createElement(v.Z,{showReturnButton:!1}))}));T.propTypes=O(O({},Z.propTypes),{},{setRefresh:f().func,onRefreshData:f().func,ignoreRefresh:f().bool}),T.defaultProps={perPage:50,page:1,ignoreRefresh:!0},Z.propTypes={showTags:f().bool,filterEntities:f().func,loadEntities:f().func,showHealth:f().bool,page:f().number,perPage:f().number,sortBy:f().shape({key:f().string,direction:f().string}),items:f().arrayOf(f().oneOfType([f().string,f().shape({id:f().string.isRequired}),f().shape({account:f().any,isOpen:f().bool,title:f().node})])),entities:f().arrayOf(f().any),customFilters:f().shape({tags:f().oneOfType([f().object,f().arrayOf(f().string)])}),getEntities:f().func,hideFilters:f().shape({tags:f().bool,name:f().bool,registeredWith:f().bool,stale:f().bool,operatingSystem:f().bool}),onRefreshData:f().func},Z.defaultProps={hasAccess:!0};const P=Z},8061:(e,t,n)=>{n.d(t,{Z:()=>S});var r=n(87462),a=n(4942),o=n(93324),i=n(45987),l=n(92950),s=n.n(l),c=n(45697),u=n.n(c),p=n(50533),d=n(95407),f=n(32875),m=n(46639),g=n(37839),v=n(86765),y=n(85630),h=n(14918),b=n(18446),E=n.n(b),O=n(94778),w=["onRefresh","children","inventoryRef","items","total","page","perPage","filters","showTags","sortBy","customFilters","hasAccess","isFullView","getEntities","getTags","hideFilters","paginationProps","errorState","autoRefresh","isLoaded","initialLoading","ignoreRefresh","showTagModal"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=(0,l.forwardRef)((function(e,t){var n=e.onRefresh,a=e.children,c=(e.inventoryRef,e.items),u=e.total,b=e.page,T=e.perPage,P=e.filters,S=e.showTags,D=e.sortBy,j=e.customFilters,F=e.hasAccess,k=void 0===F||F,R=e.isFullView,I=void 0!==R&&R,L=e.getEntities,C=e.getTags,W=e.hideFilters,_=e.paginationProps,B=e.errorState,A=void 0===B?s().createElement(m.Z,null):B,N=e.autoRefresh,x=e.isLoaded,z=e.initialLoading,H=e.ignoreRefresh,G=e.showTagModal,U=(0,i.Z)(e,w),M=Boolean(c),V=(0,p.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.error})),K=(0,p.useSelector)((function(e){var t=e.entities.page;return M?b:t||1}),p.shallowEqual),q=(0,p.useSelector)((function(e){var t=e.entities.perPage;return M?T:t||50}),p.shallowEqual),X={page:K,perPage:q,total:(0,p.useSelector)((function(e){var t=e.entities.total;return M?void 0!==u?u:null==c?void 0:c.length:t}),p.shallowEqual)},J=(0,p.useSelector)((function(e){var t=e.entities.sortBy;return M?D:t}),p.shallowEqual),Y=(0,p.useSelector)((function(e){var t=e.entities;return M&&void 0!==x?x&&(null==t?void 0:t.loaded):null==t?void 0:t.loaded})),Q=(0,l.useState)(z),$=(0,o.Z)(Q,2),ee=$[0],te=$[1];(0,l.useEffect)((function(){Y||te()}),[Y]);var ne=Y&&!ee,re=(0,p.useDispatch)(),ae=(0,p.useStore)(),oe=(0,l.useRef)(function(){var e={};return{updateProps:function(t){e=t},getProps:function(){return e}}}());oe.current.updateProps({page:K,perPage:q,items:c,sortBy:J,hideFilters:W,showTags:S,getEntities:L,customFilters:j,hasItems:M});var ie=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=ae.getState().entities.activeFilters,o=(null===(e=oe.current)||void 0===e?void 0:e.getProps())||{},i=(null==t?void 0:t.per_page)||(null==t?void 0:t.perPage)||o.perPage,l=Z(Z({page:o.page,per_page:i,items:o.items,sortBy:o.sortBy,hideFilters:o.hideFilters,filters:a,hasItems:o.hasItems},o.customFilters),t);n&&!r?(re((0,O.nE)()),n(l,(function(e){re((0,h.loadSystems)(Z(Z({},l),e),o.showTags,o.getEntities))}))):re((0,h.loadSystems)(l,o.showTags,o.getEntities))},le=(0,l.useRef)(j);return(0,l.useEffect)((function(){N&&!E()(le.current,j)&&(ie({page:1}),le.current=j)})),!1===k&&I?s().createElement(y.Z,{title:"This application requires Inventory permissions",description:s().createElement("div",null,"To view the content of this page, you must be granted a minimum of inventory permissions from your Organization Administrator.")}):V?A:s().createElement(l.Fragment,null,s().createElement(d.Z,(0,r.Z)({},U,{customFilters:j,hasAccess:k,items:c,filters:P,hasItems:M,total:X.total,page:X.page,perPage:X.perPage,showTags:S,getTags:C,onRefreshData:ie,sortBy:J,hideFilters:W,paginationProps:_,loaded:ne,showTagModal:G,activeFiltersConfig:Z({deleteTitle:"Reset filters"},U.activeFiltersConfig)}),a),s().createElement(g.Z,(0,r.Z)({},U,{customFilters:j,hasAccess:k,ref:t,hasItems:M,items:c,page:X.page,sortBy:J,perPage:X.perPage,showTags:S,onRefreshData:ie,loaded:ne,ignoreRefresh:H})),s().createElement(f.Z,{isFooter:!0,className:"ins-c-inventory__table--toolbar"},s().createElement(v.Z,{hasAccess:k,isFull:!0,total:X.total,page:X.page,perPage:X.perPage,hasItems:M,onRefreshData:ie,paginationProps:_,loaded:ne})))}));P.propTypes={autoRefresh:u().bool,onRefresh:u().func,children:u().node,inventoryRef:u().object,items:u().array,total:u().number,page:u().number,perPage:u().number,filters:u().any,showTags:u().bool,getTags:u().func,sortBy:u().object,customFilters:u().any,hasAccess:u().bool,isFullView:u().bool,getEntities:u().func,hideFilters:u().object,paginationProps:u().object,errorState:u().node,isLoaded:u().bool,initialLoading:u().bool,ignoreRefresh:u().bool,showTagModal:u().bool,activeFiltersConfig:u().object};const S=P},8285:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(92950),a=n.n(r),o=n(75106),i=n(9947),l=n(60485);const s=function(){return a().createElement(i.u,{variant:i.I.full},a().createElement(l.D,{headingLevel:"h5",size:"lg"},"No matching systems found"),a().createElement(o.B,null,"To continue, edit your filter settings and search again."))}},86765:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(87462),a=n(92950),o=n.n(a),i=n(32265),l=n(45697),s=n.n(l),c=function(e){var t=e.total,n=e.page,a=e.perPage,l=e.direction,s=e.isFull,c=e.hasAccess,u=e.paginationProps,p=e.onRefreshData;return e.loaded||!c?o().createElement(i.t,(0,r.Z)({},s&&{variant:i.a.bottom},{isDisabled:!c,itemCount:t,page:n,perPage:a,dropDirection:l,onSetPage:function(e,t){return p({page:t})},onPerPageSelect:function(e,t){return p({page:1,per_page:t})}},u)):null};c.propTypes={perPage:s().number,total:s().number,page:s().number,isFull:s().bool,hasAccess:s().bool,direction:s().string,paginationProps:s().object,loaded:s().bool,onRefreshData:s().func.isRequired},c.defaultProps={total:0,isFull:!1,direction:"up",hasAccess:!0};const u=c},27254:(e,t,n)=>{n.d(t,{Hg:()=>b,Jr:()=>E,Xd:()=>O,cT:()=>w,wu:()=>Z});var r=n(89062),a=n(4942),o=n(45987),i=n(92950),l=n.n(i),s=n(57971),c=n(27361),u=n.n(c),p=n(85564),d=n.n(p),f=n(13718),m=["actions","expandable","noSystemsTable"],g=["props","transforms","cellFormatters"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(e,t,n){return t.map((function(t){var r=t.key,a=t.composed,o=t.renderFunc,s=a?l().createElement(i.Fragment,null,(0,f.Z)(a.map((function(t){return u()(e,t," ")})),e.id,e,n)):u()(e,r," ");return o?l().createElement(i.Fragment,null,o(s,e.id,e,n)):s}))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.actions,a=n.expandable,i=n.noSystemsTable,l=(0,o.Z)(n,m);return 0===e.length?[{cells:[{title:i,props:{colSpan:t.length+Boolean(r),dataLabel:null}}]}]:d()(e.map((function(e,n){return[y(y(y({},e),e.children&&a&&{isOpen:!!e.isOpen}),{},{cells:h(e,t,l),actionProps:{"data-ouia-component-id":"".concat(e.id,"-actions-kebab")}}),e.children&&a&&{cells:[{title:"function"==typeof e.children?e.children():e.children}],parent:2*n,fullWidth:!0}]}))).filter(Boolean)},E=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{},a=r.value;return n.filter((function(e){return e!==a}))},O=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{},o=r.value,i="".concat(o.split(".")[0],".0");return y(y({},n),{},(0,a.Z)({},i,Object.keys(n[i]).reduce((function(e,t){return t!==o&&(e[t]=!0),e}),{})))},w=function(e,t,n){var r,a,o=null==e||null===(r=e.chips)||void 0===r?void 0:r[0];return void 0!==(null==t||null===(a=t[null==e?void 0:e.key])||void 0===a?void 0:a[null==o?void 0:o.key])&&(t[null==e?void 0:e.key][null==o?void 0:o.key]=!1),n&&n(t,!1),t},T=function(e){return null==e?void 0:e.reduce((function(e,t){return e||t.toString().includes("onSort:")}),!1)},Z=function(e,t,n,a){return null==e?void 0:e.map((function(e){var i=e.props,l=e.transforms,c=e.cellFormatters;return y(y({},(0,o.Z)(e,g)),{},{transforms:[].concat((0,r.Z)(l||[]),(0,r.Z)(null!=i&&i.width?[(0,s.cellWidth)(i.width)]:[]),(0,r.Z)(t||n.length<=0||i&&i.isStatic||null!=l&&l.includes(s.sortable)||T(l)?[]:[s.sortable])),cellFormatters:[].concat((0,r.Z)(c||[]),(0,r.Z)(a?[s.expandable]:[]))})}))}},48524:(e,t,n)=>{n.d(t,{e:()=>r.Z});var r=n(8061)},90901:(e,t,n)=>{n.r(t),n.d(t,{TEXT_FILTER:()=>a.ud,textFilterReducer:()=>a.sQ,textFilterState:()=>a.RK,useTextFilter:()=>a.xG,STALENESS_FILTER:()=>o.H5,stalenessFilterReducer:()=>o.lq,stalenessFilterState:()=>o.gp,useStalenessFilter:()=>o.D,REGISTERED_WITH_FILTER:()=>i.d5,registeredWithFilterReducer:()=>i.a,registeredWithFilterState:()=>i.Os,useRegisteredWithFilter:()=>i.fz,useTagsFilter:()=>l.Y,OPERATING_SYSTEM_FILTER:()=>s.Tc,operatingSystemFilterReducer:()=>s.BG,operatingSystemFilterState:()=>s.AN,useOperatingSystemFilter:()=>s.nG,filtersReducer:()=>p});var r=n(4942),a=n(11890),o=n(77931),i=n(42445),l=n(95653),s=n(7314);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(e){return function(t,n){return e.reduce((function(e,r){return u(u({},e),null==r?void 0:r(t,n))}),t)}}},7314:(e,t,n)=>{n.d(t,{AN:()=>s,Tc:()=>c,BG:()=>u,nG:()=>p});var r=n(93324),a=n(4942),o=n(92950),i=n(98436);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s={operatingSystemFilter:[]},c="OPERATING_SYSTEM_FILTER",u=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===c&&{operatingSystemFilter:r})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[s],t=(0,r.Z)(e,2),n=t[0],a=t[1],l=(0,o.useState)([]),u=(0,r.Z)(l,2),p=u[0],d=u[1],f=a?n.operatingSystemFilter:p,m=a?function(e){return a({type:c,payload:e})}:d,g=(0,i.Zf)({value:f,onChange:function(e,t){return m(t)}}),v=(0,i.VT)(f);return[g,v,f,m]}},42445:(e,t,n)=>{n.d(t,{Os:()=>p,d5:()=>d,a:()=>f,fz:()=>m});var r=n(45987),a=n(93324),o=n(4942),i=n(92950),l=n(14918),s=["label"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={registeredWithFilter:[]},d="REGISTERED_WITH_FILTER",f=function(e,t){var n=t.type,r=t.payload;return u({},n===d&&{registeredWithFilter:r})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[p],t=(0,a.Z)(e,2),n=t[0],o=t[1],c=(0,i.useState)([]),f=(0,a.Z)(c,2),m=f[0],g=f[1],v=o?n.registeredWithFilter:m,y=o?function(e){return o({type:d,payload:e})}:g,h={label:"Source",value:"source-registered-with",type:"checkbox",filterValues:{value:v,onChange:function(e,t){return y(t)},items:l.registered}},b=(null==v?void 0:v.length)>0?[{category:"Source",type:l.REGISTERED_CHIP,chips:l.registered.filter((function(e){var t=e.value;return v.includes(t)})).map((function(e){return u({name:e.label},(0,r.Z)(e,s))}))}]:[];return[h,b,v,y]}},77931:(e,t,n)=>{n.d(t,{gp:()=>p,H5:()=>d,lq:()=>f,D:()=>m});var r=n(45987),a=n(93324),o=n(4942),i=n(92950),l=n(14918),s=["label"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={stalenessFilter:[]},d="STALENESS_FILTER",f=function(e,t){var n=t.type,r=t.payload;return u({},n===d&&{stalenessFilter:r})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[p],t=(0,a.Z)(e,2),n=t[0],o=t[1],c=(0,i.useState)([]),f=(0,a.Z)(c,2),m=f[0],g=f[1],v=o?n.stalenessFilter:m,y=o?function(e){return o({type:d,payload:e})}:g,h={label:"Status",value:"stale-status",type:"checkbox",filterValues:{value:v,onChange:function(e,t){return y(t)},items:l.staleness}},b=(null==v?void 0:v.length)>0?[{category:"Status",type:l.STALE_CHIP,chips:l.staleness.filter((function(e){var t=e.value;return v.includes(t)})).map((function(e){return u({name:e.label},(0,r.Z)(e,s))}))}]:[];return[h,b,v,y]}},95653:(e,t,n)=>{n.d(t,{Y:()=>l});var r=n(4942),a=n(59855);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,l=(0,a.YM)(e,t,n,r,o,"system"),s=l.filter,c=l.chips,u=l.selectedTags,p=l.setValue,d=l.filterTagsBy,f=l.seFilterTagsBy;return{tagsFilter:{label:"Tags",value:"tags",type:"group",placeholder:"Filter system by tag",filterValues:i({},s)},tagsChip:c,selectedTags:u,setSelectedTags:p,filterTagsBy:d,seFilterTagsBy:f}}},11890:(e,t,n)=>{n.d(t,{RK:()=>s,ud:()=>c,sQ:()=>u,xG:()=>p});var r=n(93324),a=n(4942),o=n(92950),i=n(14918);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var s={textFilter:""},c="TEXT_FILTER",u=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===c&&{textFilter:r})},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[s],t=(0,r.Z)(e,2),n=t[0],a=t[1],l=(0,o.useState)(""),u=(0,r.Z)(l,2),p=u[0],d=u[1],f=a?n.textFilter:p,m=a?function(e){return a({type:c,payload:e})}:d,g={label:"Name",value:"name-filter",filterValues:{placeholder:"Filter by name",value:f,onChange:function(e,t){return m(t)}}},v=f.length>0?[{category:"Display name",type:i.TEXTUAL_CHIP,chips:[{name:f}]}]:[];return[g,v,f,m]}}}]);
//# sourceMappingURL=../sourcemaps/inventoryConnector.6a261ccab628d52d35d523a16ba65e6c.js.map