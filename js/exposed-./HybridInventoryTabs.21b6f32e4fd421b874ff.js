(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[8598],{68425:(e,t,a)=>{"use strict";a.d(t,{C:()=>s});var n=a(70655),r=a(92950),i=a(38296),l=a(12971);const s=e=>{var{isRead:t=!1,className:a="",children:s="",screenReaderText:o}=e,u=(0,n.__rest)(e,["isRead","className","children","screenReaderText"]);return r.createElement("span",Object.assign({},u,{className:(0,i.i)(l.Z.badge,t?l.Z.modifiers.read:l.Z.modifiers.unread,a)}),s,o&&r.createElement("span",{className:"pf-screen-reader"},o))};s.displayName="Badge"},47173:(e,t,a)=>{"use strict";a.d(t,{L$:()=>r,Wu:()=>n,zx:()=>m});var n,r,i=a(70655),l=a(92950),s=a(80480),o=a(38296),u=a(37619),c=a(62472),d=a(68425);!function(e){e.primary="primary",e.secondary="secondary",e.tertiary="tertiary",e.danger="danger",e.warning="warning",e.link="link",e.plain="plain",e.control="control"}(n||(n={})),function(e){e.button="button",e.submit="submit",e.reset="reset"}(r||(r={}));const p=e=>{var{children:t=null,className:a="",component:p="button",isActive:f=!1,isBlock:b=!1,isDisabled:v=!1,isAriaDisabled:g=!1,isLoading:y=null,isDanger:h=!1,spinnerAriaValueText:k,spinnerAriaLabelledBy:O,spinnerAriaLabel:_,isSmall:S=!1,isLarge:Z=!1,inoperableEvents:E=["onClick","onKeyPress"],isInline:F=!1,type:x=r.button,variant:A=n.primary,iconPosition:N="left","aria-label":w=null,icon:P=null,ouiaId:I,ouiaSafe:D=!0,tabIndex:$=null,innerRef:j,countOptions:R}=e,C=(0,i.__rest)(e,["children","className","component","isActive","isBlock","isDisabled","isAriaDisabled","isLoading","isDanger","spinnerAriaValueText","spinnerAriaLabelledBy","spinnerAriaLabel","isSmall","isLarge","inoperableEvents","isInline","type","variant","iconPosition","aria-label","icon","ouiaId","ouiaSafe","tabIndex","innerRef","countOptions"]);const T=(0,c.S$)(m.displayName,I,D,A),B=p,L="button"===B,G=F&&"span"===B,M=E.reduce(((e,t)=>Object.assign(Object.assign({},e),{[t]:e=>{e.preventDefault()}})),{});return l.createElement(B,Object.assign({},C,g?M:null,{"aria-disabled":v||g,"aria-label":w,className:(0,o.i)(s.Z.button,s.Z.modifiers[A],b&&s.Z.modifiers.block,v&&s.Z.modifiers.disabled,g&&s.Z.modifiers.ariaDisabled,f&&s.Z.modifiers.active,F&&A===n.link&&s.Z.modifiers.inline,h&&(A===n.secondary||A===n.link)&&s.Z.modifiers.danger,null!==y&&null!==t&&s.Z.modifiers.progress,y&&s.Z.modifiers.inProgress,S&&s.Z.modifiers.small,Z&&s.Z.modifiers.displayLg,a),disabled:L?v:null,tabIndex:null!==$?$:v?L?null:-1:g?null:G?0:void 0,type:L||G?x:null,role:G?"button":null,ref:j},T),y&&l.createElement("span",{className:(0,o.i)(s.Z.buttonProgress)},l.createElement(u.$,{size:u.S.md,isInline:F,"aria-valuetext":k,"aria-label":_,"aria-labelledby":O})),A===n.plain&&null===t&&P?P:null,A!==n.plain&&P&&"left"===N&&l.createElement("span",{className:(0,o.i)(s.Z.buttonIcon,s.Z.modifiers.start)},P),t,A!==n.plain&&P&&"right"===N&&l.createElement("span",{className:(0,o.i)(s.Z.buttonIcon,s.Z.modifiers.end)},P),R&&l.createElement("span",{className:(0,o.i)(s.Z.buttonCount,R.className)},l.createElement(d.C,{isRead:R.isRead},R.count)))},m=l.forwardRef(((e,t)=>l.createElement(p,Object.assign({innerRef:t},e))));m.displayName="Button"},37619:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,S:()=>l});var n=a(70655),r=a(92950);a(66822);const i={modifiers:{inline:"pf-m-inline",sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",xl:"pf-m-xl"},spinner:"pf-c-spinner",spinnerClipper:"pf-c-spinner__clipper",spinnerLeadBall:"pf-c-spinner__lead-ball",spinnerPath:"pf-c-spinner__path",spinnerTailBall:"pf-c-spinner__tail-ball"};var l,s=a(38296);!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(l||(l={}));const o=e=>{var{className:t="",size:a="xl","aria-valuetext":l="Loading...",isSVG:o=!1,diameter:u,isInline:c=!1,"aria-label":d,"aria-labelledBy":p}=e,m=(0,n.__rest)(e,["className","size","aria-valuetext","isSVG","diameter","isInline","aria-label","aria-labelledBy"]);const f=o?"svg":"span";return r.createElement(f,Object.assign({className:(0,s.i)(i.spinner,c?i.modifiers.inline:i.modifiers[a],t),role:"progressbar","aria-valuetext":l},o&&{viewBox:"0 0 100 100"},u&&{style:{"--pf-c-spinner--diameter":u}},d&&{"aria-label":d},p&&{"aria-labelledBy":p},!d&&!p&&{"aria-label":"Contents"},m),o?r.createElement("circle",{className:i.spinnerPath,cx:"50",cy:"50",r:"45",fill:"none"}):r.createElement(r.Fragment,null,r.createElement("span",{className:(0,s.i)(i.spinnerClipper)}),r.createElement("span",{className:(0,s.i)(i.spinnerLeadBall)}),r.createElement("span",{className:(0,s.i)(i.spinnerTailBall)})))};o.displayName="Spinner"},41724:(e,t,a)=>{"use strict";a.d(t,{w:()=>i});var n=a(92950);let r=0;class i extends n.Component{constructor(){super(...arguments),this.id=`${this.props.prefix}${r++}`}render(){return this.props.children(this.id)}}i.displayName="GenerateId",i.defaultProps={prefix:"pf-random-id-"}},62472:(e,t,a)=>{"use strict";a.d(t,{S$:()=>o,Z1:()=>u,dp:()=>s,ql:()=>c});var n=a(92950);let r=0;const i="OUIA-Generated-",l={};function s(e,t,a=!0){return{"data-ouia-component-type":`PF4/${e}`,"data-ouia-safe":a,"data-ouia-component-id":t}}const o=(e,t,a=!0,n)=>({"data-ouia-component-type":`PF4/${e}`,"data-ouia-safe":a,"data-ouia-component-id":u(e,t,n)}),u=(e,t,a)=>{const r=(0,n.useMemo)((()=>c(e,a)),[e,a]);return null!=t?t:r};function c(e,t){try{let a;return a="undefined"!=typeof window?`${window.location.href}-${e}-${t||""}`:`${e}-${t||""}`,l[a]||(l[a]=0),`${i}${e}-${t?`${t}-`:""}${++l[a]}`}catch(a){return`${i}${e}-${t?`${t}-`:""}${++r}`}}},12971:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(11452);const n={badge:"pf-c-badge",modifiers:{read:"pf-m-read",unread:"pf-m-unread"},themeDark:"pf-theme-dark"}},80480:(e,t,a)=>{"use strict";a.d(t,{Z:()=>n}),a(34946);const n={badge:"pf-c-badge",button:"pf-c-button",buttonCount:"pf-c-button__count",buttonIcon:"pf-c-button__icon",buttonProgress:"pf-c-button__progress",modifiers:{active:"pf-m-active",block:"pf-m-block",small:"pf-m-small",primary:"pf-m-primary",displayLg:"pf-m-display-lg",secondary:"pf-m-secondary",tertiary:"pf-m-tertiary",link:"pf-m-link",unread:"pf-m-unread",inline:"pf-m-inline",danger:"pf-m-danger",warning:"pf-m-warning",control:"pf-m-control",expanded:"pf-m-expanded",plain:"pf-m-plain",disabled:"pf-m-disabled",ariaDisabled:"pf-m-aria-disabled",progress:"pf-m-progress",inProgress:"pf-m-in-progress",start:"pf-m-start",end:"pf-m-end",overpassFont:"pf-m-overpass-font"},spinner:"pf-c-spinner",themeDark:"pf-theme-dark"}},13784:(e,t,a)=>{"use strict";a.d(t,{A2:()=>w,Dx:()=>D,FW:()=>I,Gw:()=>P,Gy:()=>O,Ih:()=>f,KS:()=>T,Kq:()=>y,Nu:()=>R,OG:()=>_,Ph:()=>E,Re:()=>F,SM:()=>h,SQ:()=>$,Tk:()=>j,UC:()=>u,WN:()=>x,WS:()=>v,X4:()=>k,YQ:()=>C,cE:()=>b,cQ:()=>N,cf:()=>G,e2:()=>g,h3:()=>L,jv:()=>A,m5:()=>c,p9:()=>p,qy:()=>S,sO:()=>M,ud:()=>o,vi:()=>m,vo:()=>Z,xb:()=>B,yc:()=>d});var n=a(29439),r=a(4942),i=a(92950);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){(0,r.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var o="hostname_or_id",u="textual",c="tags",d="staleness",p="registered_with",m="operating_system",f="rhc_client_id",b="system_update_method",v="last_seen",g="group_name",y="puptoo",h="rhsm-conduit",k="rhsm-system-profile-bridge",O="vulnerabilities",_="advisor",S="patch",Z="/api/inventory/v1/hosts",E="?filter[system_profile][host_type]=edge&page=1&per_page=1",F="?page=1&per_page=1";function x(e){var t=new Date;return t.setDate(t.getDate()-e),t.toISOString()}var A=[{label:"Fresh",value:"fresh"},{label:"Stale",value:"stale"},{label:"Stale warning",value:"stale_warning"},{label:"Unknown",value:"unknown"}],N=(new Date).toISOString(),w=[{value:{updatedStart:x(1),updatedEnd:N,mark:"last24"},label:"Within the last 24 hours"},{value:{updatedEnd:x(1),mark:"24more"},label:"More than 1 day ago"},{value:{updatedEnd:x(7),mark:"7more"},label:"More than 7 days ago"},{value:{updatedEnd:x(15),mark:"15more"},label:"More than 15 days ago"},{value:{updatedEnd:x(30),mark:"30more"},label:"More than 30 days ago"},{value:{mark:"custom"},label:"Custom"}],P=[{label:"insights-client",value:"puptoo",idName:"Insights id",idValue:"insights_id"},{label:"subscription-manager",value:"rhsm-conduit",idName:"Subscription manager id",idValue:"subscription_manager_id"},{label:"Satellite/Discovery",value:"yupana"},{label:"insights-client not connected",value:"!puptoo"}],I=(0,i.createContext)({}),D=[{label:"Active",value:"not_nil"},{label:"Inactive",value:"nil"}],$=[{label:"yum",value:"yum"},{label:"dnf",value:"dnf"},{label:"rpm-ostree",value:"rpm-ostree"}];function j(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"values";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(t,a){return s(s({},t),{},(0,r.Z)({},a.key,a[e].reduce((function(e,t){return s(s({},e),{},(0,r.Z)({},t.key,{isSelected:!0,group:t.group,item:{meta:{tag:{key:t.tagKey,value:t.value}}}}))}),{})))}),{})}var R=function(e){return e.reduce((function(e,t){var a=(0,n.Z)(t.cells,3),i=a[0],l=a[1],o=a[2];return s(s({},e),{},(0,r.Z)({},o,s(s({},e[(null==o?void 0:o.title)||o]),{},(0,r.Z)({},(null==i?void 0:i.title)||i,{isSelected:!0,group:{value:(null==o?void 0:o.title)||o,label:(null==o?void 0:o.title)||o},item:{value:(null==i?void 0:i.title)||i,meta:{tag:{key:(null==i?void 0:i.title)||i,value:(null==l?void 0:l.title)||l}}}}))))}),{})};function C(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){if(t.value===o)return s(s({},e),{},{textFilter:t.filter});if("tagFilters"in t)return s(s({},e),{},{tagFilters:j(t.tagFilters)});var a=["staleFilter","registeredWithFilter","osFilter","rhcdFilter","updateMethodFilter","lastSeenFilter","hostGroupFilter",""].find((function(e){return Object.keys(t).includes(e)}));return s(s({},e),a&&(0,r.Z)({},a,t[a]))}),{textFilter:"",tagFilters:{}})}var T=function(e,t){return e.payload.then((function(e){return t(),e})),e},B=function(e){return!e||0===(null==e?void 0:e.length)},L=function(e,t,a,n,r,i,l,s,o){return[!B(e)&&{staleFilter:Array.isArray(e)?e:[e]},!B(a)&&{tagFilters:Array.isArray(a)?a:[a]},!B(t)&&{registeredWithFilter:Array.isArray(t)?t:[t]},!B(n)&&{value:"hostname_or_id",filter:Array.isArray(n)?n[0]:n},(!B(e)||!B(a)||!B(n))&&B(t)&&{registeredWithFilter:[]},(!B(t)||!B(a)||!B(n))&&B(e)&&{staleFilter:[]},!B(r)&&{osFilter:Array.isArray(r)?r:[r]},!B(i)&&{rhcdFilter:Array.isArray(i)?i:[i]},!B(o)&&{lastSeenFilter:Array.isArray(o)?w.filter((function(e){return e.value.mark===o[0]}))[0].value:[o]},!B(l)&&{updateMethodFilter:Array.isArray(l)?l:[l]},!B(s)&&{hostGroupFilter:Array.isArray(s)?s:[s]}].filter(Boolean)},G=["fresh","stale","stale_warning","unknown"],M={conventional:{key:"conventional",url:""},immutable:{key:"immutable",url:"/manage-edge-inventory"}}},79161:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var n=a(7085);const r=function(e){var t=(0,n.useFlagsStatus)().flagsReady,a=(0,n.useFlag)(e);return!!t&&a}},63549:(e,t,a)=>{"use strict";a.d(t,{Z:()=>g});var n=a(29439),r=a(92950),i=a.n(r),l=a(9669),s=a.n(l),o=a(45697),u=a.n(o),c=a(62012),d=a(28883),p=a(29873),m=a(35262),f=a(79161),b=a(13784),v=function(e){var t=e.ConventionalSystemsTab,a=e.ImmutableDevicesTab,l=e.tabPathname,o=e.isImmutableTabOpen,u=(0,c.useLocation)().search,v=(0,r.useRef)(""),g=(0,c.useNavigate)(),y=(0,r.useState)(!1),h=(0,n.Z)(y,2),k=h[0],O=h[1],_=(0,f.Z)("edgeParity.inventory-list");(0,r.useEffect)((function(){if(_)try{s().get("".concat(b.vo).concat(b.Ph)).then((function(e){var t,a=(null==e||null===(t=e.data)||void 0===t?void 0:t.total)>0;O(a),s().get("".concat(b.vo).concat(b.Re)).then((function(e){var t,n=(null==e||null===(t=e.data)||void 0===t?void 0:t.total)>0;a&&!n&&Z(void 0,b.sO.immutable.key)}))}))}catch(e){console.log(e)}}),[]);var S=o?b.sO.immutable.key:b.sO.conventional.key,Z=function(e,t){var a=l+b.sO[t].url+(v.current||"");t!==S&&(v.current=u.toString(),g(a,{replace:!0}))};return _&&k?i().createElement(m.m,{className:"pf-m-light pf-c-table",activeKey:S,onSelect:Z,"aria-label":"Hybrid inventory tabs",mountOnEnter:!0,unmountOnExit:!0},i().createElement(d.O,{eventKey:b.sO.conventional.key,title:i().createElement(p.T,null,"Conventional (RPM-DNF)")},t),i().createElement(d.O,{eventKey:b.sO.immutable.key,title:i().createElement(p.T,null,"Immutable (OSTree)")},a)):t};v.propTypes={ConventionalSystemsTab:u().element.isRequired,ImmutableDevicesTab:u().element.isRequired,isImmutableTabOpen:u().bool,tabPathname:u().string},v.defaultProps={tabPathname:"/insights/inventory"};const g=v},98940:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var n=a(87462),r=a(92950),i=a.n(r),l=a(63549),s=function(e,t){return i().createElement(l.Z,(0,n.Z)({},e,{innerRef:t}))};const o=i().forwardRef(s)},45467:()=>{},11452:()=>{},34946:()=>{},32857:()=>{},98379:()=>{},66822:()=>{},56024:()=>{},43390:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../../sourcemaps/exposed-./HybridInventoryTabs.371e87fcb37859f016ac8a708b0cf387.js.map