(self.webpackChunkinventory=self.webpackChunkinventory||[]).push([[8598],{68425:(e,a,t)=>{"use strict";t.d(a,{C:()=>s});var n=t(70655),r=t(92950),i=t(38296),l=t(12971);const s=e=>{var{isRead:a=!1,className:t="",children:s="",screenReaderText:o}=e,u=(0,n.__rest)(e,["isRead","className","children","screenReaderText"]);return r.createElement("span",Object.assign({},u,{className:(0,i.i)(l.Z.badge,a?l.Z.modifiers.read:l.Z.modifiers.unread,t)}),s,o&&r.createElement("span",{className:"pf-screen-reader"},o))};s.displayName="Badge"},47173:(e,a,t)=>{"use strict";t.d(a,{L$:()=>r,Wu:()=>n,zx:()=>m});var n,r,i=t(70655),l=t(92950),s=t(80480),o=t(38296),u=t(37619),c=t(62472),d=t(68425);!function(e){e.primary="primary",e.secondary="secondary",e.tertiary="tertiary",e.danger="danger",e.warning="warning",e.link="link",e.plain="plain",e.control="control"}(n||(n={})),function(e){e.button="button",e.submit="submit",e.reset="reset"}(r||(r={}));const p=e=>{var{children:a=null,className:t="",component:p="button",isActive:f=!1,isBlock:b=!1,isDisabled:v=!1,isAriaDisabled:g=!1,isLoading:y=null,isDanger:h=!1,spinnerAriaValueText:k,spinnerAriaLabelledBy:O,spinnerAriaLabel:_,isSmall:S=!1,isLarge:Z=!1,inoperableEvents:E=["onClick","onKeyPress"],isInline:F=!1,type:x=r.button,variant:A=n.primary,iconPosition:N="left","aria-label":w=null,icon:P=null,ouiaId:I,ouiaSafe:D=!0,tabIndex:$=null,innerRef:j,countOptions:R}=e,C=(0,i.__rest)(e,["children","className","component","isActive","isBlock","isDisabled","isAriaDisabled","isLoading","isDanger","spinnerAriaValueText","spinnerAriaLabelledBy","spinnerAriaLabel","isSmall","isLarge","inoperableEvents","isInline","type","variant","iconPosition","aria-label","icon","ouiaId","ouiaSafe","tabIndex","innerRef","countOptions"]);const T=(0,c.S$)(m.displayName,I,D,A),B=p,L="button"===B,G=F&&"span"===B,M=E.reduce(((e,a)=>Object.assign(Object.assign({},e),{[a]:e=>{e.preventDefault()}})),{});return l.createElement(B,Object.assign({},C,g?M:null,{"aria-disabled":v||g,"aria-label":w,className:(0,o.i)(s.Z.button,s.Z.modifiers[A],b&&s.Z.modifiers.block,v&&s.Z.modifiers.disabled,g&&s.Z.modifiers.ariaDisabled,f&&s.Z.modifiers.active,F&&A===n.link&&s.Z.modifiers.inline,h&&(A===n.secondary||A===n.link)&&s.Z.modifiers.danger,null!==y&&null!==a&&s.Z.modifiers.progress,y&&s.Z.modifiers.inProgress,S&&s.Z.modifiers.small,Z&&s.Z.modifiers.displayLg,t),disabled:L?v:null,tabIndex:null!==$?$:v?L?null:-1:g?null:G?0:void 0,type:L||G?x:null,role:G?"button":null,ref:j},T),y&&l.createElement("span",{className:(0,o.i)(s.Z.buttonProgress)},l.createElement(u.$,{size:u.S.md,isInline:F,"aria-valuetext":k,"aria-label":_,"aria-labelledby":O})),A===n.plain&&null===a&&P?P:null,A!==n.plain&&P&&"left"===N&&l.createElement("span",{className:(0,o.i)(s.Z.buttonIcon,s.Z.modifiers.start)},P),a,A!==n.plain&&P&&"right"===N&&l.createElement("span",{className:(0,o.i)(s.Z.buttonIcon,s.Z.modifiers.end)},P),R&&l.createElement("span",{className:(0,o.i)(s.Z.buttonCount,R.className)},l.createElement(d.C,{isRead:R.isRead},R.count)))},m=l.forwardRef(((e,a)=>l.createElement(p,Object.assign({innerRef:a},e))));m.displayName="Button"},37619:(e,a,t)=>{"use strict";t.d(a,{$:()=>o,S:()=>l});var n=t(70655),r=t(92950);t(66822);const i={modifiers:{inline:"pf-m-inline",sm:"pf-m-sm",md:"pf-m-md",lg:"pf-m-lg",xl:"pf-m-xl"},spinner:"pf-c-spinner",spinnerClipper:"pf-c-spinner__clipper",spinnerLeadBall:"pf-c-spinner__lead-ball",spinnerPath:"pf-c-spinner__path",spinnerTailBall:"pf-c-spinner__tail-ball"};var l,s=t(38296);!function(e){e.sm="sm",e.md="md",e.lg="lg",e.xl="xl"}(l||(l={}));const o=e=>{var{className:a="",size:t="xl","aria-valuetext":l="Loading...",isSVG:o=!1,diameter:u,isInline:c=!1,"aria-label":d,"aria-labelledBy":p}=e,m=(0,n.__rest)(e,["className","size","aria-valuetext","isSVG","diameter","isInline","aria-label","aria-labelledBy"]);const f=o?"svg":"span";return r.createElement(f,Object.assign({className:(0,s.i)(i.spinner,c?i.modifiers.inline:i.modifiers[t],a),role:"progressbar","aria-valuetext":l},o&&{viewBox:"0 0 100 100"},u&&{style:{"--pf-c-spinner--diameter":u}},d&&{"aria-label":d},p&&{"aria-labelledBy":p},!d&&!p&&{"aria-label":"Contents"},m),o?r.createElement("circle",{className:i.spinnerPath,cx:"50",cy:"50",r:"45",fill:"none"}):r.createElement(r.Fragment,null,r.createElement("span",{className:(0,s.i)(i.spinnerClipper)}),r.createElement("span",{className:(0,s.i)(i.spinnerLeadBall)}),r.createElement("span",{className:(0,s.i)(i.spinnerTailBall)})))};o.displayName="Spinner"},41724:(e,a,t)=>{"use strict";t.d(a,{w:()=>i});var n=t(92950);let r=0;class i extends n.Component{constructor(){super(...arguments),this.id=`${this.props.prefix}${r++}`}render(){return this.props.children(this.id)}}i.displayName="GenerateId",i.defaultProps={prefix:"pf-random-id-"}},62472:(e,a,t)=>{"use strict";t.d(a,{S$:()=>o,Z1:()=>u,dp:()=>s,ql:()=>c});var n=t(92950);let r=0;const i="OUIA-Generated-",l={};function s(e,a,t=!0){return{"data-ouia-component-type":`PF4/${e}`,"data-ouia-safe":t,"data-ouia-component-id":a}}const o=(e,a,t=!0,n)=>({"data-ouia-component-type":`PF4/${e}`,"data-ouia-safe":t,"data-ouia-component-id":u(e,a,n)}),u=(e,a,t)=>{const r=(0,n.useMemo)((()=>c(e,t)),[e,t]);return null!=a?a:r};function c(e,a){try{let t;return t="undefined"!=typeof window?`${window.location.href}-${e}-${a||""}`:`${e}-${a||""}`,l[t]||(l[t]=0),`${i}${e}-${a?`${a}-`:""}${++l[t]}`}catch(t){return`${i}${e}-${a?`${a}-`:""}${++r}`}}},12971:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n}),t(11452);const n={badge:"pf-c-badge",modifiers:{read:"pf-m-read",unread:"pf-m-unread"},themeDark:"pf-theme-dark"}},80480:(e,a,t)=>{"use strict";t.d(a,{Z:()=>n}),t(34946);const n={badge:"pf-c-badge",button:"pf-c-button",buttonCount:"pf-c-button__count",buttonIcon:"pf-c-button__icon",buttonProgress:"pf-c-button__progress",modifiers:{active:"pf-m-active",block:"pf-m-block",small:"pf-m-small",primary:"pf-m-primary",displayLg:"pf-m-display-lg",secondary:"pf-m-secondary",tertiary:"pf-m-tertiary",link:"pf-m-link",unread:"pf-m-unread",inline:"pf-m-inline",danger:"pf-m-danger",warning:"pf-m-warning",control:"pf-m-control",expanded:"pf-m-expanded",plain:"pf-m-plain",disabled:"pf-m-disabled",ariaDisabled:"pf-m-aria-disabled",progress:"pf-m-progress",inProgress:"pf-m-in-progress",start:"pf-m-start",end:"pf-m-end",overpassFont:"pf-m-overpass-font"},spinner:"pf-c-spinner",themeDark:"pf-theme-dark"}},13784:(e,a,t)=>{"use strict";t.d(a,{A2:()=>w,Dx:()=>D,FW:()=>I,Gw:()=>P,Gy:()=>O,Ih:()=>f,KS:()=>T,Kq:()=>y,Nu:()=>R,OG:()=>_,Ph:()=>E,Re:()=>F,SM:()=>h,SQ:()=>$,Tk:()=>j,UC:()=>u,WN:()=>x,WS:()=>v,X4:()=>k,YQ:()=>C,cE:()=>b,cQ:()=>N,cf:()=>G,e2:()=>g,h3:()=>L,jv:()=>A,m5:()=>c,p9:()=>p,qy:()=>S,sO:()=>M,ud:()=>o,vi:()=>m,vo:()=>Z,xb:()=>B,yc:()=>d});var n=t(29439),r=t(4942),i=t(92950);function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){(0,r.Z)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var o="hostname_or_id",u="textual",c="tags",d="staleness",p="registered_with",m="operating_system",f="rhc_client_id",b="system_update_method",v="last_seen",g="group_name",y="puptoo",h="rhsm-conduit",k="rhsm-system-profile-bridge",O="vulnerabilities",_="advisor",S="patch",Z="/api/inventory/v1/hosts",E="?filter[system_profile][host_type]=edge&page=1&per_page=1",F="?page=1&per_page=1";function x(e){var a=new Date;return a.setDate(a.getDate()-e),a.toISOString()}var A=[{label:"Fresh",value:"fresh"},{label:"Stale",value:"stale"},{label:"Stale warning",value:"stale_warning"},{label:"Unknown",value:"unknown"}],N=(new Date).toISOString(),w=[{value:{updatedStart:x(1),updatedEnd:N,mark:"last24"},label:"Within the last 24 hours"},{value:{updatedEnd:x(1),mark:"24more"},label:"More than 1 day ago"},{value:{updatedEnd:x(7),mark:"7more"},label:"More than 7 days ago"},{value:{updatedEnd:x(15),mark:"15more"},label:"More than 15 days ago"},{value:{updatedEnd:x(30),mark:"30more"},label:"More than 30 days ago"},{value:{mark:"custom"},label:"Custom"}],P=[{label:"insights-client",value:"puptoo",idName:"Insights id",idValue:"insights_id"},{label:"subscription-manager",value:"rhsm-conduit",idName:"Subscription manager id",idValue:"subscription_manager_id"},{label:"Satellite/Discovery",value:"yupana"},{label:"insights-client not connected",value:"!puptoo"}],I=(0,i.createContext)({}),D=[{label:"Active",value:"not_nil"},{label:"Inactive",value:"nil"}],$=[{label:"yum",value:"yum"},{label:"dnf",value:"dnf"},{label:"rpm-ostree",value:"rpm-ostree"}];function j(){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"values";return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(a,t){return s(s({},a),{},(0,r.Z)({},t.key,t[e].reduce((function(e,a){return s(s({},e),{},(0,r.Z)({},a.key,{isSelected:!0,group:a.group,item:{meta:{tag:{key:a.tagKey,value:a.value}}}}))}),{})))}),{})}var R=function(e){return e.reduce((function(e,a){var t=(0,n.Z)(a.cells,3),i=t[0],l=t[1],o=t[2];return s(s({},e),{},(0,r.Z)({},o,s(s({},e[(null==o?void 0:o.title)||o]),{},(0,r.Z)({},(null==i?void 0:i.title)||i,{isSelected:!0,group:{value:(null==o?void 0:o.title)||o,label:(null==o?void 0:o.title)||o},item:{value:(null==i?void 0:i.title)||i,meta:{tag:{key:(null==i?void 0:i.title)||i,value:(null==l?void 0:l.title)||l}}}}))))}),{})};function C(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,a){if(a.value===o)return s(s({},e),{},{textFilter:a.filter});if("tagFilters"in a)return s(s({},e),{},{tagFilters:j(a.tagFilters)});var t=["staleFilter","registeredWithFilter","osFilter","rhcdFilter","updateMethodFilter","lastSeenFilter","hostGroupFilter",""].find((function(e){return Object.keys(a).includes(e)}));return s(s({},e),t&&(0,r.Z)({},t,a[t]))}),{textFilter:"",tagFilters:{}})}var T=function(e,a){return e.payload.then((function(e){return a(),e})),e},B=function(e){return!e||0===(null==e?void 0:e.length)},L=function(e,a,t,n,r,i,l,s,o){return[!B(e)&&{staleFilter:Array.isArray(e)?e:[e]},!B(t)&&{tagFilters:Array.isArray(t)?t:[t]},!B(a)&&{registeredWithFilter:Array.isArray(a)?a:[a]},!B(n)&&{value:"hostname_or_id",filter:Array.isArray(n)?n[0]:n},(!B(e)||!B(t)||!B(n))&&B(a)&&{registeredWithFilter:[]},(!B(a)||!B(t)||!B(n))&&B(e)&&{staleFilter:[]},!B(r)&&{osFilter:Array.isArray(r)?r:[r]},!B(i)&&{rhcdFilter:Array.isArray(i)?i:[i]},!B(o)&&{lastSeenFilter:Array.isArray(o)?w.filter((function(e){return e.value.mark===o[0]}))[0].value:[o]},!B(l)&&{updateMethodFilter:Array.isArray(l)?l:[l]},!B(s)&&{hostGroupFilter:Array.isArray(s)?s:[s]}].filter(Boolean)},G=["fresh","stale","stale_warning","unknown"],M={conventional:{key:"conventional",url:""},immutable:{key:"immutable",url:"/manage-edge-inventory"}}},79161:(e,a,t)=>{"use strict";t.d(a,{Z:()=>r});var n=t(7085);const r=function(e){var a=(0,n.useFlagsStatus)().flagsReady,t=(0,n.useFlag)(e);return!!a&&t}},63549:(e,a,t)=>{"use strict";t.d(a,{Z:()=>g});var n=t(29439),r=t(92950),i=t.n(r),l=t(9669),s=t.n(l),o=t(45697),u=t.n(o),c=t(62012),d=t(28883),p=t(29873),m=t(35262),f=t(79161),b=t(13784),v=function(e){var a=e.ConventionalSystemsTab,t=e.ImmutableDevicesTab,l=e.tabPathname,o=e.isImmutableTabOpen,u=(0,c.useLocation)().search,v=(0,r.useRef)(""),g=(0,c.useNavigate)(),y=(0,r.useState)(!1),h=(0,n.Z)(y,2),k=h[0],O=h[1],_=(0,f.Z)("edgeParity.inventory-list");(0,r.useEffect)((function(){if(_)try{s().get("".concat(b.vo).concat(b.Ph)).then((function(e){var a,t=(null==e||null===(a=e.data)||void 0===a?void 0:a.total)>0;O(t),s().get("".concat(b.vo).concat(b.Re)).then((function(e){var a,n=(null==e||null===(a=e.data)||void 0===a?void 0:a.total)>0;t&&!n&&Z(void 0,b.sO.immutable.key)}))}))}catch(e){console.log(e)}}),[_]);var S=o?b.sO.immutable.key:b.sO.conventional.key,Z=function(e,a){var t=l+b.sO[a].url+(v.current||"");a!==S&&(v.current=u.toString(),g(t,{replace:!0}))};return _&&k?i().createElement(m.m,{className:"pf-m-light pf-c-table",activeKey:S,onSelect:Z,"aria-label":"Hybrid inventory tabs",mountOnEnter:!0,unmountOnExit:!0},i().createElement(d.O,{"aria-label":"Conventional tab",eventKey:b.sO.conventional.key,title:i().createElement(p.T,null,"Conventional (RPM-DNF)")},a),i().createElement(d.O,{"aria-label":"Immutable tab",eventKey:b.sO.immutable.key,title:i().createElement(p.T,null,"Immutable (OSTree)")},t)):a};v.propTypes={ConventionalSystemsTab:u().element.isRequired,ImmutableDevicesTab:u().element.isRequired,isImmutableTabOpen:u().bool,tabPathname:u().string},v.defaultProps={tabPathname:"/insights/inventory"};const g=v},98940:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>o});var n=t(87462),r=t(92950),i=t.n(r),l=t(63549),s=function(e,a){return i().createElement(l.Z,(0,n.Z)({},e,{innerRef:a}))};const o=i().forwardRef(s)},45467:()=>{},11452:()=>{},34946:()=>{},32857:()=>{},98379:()=>{},66822:()=>{},56024:()=>{},43390:()=>{},49854:()=>{}}]);
//# sourceMappingURL=../../sourcemaps/exposed-./HybridInventoryTabs.ef345a3065804ff2d67c5ec43d08cd2f.js.map