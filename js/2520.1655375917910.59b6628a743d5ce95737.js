(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[2520],{39903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(92950),a=n.n(r),o=n(45697),l=n.n(o),i=n(66435),c=n(80236),u=n(79851),s=n(34512),d=n(49739),v=n(83826),f=n(48140),g=n(86050),p=n(47173),y=n(19694),m=function(e){var t,n=e.handleModalToggle,r=e.isModalOpen,o=e.currentSytems,l=e.onConfirm,m="system";return Array.isArray(o)?(t=1===o.length?o[0].display_name:"".concat(o.length," systems"),m=1===o.length?m:"systems"):t=o.display_name,a().createElement(c.u,{variant:"small",title:"Remove from inventory",className:"ins-c-inventory__table--remove",ouiaId:"inventory-delete-modal",isOpen:r,onClose:function(){return n(!1)},appendTo:document.getElementsByClassName("inventory")[0]||document.body},a().createElement(u.P,{hasGutter:!0},a().createElement(s.J,null,a().createElement(y.ZP,{size:"xl",className:"ins-m-alert"})),a().createElement(s.J,{isFilled:!0},a().createElement(d.K,{hasGutter:!0},a().createElement(v.v,null,t," will be removed from all ",location.host," applications and services. You need to re-register the ",m," to add it back to your inventory."),a().createElement(v.v,null,"To disable the daily upload for this ",m,", use the following command:"),a().createElement(v.v,null,a().createElement(i.M5,null,"insights-client --unregister"))))),a().createElement(f.a,{hasGutter:!0},a().createElement(g.Z,null,a().createElement(p.zx,{variant:"danger",ouiaId:"confirm-inventory-delete",onClick:l},"Remove"),a().createElement(p.zx,{variant:"link",ouiaId:"cancel-inventory-delete",onClick:function(){return n(!1)}},"Cancel"))))},h=l().shape({id:l().string,displayName:l().string});m.propTypes={isModalOpen:l().bool,currentSytems:l().oneOfType([h,l().arrayOf(h)]),handleModalToggle:l().func,onConfirm:l().func},m.defaultProps={isModalOpen:!1,currentSytems:{},handleModalToggle:function(){},onConfirm:function(){}};const b=m},68595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(92950),a=n.n(r),o=n(45697),l=n.n(o),i=n(32384),c=n(19281),u=n(94778),s=function(e){var t=e.count,n=e.loadTags,r=e.systemId;return a().createElement("span",{onClick:function(e){return e.stopPropagation()},className:"ins-c-inventory__list-tags","data-ouia-component-id":"".concat(r,"-tag-button")},a().createElement(c.Z,{count:t,onTagClick:function(){return n(r,t)}}))};s.propTypes={count:l().number,loadTags:l().func,systemId:l().string};const d=(0,i.connect)((function(){return{}}),(function(e){return{loadTags:function(t,n){t&&(e((0,u.Ar)(!0)),e((0,u.me)(t,void 0,void 0,n)))}}}))(s)},454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(87462),a=n(45987),o=n(92950),l=n.n(o),i=n(45697),c=n.n(i),u=n(43707),s=n(2372),d=["cmp","hideLoader","isRbacEnabled","inventoryRef","store"],v=function(e){var t=e.cmp,n=e.hideLoader,o=e.isRbacEnabled,i=e.inventoryRef,c=e.store,v=(0,a.Z)(e,d),f=(0,u.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0),g=f.hasAccess;return f.isLoading&&!n?l().createElement(s.$,null):l().createElement(t,(0,r.Z)({},v,i&&{ref:i},{hasAccess:!o||g,store:c}))};v.propTypes={cmp:c().any,inventoryRef:c().any,store:c().object,customRender:c().bool,isRbacEnabled:c().bool,hideLoader:c().bool};const f=v},73880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteModal:()=>j.Z,InventoryContext:()=>k.FW,OS_CHIP:()=>k.vi,REGISTERED_CHIP:()=>k.p9,RenderWrapper:()=>S.Z,STALE_CHIP:()=>k.yc,TAG_CHIP:()=>k.m5,TEXTUAL_CHIP:()=>k.UC,TEXT_FILTER:()=>k.ud,TagWithDialog:()=>r.Z,TagsModal:()=>P,arrayToSelection:()=>k.Nu,defaultFilters:()=>k.js,filterToGroup:()=>k.Tk,generateFilter:()=>k.h3,isEmpty:()=>k.xb,loadSystems:()=>k.K$,operatingSystems:()=>k.wQ,reduceFilters:()=>k.YQ,registered:()=>k.Gw,reloadWrapper:()=>k.KS,staleness:()=>k.jv});var r=n(68595),a=n(87462),o=n(4942),l=n(93433),i=n(29439),c=n(92950),u=n.n(c),s=n(32384),d=n(45697),v=n.n(d),f=n(94778),g=n(98944),p=n(57971),y=n(23279),m=n.n(y),h=n(85564),b=n.n(h);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.customFilters,n=e.filterTagsBy,r=e.onToggleModal,o=e.onApply,d=e.getTags,v=(0,s.useDispatch)(),y=(0,c.useState)(""),h=(0,i.Z)(y,2),T=h[0],O=h[1],P=(0,c.useState)([]),S=(0,i.Z)(P,2),j=S[0],k=S[1],C=(0,c.useState)({perPage:10,page:1}),w=(0,i.Z)(C,2),Z=w[0],D=w[1],A=(0,s.useSelector)((function(e){var t,n=e.entities,r=e.entityDetails;return null===(t=n||r)||void 0===t?void 0:t.showTagDialog})),_=(0,s.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return null!=t&&t.activeSystemTag||null!=n&&n.entity?Z:(null==t?void 0:t.allTagsPagination)||Z}),s.shallowEqual),L=(0,s.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.tagModalLoaded)||(null==n?void 0:n.tagModalLoaded)})),M=(0,s.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.activeSystemTag)||(null==n?void 0:n.entity)})),F=(0,s.useSelector)((function(e){var t,n,r,a=e.entities,o=e.entityDetails,i=(null==a||null===(t=a.activeSystemTag)||void 0===t?void 0:t.tags)||(null==o||null===(n=o.entity)||void 0===n?void 0:n.tags);return i?null==i?void 0:i.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(T)}))})).slice((null==Z?void 0:Z.perPage)*((null==Z?void 0:Z.page)-1),(null==Z?void 0:Z.perPage)*(null==Z?void 0:Z.page)):null==a||null===(r=a.allTags)||void 0===r?void 0:r.reduce((function(e,t){var n=t.tags;return[].concat((0,l.Z)(e),(0,l.Z)(b()(n.map((function(e){return e.tag})))))}),[])})),I=(0,s.useSelector)((function(e){var t,n=e.entities,r=e.entityDetails;return null===(t=n||r)||void 0===t?void 0:t.activeFilters})),N=(0,s.useSelector)((function(e){var t,n,r,a=e.entities,o=e.entityDetails,l=null===(t=(null==a||null===(n=a.activeSystemTag)||void 0===n?void 0:n.tags)||(null==o||null===(r=o.entity)||void 0===r?void 0:r.tags))||void 0===t?void 0:t.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(T)}))}));return l?l.length:null==a?void 0:a.allTagsTotal}));(0,c.useEffect)((function(){O(n)}),[n]);var R=function(e,n){M?D((function(){return e})):v((0,f.C8)(n,E(E({},t),{},{pagination:e,filters:I}),d))},x=(0,c.useCallback)(m()(R,800),[M]);return u().createElement(g.Z,(0,a.Z)({className:"ins-c-inventory__tags-modal",tableProps:{canSelectAll:!1}},L&&{loaded:L,pagination:E(E({},_),{},{count:N}),rows:(null==F?void 0:F.map((function(e){var t=e.key,n=e.value,r=e.namespace;return{id:"".concat(r,"/").concat(t,"=").concat(n),selected:j.find((function(e){return e.id==="".concat(r,"/").concat(t,"=").concat(n)})),cells:[t,n,r]}})))||[]},{loaded:L,width:"auto",isOpen:A,toggleModal:function(){k([]),O(""),r(),v((0,f.Ar)(!1))},filters:[{label:"Tags filter",placeholder:"Filter tags",value:"tags-filter",filterValues:{value:T,onChange:function(e,t){x(_,t),O(t)}}}],onUpdateData:function(e){return R(e,T)},columns:[{title:"Name"},{title:"Value",transforms:[(0,p.cellWidth)(30)]},{title:"Tag source",transforms:[(0,p.cellWidth)(30)]}]},!M&&{onSelect:function(e){return k(e)},selected:j,onApply:function(){return o&&o(j)}},{bulkSelect:{id:"bulk-select-tags"},title:M?"".concat(M.display_name," (").concat(N,")"):"All tags in inventory (".concat(N,")")}))};O.propTypes={onApply:v().func,onToggleModal:v().func,filterTagsBy:v().string,customFilters:v().shape({tags:v().oneOfType([v().object,v().arrayOf(v().string)])}),getTags:v().func},O.defaultProps={filterTagsBy:"",onToggleModal:function(){}};const P=O;var S=n(454),j=n(39903),k=n(13784)},40409:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(92950),a=n.n(r),o=n(45697),l=n.n(o),i=n(49739),c=n(83826),u=n(68774),s=n(68340),d=n(25834),v=n(78140),f=n(35664),g=function(e,t,n){return(e||0===e)&&t?1===e?"1 ".concat(t):"".concat(e," ").concat(n||"".concat(t,"s")):0===e?"None":e||"Not available"},p=function(e){var t=e.item,n=t.onClick,r=t.value,o=t.target,l=t.plural,i=t.singular;return a().createElement("a",{onClick:function(e){e.preventDefault(),n(e,{value:r,target:o})},href:"".concat(window.location.href,"/").concat(o)},g(r,i,l))};p.propTypes={item:l().shape({value:l().node,target:l().string,onClick:l().func,plural:l().string,singular:l().string})},p.defaultProps={item:{}};var y=function(e){var t=e.title,n=e.isLoading,o=e.items,l=e.children;return a().createElement(i.K,{hasGutter:!0},a().createElement(c.v,null,a().createElement(u.D,null,a().createElement(s.x,{component:s.q.h1},t))),a().createElement(c.v,{isFilled:!0},o.length?a().createElement(u.D,null,a().createElement(d.G,{component:d.F.dl},o.map((function(e,t){return a().createElement(r.Fragment,{key:t},a().createElement(v.T,{component:v.v.dt},e.title),a().createElement(v.T,{component:v.v.dd},n&&a().createElement(f.Z,{size:e.size||f.i.sm}),!n&&(e.onClick&&e.value?a().createElement(p,{item:e}):g(e.value,e.singular,e.plural))))})))):null,l))};y.propTypes={title:l().node.isRequired,isLoading:l().bool,items:l().arrayOf(l().shape({title:l().node,value:l().node,onClick:l().func,size:l().oneOf(Object.values(f.i)),plural:l().string,singular:l().string})),children:l().node},y.defaultProps={isLoading:!0,items:[]};const m=y},58061:(e,t,n)=>{"use strict";n.d(t,{Pv:()=>v,Ew:()=>f,J_:()=>g,ey:()=>p,FX:()=>y,Jr:()=>m,x7:()=>h});var r=n(71002),a=n(45987),o=n(4942),l=n(29439),i=n(45697),c=n.n(i);function u(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==(0,r.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=t.split("/"),r=(0,l.Z)(n,2),a=r[0],o=r[1];o||(o=a,a=null);var i=o.split("="),c=(0,l.Z)(i,2),u=c[0],s=c[1],d=void 0===s?null:s,v=e.findIndex((function(e){return e.category===a})),f=e[v]||{category:a,key:a,type:"tags",values:[]};return f.values.push({name:"".concat(u).concat(d?"=".concat(d):""),key:"".concat(u).concat(d?"=".concat(d):""),tagKey:u,value:d,group:{label:a,value:a,type:"checkbox"}}),e[v]||e.push(f),e},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.slice((t.page-1)*t.perPage,t.page*t.perPage)},g=function(e){return!(isNaN(e)&&isNaN(Date.parse(e)))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.filter((function(e){return 0===Object.values(t).length||Object.values(t).every((function(t){var n=e[t.key]&&(e[t.key].sortValue||e[t.key]);return n&&(Array.isArray(t.value)?t.value.includes(n):-1!==n.toLocaleLowerCase().indexOf(t.value.toLocaleLowerCase()))}))}))},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){};return t.map((function(t,a){var o=t.index||a,l=e[o]&&(e[o].title||e[o]);return{value:String(o),label:l,type:t.type||"text",filterValues:d({id:t.id||"".concat(l,"-").concat(o),onChange:function(e,t){return r(o,t,l)},value:n[o]&&n[o].value},t.options&&{items:t.options})}}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)return{};var r=e.key,l=n[r],i=(0,a.Z)(n,[r].map(u)),c=l&&Array.isArray(l.value)&&l.value.filter((function(t){return!e.chips.find((function(e){return e.name===t}))})),s=l&&Array.isArray(l.value)&&c&&c.length>0?(0,o.Z)({},e.key,d(d({},l),{},{value:c})):{};return d(d({},i),s)},h=c().shape({title:c().node,value:c().node,singular:c().node,plural:c().node,onClick:c().func})},45467:()=>{},70347:()=>{},34946:()=>{},37625:()=>{},10108:()=>{},90479:()=>{},25238:()=>{},49854:()=>{},74181:()=>{},16166:()=>{},53519:()=>{},11177:()=>{}}]);
//# sourceMappingURL=../sourcemaps/2520.ed6281f5aea0d2828e13ae5a2b75117b.js.map