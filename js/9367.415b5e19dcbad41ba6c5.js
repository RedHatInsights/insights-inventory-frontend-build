(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[9367],{36621:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(70655),a=n(92950),o=n(49945),i=n(38296);const l=e=>{var{children:t,className:n,component:l="div",id:c,isLiveRegion:s=!1}=e,u=(0,r.__rest)(e,["children","className","component","id","isLiveRegion"]);const d=l;return a.createElement(d,Object.assign({id:c,className:(0,i.i)(o.Z.helperText,n)},s&&{"aria-live":"polite"},u),t)};l.displayName="HelperText"},65673:(e,t,n)=>{"use strict";n.d(t,{u:()=>p});var r=n(70655),a=n(92950),o=n(49945),i=n(38296),l=n(80965),c=n(69957),s=n(68778),u=n(43047);const d={default:"",indeterminate:o.Z.modifiers.indeterminate,warning:o.Z.modifiers.warning,success:o.Z.modifiers.success,error:o.Z.modifiers.error},p=e=>{var{children:t,className:n,component:p="div",variant:f="default",icon:v,isDynamic:m=!1,hasIcon:g=m,id:y,screenReaderText:h=`${f} status`}=e,b=(0,r.__rest)(e,["children","className","component","variant","icon","isDynamic","hasIcon","id","screenReaderText"]);const O=p;return a.createElement(O,Object.assign({className:(0,i.i)(o.Z.helperTextItem,d[f],m&&o.Z.modifiers.dynamic,n),id:y},b),v&&a.createElement("span",{className:(0,i.i)(o.Z.helperTextItemIcon),"aria-hidden":!0},v),g&&!v&&a.createElement("span",{className:(0,i.i)(o.Z.helperTextItemIcon),"aria-hidden":!0},("default"===f||"indeterminate"===f)&&a.createElement(l.ZP,null),"warning"===f&&a.createElement(c.ZP,null),"success"===f&&a.createElement(s.ZP,null),"error"===f&&a.createElement(u.ZP,null)),a.createElement("span",{className:(0,i.i)(o.Z.helperTextItemText)},t,m&&a.createElement("span",{className:"pf-u-screen-reader"},": ",h,";")))};p.displayName="HelperTextItem"},80965:(e,t,n)=>{"use strict";n.d(t,{V_:()=>o,ZP:()=>i,jm:()=>a});var r=n(40400);const a={name:"MinusIcon",height:512,width:448,svgPath:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",yOffset:0,xOffset:0},o=(0,r.IU)(a),i=o},49945:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r}),n(71338);const r={helperText:"pf-c-helper-text",helperTextItem:"pf-c-helper-text__item",helperTextItemIcon:"pf-c-helper-text__item-icon",helperTextItemText:"pf-c-helper-text__item-text",modifiers:{indeterminate:"pf-m-indeterminate",warning:"pf-m-warning",success:"pf-m-success",error:"pf-m-error",dynamic:"pf-m-dynamic"},themeDark:"pf-theme-dark"}},1284:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},r.apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toUpperCase=t.generateFilter=t.getBaseName=t.processDate=t.downloadFile=t.mergeArraysByKey=t.JSON_TYPE=t.CSV_TYPE=void 0;var i=o(n(82492)),l=o(n(67523));t.CSV_TYPE="text/csv;charset=utf-8;",t.JSON_TYPE="data:text/json;charset=utf-8,";var c=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];t.mergeArraysByKey=function(e,t){void 0===t&&(t="id");var n=i.default.apply(void 0,e.map((function(e){return(0,l.default)(e,(function(e){return e&&e[t]}))})));return Object.values(n)},t.downloadFile=function(e,n,r){void 0===n&&(n="".concat((new Date).toISOString())),void 0===r&&(r=t.CSV_TYPE);var a="json"===r?t.JSON_TYPE:t.CSV_TYPE,o=new Blob([e],{type:a}),i=document.createElement("a");i.setAttribute("href",URL.createObjectURL(o)),i.setAttribute("download","".concat(n,".").concat(r)),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},t.processDate=function(e){var t=new Date(e),n=c[t.getMonth()],r=t.getDate()<10?"0".concat(t.getDate()):t.getDate();return!n||isNaN(r)?"N/A":"".concat(r," ").concat(n," ").concat(t.getFullYear())},t.getBaseName=function(e,t){void 0===t&&(t=2);var n="/",r=e.replace(/(#|\?).*/,"").split("/");return r.shift(),"beta"===r[0]&&(r.shift(),n="/beta/"),a([],new Array(t),!0).reduce((function(e,n,a){return"".concat(e).concat(r[a]||"").concat(a<t-1?"/":"")}),n)},t.generateFilter=function(e,n,a){return void 0===n&&(n="filter"),Object.entries(e||{}).reduce((function(e,o){var i,l=o[0],c=o[1],s="".concat(n||"","[").concat(l,"]").concat(Array.isArray(c)?"".concat((null==a?void 0:a.arrayEnhancer)?"[".concat(a.arrayEnhancer,"]"):"","[]"):"");return c instanceof Function||c instanceof Date?e:r(r({},e),Array.isArray(c)||"object"!=typeof c?((i={})[s]=c,i):(0,t.generateFilter)(c,s,a))}),{})},t.toUpperCase=function(e){return void 0===e&&(e=""),"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))}},81945:(e,t,n)=>{"use strict";n.d(t,{Nc:()=>s,f1:()=>u});var r=n(85893),a=n(92950),o=n.n(a),i=n(48542),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))};function s(e,t){return void 0===t&&(t="values"),Object.entries(e||{}).reduce((function(e,n){var r,a,o,i,s,u=n[0],d=function(e,t){return Object.entries(e||{}).reduce((function(e,n){var r,a=n[0],o=n[1],i=o.isSelected,s=o.group,u=o.value,d=o.item;if(i){var p=(null===(r=null==d?void 0:d.meta)||void 0===r?void 0:r.tag)||{key:(null==d?void 0:d.tagKey)||t,value:u||(null==d?void 0:d.tagValue)},f=p.key,v=p.value;return c(c([],e,!0),[{key:a,tagKey:f,value:v,name:"".concat(f).concat(v?"=".concat(v):""),group:l({value:t},s)}],!1)}return e}),[])}(n[1],u);return d.length>0?c(c([],e,!0),[(r={type:"tags",key:u,category:(null===(o=null===(a=d[0])||void 0===a?void 0:a.group)||void 0===o?void 0:o.value)||(null===(s=null===(i=d[0])||void 0===i?void 0:i.group)||void 0===s?void 0:s.label)},r[t]=d,r)],!1):e}),[])}function u(e,t){return void 0===t&&(t="item"),e.map((function(e){var n=e.name,a=e.tags,c=e.type,s=void 0===c?"checkbox":c,u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["name","tags","type"]);return l(l({},u),{label:n,value:n,type:s,items:a.map((function(e){var n=e.count,a=e.tag,c=a.key,s=a.value,u="".concat(c).concat(s?"=".concat(s):"");return{className:"ins-c-tagfilter__option",label:(0,r.jsxs)(o().Fragment,{children:[(0,r.jsx)(i.Tooltip,l({content:u},{children:(0,r.jsx)("div",l({className:"ins-c-tagfilter__option-value"},{children:u}))})),void 0!==n&&(0,r.jsx)(i.Tooltip,l({position:"right",enableFlip:!0,content:"Applicable to ".concat(n," ").concat(t).concat(1===n?"":"s",".")},{children:(0,r.jsx)(i.Badge,l({isRead:n<=0},{children:n}))}))]}),meta:{count:n,tag:{key:c,value:s}},id:"".concat(c,"-").concat(s),tagKey:c,value:u,tagValue:s}}))})}))}},3474:(e,t,n)=>{"use strict";n.d(t,{sr:()=>d,Yn:()=>s,YM:()=>p});var r=n(85893),a=n(92950),o=n(81945),i=n(48542),l=function(){return l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},l.apply(this,arguments)},c=function(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))},s={tagsFilter:{}},u="TAGS_FILTER",d=function(e,t){var n=t.type,r=t.payload;return l({},n===u&&{tagsFilter:r})},p=function(e,t,n,d,p,f,v){void 0===e&&(e=[]),void 0===t&&(t=!1),void 0===n&&(n=0);var m=void 0===p?[s]:p,g=m[0],y=m[1];void 0===f&&(f="item");var h=(0,a.useState)({allTags:[],loaded:!1,additionalTagsCount:0}),b=h[0],O=h[1];(0,a.useEffect)((function(){O((function(){return{allTags:e,loaded:t,additionalTagsCount:n}}))}),[t]);var S=(0,a.useState)({}),E=S[0],_=S[1],j=y?g.tagsFilter:E,T=y?function(e){return y({type:u,payload:e})}:_,x=(0,a.useState)(""),N=x[0],F=x[1],w=l(l({className:"ins-c-tagfilter",onFilter:function(e){return F(e)},filterBy:N,onChange:function(e,t,n,r,a,o){if(r.meta){var i=!!t[a][o];t[a][o]={isSelected:i,group:n,item:r},T(t)}},selected:j},n&&{onShowMore:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return d&&d.apply(void 0,e)},showMoreTitle:v||"".concat(b.additionalTagsCount," more tags available")}),t&&e.length>0?{groups:c([],(0,o.f1)(e,f),!0)}:{value:"",items:[{value:"",label:b.loaded?(0,r.jsx)("div",l({className:"ins-c-tagfilter__no-tags"},{children:" No tags available "})):(0,r.jsxs)("span",{children:[" ",(0,r.jsx)(i.Spinner,{size:"md"})," "]},"no-tags-tooltip"),isDisabled:!0,className:"ins-c-tagfilter__tail"}]});return{filter:w,chips:(0,o.Nc)(j,"chips"),selectedTags:j,setValue:T,filterTagsBy:N,seFilterTagsBy:F}}},85333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(85893),a=n(92950),o=n.n(a),i=n(48542),l=n(56989),c=function(){return c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},c.apply(this,arguments)},s=function(){return(0,r.jsxs)(o().Fragment,{children:["Contact your organization administrator(s) for more information or visit ",(0,r.jsx)("a",c({href:"./settings/my-user-access"},{children:"My User Access"})),"  to learn more about your permissions."]})};const u=function(e){var t=e.prevPageButtonText,n=void 0===t?"Return to previous page":t,a=e.toLandingPageText,o=void 0===a?"Go to landing page":a,u=e.title,d=e.actions,p=void 0===d?null:d,f=e.serviceName,v=e.icon,m=void 0===v?l.LockIcon:v,g=e.description,y=void 0===g?(0,r.jsx)(s,{}):g,h=e.showReturnButton,b=void 0===h||h,O=e.className,S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prevPageButtonText","toLandingPageText","title","actions","serviceName","icon","description","showReturnButton","className"]),E=u||"You do not have access to ".concat(f);return(0,r.jsxs)(i.EmptyState,c({variant:i.EmptyStateVariant.full,className:"ins-c-not-authorized ".concat(O||"")},S,{children:[(0,r.jsx)(i.EmptyStateIcon,{icon:m}),(0,r.jsx)(i.Title,c({headingLevel:"h5",size:"lg"},{children:E})),(0,r.jsx)(i.EmptyStateBody,{children:y}),p,b&&(document.referrer?(0,r.jsx)(i.Button,c({variant:"primary",onClick:function(){return history.back()}},{children:n})):(0,r.jsx)(i.Button,c({variant:"primary",component:"a",href:"."},{children:o})))]}))}},48524:(e,t,n)=>{"use strict";n.d(t,{e:()=>r.Z});var r=n(20565)},17499:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TextInputModal:()=>i.Z,default:()=>l});var r=n(92950),a=n.n(r),o=n(43107),i=n(95364);const l=function(e){return a().createElement(o.default,e)}},93633:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculatePagination:()=>ee,default:()=>ne});var r=n(87462),a=n(93433),o=n(4942),i=n(29439),l=n(92950),c=n.n(l),s=n(45697),u=n.n(s),d=n(50533),p=n(75662),f=n(89376),v=n(39173),m=n(85893),g=n(94184),y=n.n(g),h=function(){return h=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},h.apply(this,arguments)};const b=function(e){var t=e.children,n=e.className,r=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["children","className"]);return(0,l.useEffect)((function(){console.error('Using deprecated "Main" component. Do not use it. Either remove it from your JSX or replace it by "section" HTML element.')}),[]),(0,m.jsx)("section",h({},r,{className:"".concat(y()(n,"pf-l-page__main-section pf-c-page__main-section"))},{children:t}))};var O=n(3672),S=n(50693),E=n(16475),_=n(83215),j=n(39903),T=n(17499),x=n(94654),N=n.n(x),F=n(13784),w=n(48524),P=n(55140),A=n(90218),I=n(63441),Z=n(81005),D=n(47173),M=n(68340),k=function(e){var t=e.closeModal;return c().createElement(c().Fragment,null,c().createElement(M.x,null,"Or"),c().createElement(D.zx,{variant:"secondary",className:"pf-u-w-50",onClick:t},"Create a new group"))};k.propTypes={closeModal:u().func};var C=n(36621),R=n(65673),L=n(54680),B=n(92694),H=n(48880);const U=function(){var e=(0,H.default)().change,t=(0,l.useState)(!0),n=(0,i.Z)(t,2),a=n[0],o=n[1],s=(0,d.useSelector)((function(e){var t,n=e.groups;return null==n||null===(t=n.data)||void 0===t?void 0:t.results})),u=(0,l.useState)([]),p=(0,i.Z)(u,2),f=p[0],v=p[1];(0,l.useEffect)((function(){v((s||[]).reduce((function(e,t){return e.push({DeviceGroup:{ID:t.id,Name:t.name,UpdatedAt:t.updated_at,CreatedAt:t.created_at}}),e}),[])),o(!1)}),[s]);var m=(0,l.useState)(!1),g=(0,i.Z)(m,2),y=g[0],h=g[1],b=(0,l.useState)(null),O=(0,i.Z)(b,2),S=O[0],E=O[1],_=(0,l.useState)(""),j=(0,i.Z)(_,2),T=j[0],x=j[1],N=function(t){E(t),h(!1),e("group",t)},F=function(){x(""),N(null),h(!1)};return c().createElement(c().Fragment,null,c().createElement(C.p,null,!a&&!S&&y&&f.length?c().createElement(R.u,{variant:"warning",className:"pf-u-font-weight-bold"},"Over ",f.length," results found. Refine your search."):c().createElement(R.u,{className:"pf-u-font-weight-bold"},"Select a group")),c().createElement(L.P,{variant:"typeahead",typeAheadAriaLabel:"Select a group",onToggle:function(e){h(e)},onSelect:function(e,t,n){n?F():N(t)},onClear:F,selections:S||T,isOpen:y,"aria-labelledby":"typeahead-select-id-1",placeholderText:"Type or click to select a group",isInputValuePersisted:!0,maxHeight:"180px"},0===f.length?[]:f.map((function(e){var t=e.DeviceGroup;return c().createElement(B.$,(0,r.Z)({key:t.ID,value:{toString:function(){return t.Name},groupId:t.ID}},t.description&&{description:t.description}))}))))};var V=n(8622),Y=n(33261),G=n(45250),J=function(e){var t=e.isModalOpen,n=e.setIsModalOpen,r=e.modalState,a=e.reloadData,o=(0,d.useDispatch)();(0,l.useEffect)((function(){o((0,V.bt)())}),[]);var s=(0,l.useState)(!1),u=(0,i.Z)(s,2),p=u[0],f=u[1];return c().createElement(c().Fragment,null,c().createElement(A.Z,{isModalOpen:t,closeModal:function(){return n(!1)},title:"Add to group",submitLabel:"Add",schema:(0,Y.q)(r.name),additionalMappers:{"search-input":{component:U},"create-group-btn":{component:k,closeModal:function(){f(!0),n(!1)}}},initialValues:r,onSubmit:function(e){var t=e.group,n={onSuccess:{title:"Success",description:"System(s) have been added to ".concat(t.toString()," successfully")},onError:{title:"Error",description:"Failed to add ".concat(r.name," to ").concat(r.groupName)}};(0,Z.Z)(o,(function(){return(0,I.NH)(t.groupId,r.id)}),n)},reloadData:a}),p&&c().createElement(G.Z,{isModalOpen:p,setIsModalOpen:f,reloadData:function(){return console.log("data reloaded")}}))};J.propTypes={modalState:u().shape({id:u().string,name:u().string,groupName:u().string}),isModalOpen:u().bool,setIsModalOpen:u().func,reloadData:u().func,setIsCreateGroupModalOpen:u().func,deviceIds:u().array};const z=J;var K=n(79161);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every((function(e){var n=e.id;return t&&t.has(n)}))?e.length>0:e.some((function(e){var n=e.id;return t&&t.has(n)}))&&null},Q=function(e){var t=e.category;return e.values.map((function(e){var n=e.tagKey,r=e.value;return"".concat(t?"".concat(t,"/"):"").concat(n).concat(r?"=".concat(r):"")}))},X={staleFilter:function(e,t){return e.staleFilter.forEach((function(e){return t.append("status",e)}))},osFilter:function(e,t){var n=e.osFilter;return null==n?void 0:n.forEach((function(e){return t.append("operating_system",e)}))},registeredWithFilter:function(e,t){var n=e.registeredWithFilter;return null==n?void 0:n.forEach((function(e){return t.append("source",e)}))},value:function(e,t){var n=e.value,r=e.filter;return"hostname_or_id"===n&&Boolean(r)&&t.append("hostname_or_id",r)},tagFilters:function(e,t){var n=e.tagFilters;return(null==n?void 0:n.length)>0&&t.append("tags",N()(n,Q))},rhcdFilter:function(e,t){var n=e.rhcdFilter;return null==n?void 0:n.forEach((function(e){return t.append(F.Ih,e)}))},lastSeenFilter:function(e,t){var n,r=e.lastSeenFilter;return null===(n=Object.keys(r||{}))||void 0===n?void 0:n.forEach((function(e){return"mark"===e&&t.append("last_seen",r[e])}))},updateMethodFilter:function(e,t){var n=e.updateMethodFilter;return null==n?void 0:n.forEach((function(e){return t.append(F.cE,e)}))},groupHostFilter:function(e,t){var n=e.groupHostFilter;return null==n?void 0:n.forEach((function(e){return t.append("host_group",e)}))}},ee=function(e,t,n){var r=new URLSearchParams(location.search),a=void 0!==t?t:r.get("page"),o=void 0!==n?n:r.get("per_page");!isNaN(parseInt(a))&&e.append("page",a),!isNaN(parseInt(o))&&e.append("per_page",o)},te=function(e){var t=e.status,n=e.source,o=e.filterbyName,s=e.tagsFilter,u=e.operatingSystem,m=e.rhcdFilter,g=e.updateMethodFilter,y=e.lastSeenFilter,h=e.page,x=e.perPage,N=e.initialLoading,A=e.hasAccess,I=e.groupHostsFilter,Z=(0,p.useHistory)(),D=(0,P.Z)(),M=(0,l.useRef)(null),k=(0,l.useState)(!1),C=(0,i.Z)(k,2),R=C[0],L=C[1],B=(0,l.useState)({}),H=(0,i.Z)(B,2),U=H[0],V=H[1],Y=(0,l.useState)((0,F.h3)(t,n,s,o,u,m,g,I,y)),G=(0,i.Z)(Y,2),J=G[0],q=G[1],Q=(0,l.useState)(!1),te=(0,i.Z)(Q,2),ne=te[0],re=te[1],ae=(0,l.useState)(!1),oe=(0,i.Z)(ae,2),ie=oe[0],le=oe[1],ce=(0,l.useState)(),se=(0,i.Z)(ce,2),ue=se[0],de=se[1],pe=(0,F.Mo)(),fe=(0,d.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.rows}),d.shallowEqual),ve=(0,d.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.loaded})),me=(0,d.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.selected})),ge=(0,d.useDispatch)(),ye=(0,K.Z)("hbi.ui.inventory-groups"),he=function(e,t){return ge(O.CL(e,t))},be=function(e,t){q(null==e?void 0:e.filters);var n=new URLSearchParams;!function(e){(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){Object.keys(t).forEach((function(n){var r;null==X||null===(r=X[n])||void 0===r||r.call(X,t,e)}))}))}(n,null==e?void 0:e.filters),ee(n,null==e?void 0:e.page,null==e?void 0:e.per_page);var r=n.toString();Z.push({search:r,hash:location.hash}),t&&t(e)};(0,l.useEffect)((function(){var e;D.updateDocumentTitle("Inventory | Red Hat Insights"),null==D||null===(e=D.hideGlobalFilter)||void 0===e||e.call(D,!1),D.appAction("system-list"),D.appObjectId(),D.on("GLOBAL_FILTER_UPDATE",(function(e){var t,n,r,a,o,l=e.data,c=null==D||null===(t=D.mapGlobalFilter)||void 0===t?void 0:t.call(D,l,!1,!0),s=(0,i.Z)(c,3),u=s[0],d=s[1],p=s[2];de({tags:p,filter:$($({},null==ue?void 0:ue.filter),{},{system_profile:$($($($($({},null==ue||null===(n=ue.filter)||void 0===n?void 0:n.system_profile),(null==u||null===(r=u.SAP)||void 0===r?void 0:r.isSelected)&&{sap_system:!0}),u&&(null===(a=u["Ansible Automation Platform"])||void 0===a?void 0:a.isSelected)&&{ansible:"not_nil"}),(null==u||null===(o=u["Microsoft SQL"])||void 0===o?void 0:o.isSelected)&&{mssql:"not_nil"}),(null==d?void 0:d.length)>0&&{sap_sids:d})})})})),ge(O.L1()),(x||h)&&ge(O.Jr(Array.isArray(h)?h[0]:h,Array.isArray(x)?x[0]:x))}),[]);var Oe=function(){return me?me.size:0};return c().createElement(c().Fragment,null,c().createElement(f.Z,{className:"pf-m-light"},c().createElement(v.Z,{title:"Inventory"})),c().createElement(b,null,c().createElement(S.r,{gutter:"md"},c().createElement(E.P,{span:12},c().createElement(w.e,(0,r.Z)({hasAccess:A,isRbacEnabled:!0,customFilters:{filters:J,globalFilter:ue},isFullView:!0,inventoryRef:M,showTags:!0,onRefresh:be,hasCheckbox:pe,autoRefresh:!0,initialLoading:N,tableProps:pe&&{actionResolver:function(e){return function(e,t){var n=[{title:"Edit",onClick:function(e,t,n){V((function(){return n})),re((function(){return!0}))}},{title:"Delete",onClick:function(e,t,n){var r=n.id,a=n.display_name;V((function(){return{id:r,displayName:a}})),L((function(){return!0}))}}],r=[{title:"Add to group",onClick:function(e,t,n){var r=n.id,a=n.display_name,o=n.group_name;V((function(){return{id:r,name:a,groupName:o}})),le(!0)}},{title:"Remove from group",isDisabled:function(e){var t;return e&&""!==(null==e||null===(t=e.groups)||void 0===t?void 0:t.title)}(t)}];return[].concat((0,a.Z)(e?r:[]),n)}(ye,e)},canSelectAll:!1}},pe&&{actionsConfig:{actions:[{label:"Delete",props:{isDisabled:0===Oe(),variant:"secondary",onClick:function(){V(Array.from(me.values())),L(!0)}}}]},bulkSelect:{count:Oe(),id:"bulk-select-systems",items:[{title:"Select none (0)",onClick:function(){he(-1,!1)}},$({},ve&&fe&&fe.length>0?{title:"Select page (".concat(fe.length,")"),onClick:function(){he(0,!0)}}:{})],checked:W(fe,me),onSelect:function(e){he(0,e)}}},{onRowClick:function(e,t,n){return Z.push("/".concat(t).concat(n?"/".concat(n):""))}}))))),c().createElement(j.Z,{className:"sentry-mask data-hj-suppress",handleModalToggle:L,isModalOpen:R,currentSytems:U,onConfirm:function(){var e,t,n,r;Array.isArray(U)?(t=U.map((function(e){return e.id})),e=U.length>1?"".concat(U.length," systems"):U[0].display_name):(e=U.displayName,t=[U.id]),ge((0,_.wN)({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(e," started."),dismissable:!1})),ge((r=function(){return be({filters:J})},(n=O.Ks(t,e)).payload.then(r),n)),L(!1)}}),c().createElement(T.TextInputModal,{title:"Edit display name",isOpen:ne,value:U.display_name,onCancel:function(){return re(!1)},onSubmit:function(e){ge(O.$Y(U.id,e)),re(!1)}}),c().createElement(z,{isModalOpen:ie,setIsModalOpen:le,modalState:U,reloadData:function(){return console.log("data reloaded")}}))};te.propTypes={status:u().oneOfType([u().arrayOf(u().string),u().string]),source:u().oneOfType([u().arrayOf(u().string),u().string]),operatingSystem:u().oneOfType([u().arrayOf(u().string),u().string]),filterbyName:u().arrayOf(u().string),tagsFilter:u().any,page:u().arrayOf(u().oneOfType([u().string,u().number])),perPage:u().arrayOf(u().oneOfType([u().string,u().number])),initialLoading:u().bool,rhcdFilter:u().oneOfType([u().arrayOf(u().string),u().string]),updateMethodFilter:u().oneOfType([u().arrayOf(u().string),u().string]),hasAccess:u().bool,groupHostsFilter:u().oneOfType([u().arrayOf(u().string),u().string]),lastSeenFilter:u().oneOfType([u().arrayOf(u().string),u().string])},te.defaultProps={initialLoading:!0};const ne=te},36128:(e,t,n)=>{var r=n(20731),a=n(21078),o=n(45652);e.exports=function(e,t,n){var i=e.length;if(i<2)return i?o(e[0]):[];for(var l=-1,c=Array(i);++l<i;)for(var s=e[l],u=-1;++u<i;)u!=l&&(c[l]=r(c[l]||s,e[u],t,n));return o(a(c,1),t,n)}},76566:(e,t,n)=>{var r=n(34963),a=n(5976),o=n(36128),i=n(29246),l=a((function(e){return o(r(e,i))}));e.exports=l},71338:()=>{}}]);
//# sourceMappingURL=../sourcemaps/9367.ea5d320539c983ada6c87f7b8fb97e44.js.map