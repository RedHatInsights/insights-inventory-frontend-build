(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[9544],{39903:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});var a=n(92950),r=n.n(a),o=n(45697),l=n.n(o),i=n(66435),s=n(80236),c=n(79851),u=n(34512),d=n(49739),g=n(83826),m=n(48140),p=n(86050),v=n(47173),f=n(19694),y=function(e){var t,n=e.handleModalToggle,a=e.isModalOpen,o=e.currentSytems,l=e.onConfirm,y="system";return Array.isArray(o)?(t=1===o.length?o[0].display_name:"".concat(o.length," systems"),y=1===o.length?y:"systems"):t=o.display_name,r().createElement(s.u,{variant:"small",title:"Remove from inventory",className:"ins-c-inventory__table--remove",ouiaId:"inventory-delete-modal",isOpen:a,onClose:function(){return n(!1)},appendTo:document.getElementsByClassName("inventory")[0]||document.body},r().createElement(c.P,{hasGutter:!0},r().createElement(u.J,null,r().createElement(f.ZP,{size:"xl",className:"ins-m-alert"})),r().createElement(u.J,{isFilled:!0},r().createElement(d.K,{hasGutter:!0},r().createElement(g.v,null,t," will be removed from all ",location.host," applications and services. You need to re-register the ",y," to add it back to your inventory."),r().createElement(g.v,null,"To disable the daily upload for this ",y,", use the following command:"),r().createElement(g.v,null,r().createElement(i.M5,null,"insights-client --unregister"))))),r().createElement(m.a,{hasGutter:!0},r().createElement(p.Z,null,r().createElement(v.zx,{variant:"danger",ouiaId:"confirm-inventory-delete",onClick:l},"Remove"),r().createElement(v.zx,{variant:"link",ouiaId:"cancel-inventory-delete",onClick:function(){return n(!1)}},"Cancel"))))},E=l().shape({id:l().string,displayName:l().string});y.propTypes={isModalOpen:l().bool,currentSytems:l().oneOfType([E,l().arrayOf(E)]),handleModalToggle:l().func,onConfirm:l().func},y.defaultProps={isModalOpen:!1,currentSytems:{},handleModalToggle:function(){},onConfirm:function(){}};const T=y},67882:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var a=n(92950),r=n.n(a),o=n(35224),l=n(50693),i=n(16475),s=n(12136);const c=function(){return r().createElement(o.u,{maxWidth:"14rem",content:r().createElement(l.r,{hasGutter:!0},r().createElement(i.P,null,"Insights client not reporting"),r().createElement(i.P,null,'From the main navigation, open "Registration Assitant" to learn how to set up Insights.'))},r().createElement("span",{className:"pf-u-ml-sm ins-c-inventor__disconnected-icon"},r().createElement(s.ZP,null)))}},5311:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var a=n(92950),r=n.n(a),o=n(45697),l=n.n(o),i=function(e){var t=e.operatingSystem;if("RHEL"===(null==t?void 0:t.name)){var n=t.major&&null!==t.minor&&"".concat(t.major,".").concat(null==t?void 0:t.minor)||null;return r().createElement("span",null,"RHEL ",n)}return r().createElement("span",null,(null==t?void 0:t.name)||"Not available")};i.propTypes={operatingSystem:l().shape({name:l().string,major:l().number,minor:l().number})};const s=i},68595:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var a=n(92950),r=n.n(a),o=n(45697),l=n.n(o),i=n(32384),s=n(19281),c=n(94778),u=function(e){var t=e.count,n=e.loadTags,a=e.systemId;return r().createElement("span",{onClick:function(e){return e.stopPropagation()},className:"ins-c-inventory__list-tags","data-ouia-component-id":"".concat(a,"-tag-button")},r().createElement(s.Z,{count:t,onTagClick:function(){return n(a,t)}}))};u.propTypes={count:l().number,loadTags:l().func,systemId:l().string};const d=(0,i.connect)((function(){return{}}),(function(e){return{loadTags:function(t,n){t&&(e((0,c.Ar)(!0)),e((0,c.me)(t,void 0,void 0,n)))}}}))(u)},454:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var a=n(87462),r=n(45987),o=n(92950),l=n.n(o),i=n(45697),s=n.n(i),c=n(43707),u=n(2372),d=["cmp","hideLoader","isRbacEnabled","inventoryRef","store"],g=function(e){var t=e.cmp,n=e.hideLoader,o=e.isRbacEnabled,i=e.inventoryRef,s=e.store,g=(0,r.Z)(e,d),m=(0,c.T)("inventory",["inventory:*:*","inventory:*:read","inventory:hosts:read"],!0),p=m.hasAccess;return m.isLoading&&!n?l().createElement(u.$,null):l().createElement(t,(0,a.Z)({},g,i&&{ref:i},{hasAccess:!o||p,store:s}))};g.propTypes={cmp:s().any,inventoryRef:s().any,store:s().object,customRender:s().bool,isRbacEnabled:s().bool,hideLoader:s().bool};const m=g},73880:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DeleteModal:()=>D.Z,InventoryContext:()=>S.FW,OS_CHIP:()=>S.vi,REGISTERED_CHIP:()=>S.p9,RenderWrapper:()=>_.Z,STALE_CHIP:()=>S.yc,TAG_CHIP:()=>S.m5,TEXTUAL_CHIP:()=>S.UC,TEXT_FILTER:()=>S.ud,TagWithDialog:()=>a.Z,TagsModal:()=>Z,arrayToSelection:()=>S.Nu,defaultFilters:()=>S.js,filterToGroup:()=>S.Tk,generateFilter:()=>S.h3,isEmpty:()=>S.xb,loadSystems:()=>S.K$,operatingSystems:()=>S.wQ,reduceFilters:()=>S.YQ,registered:()=>S.Gw,reloadWrapper:()=>S.KS,staleness:()=>S.jv});var a=n(68595),r=n(87462),o=n(4942),l=n(93433),i=n(29439),s=n(92950),c=n.n(s),u=n(32384),d=n(45697),g=n.n(d),m=n(94778),p=n(98944),v=n(57971),f=n(23279),y=n.n(f),E=n(85564),T=n.n(E);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){var t=e.customFilters,n=e.filterTagsBy,a=e.onToggleModal,o=e.onApply,d=e.getTags,g=(0,u.useDispatch)(),f=(0,s.useState)(""),E=(0,i.Z)(f,2),h=E[0],O=E[1],Z=(0,s.useState)([]),_=(0,i.Z)(Z,2),D=_[0],S=_[1],L=(0,s.useState)({perPage:10,page:1}),P=(0,i.Z)(L,2),w=P[0],I=P[1],j=(0,u.useSelector)((function(e){var t,n=e.entities,a=e.entityDetails;return null===(t=n||a)||void 0===t?void 0:t.showTagDialog})),C=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return null!=t&&t.activeSystemTag||null!=n&&n.entity?w:(null==t?void 0:t.allTagsPagination)||w}),u.shallowEqual),k=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.tagModalLoaded)||(null==n?void 0:n.tagModalLoaded)})),A=(0,u.useSelector)((function(e){var t=e.entities,n=e.entityDetails;return(null==t?void 0:t.activeSystemTag)||(null==n?void 0:n.entity)})),F=(0,u.useSelector)((function(e){var t,n,a,r=e.entities,o=e.entityDetails,i=(null==r||null===(t=r.activeSystemTag)||void 0===t?void 0:t.tags)||(null==o||null===(n=o.entity)||void 0===n?void 0:n.tags);return i?null==i?void 0:i.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(h)}))})).slice((null==w?void 0:w.perPage)*((null==w?void 0:w.page)-1),(null==w?void 0:w.perPage)*(null==w?void 0:w.page)):null==r||null===(a=r.allTags)||void 0===a?void 0:a.reduce((function(e,t){var n=t.tags;return[].concat((0,l.Z)(e),(0,l.Z)(T()(n.map((function(e){return e.tag})))))}),[])})),R=(0,u.useSelector)((function(e){var t,n=e.entities,a=e.entityDetails;return null===(t=n||a)||void 0===t?void 0:t.activeFilters})),N=(0,u.useSelector)((function(e){var t,n,a,r=e.entities,o=e.entityDetails,l=null===(t=(null==r||null===(n=r.activeSystemTag)||void 0===n?void 0:n.tags)||(null==o||null===(a=o.entity)||void 0===a?void 0:a.tags))||void 0===t?void 0:t.filter((function(e){return Object.values(e).some((function(e){return null==e?void 0:e.includes(h)}))}));return l?l.length:null==r?void 0:r.allTagsTotal}));(0,s.useEffect)((function(){O(n)}),[n]);var M=function(e,n){A?I((function(){return e})):g((0,m.C8)(n,b(b({},t),{},{pagination:e,filters:R}),d))},G=(0,s.useCallback)(y()(M,800),[A]);return c().createElement(p.Z,(0,r.Z)({className:"ins-c-inventory__tags-modal",tableProps:{canSelectAll:!1}},k&&{loaded:k,pagination:b(b({},C),{},{count:N}),rows:(null==F?void 0:F.map((function(e){var t=e.key,n=e.value,a=e.namespace;return{id:"".concat(a,"/").concat(t,"=").concat(n),selected:D.find((function(e){return e.id==="".concat(a,"/").concat(t,"=").concat(n)})),cells:[t,n,a]}})))||[]},{loaded:k,width:"auto",isOpen:j,toggleModal:function(){S([]),O(""),a(),g((0,m.Ar)(!1))},filters:[{label:"Tags filter",placeholder:"Filter tags",value:"tags-filter",filterValues:{value:h,onChange:function(e,t){G(C,t),O(t)}}}],onUpdateData:function(e){return M(e,h)},columns:[{title:"Name"},{title:"Value",transforms:[(0,v.cellWidth)(30)]},{title:"Tag source",transforms:[(0,v.cellWidth)(30)]}]},!A&&{onSelect:function(e){return S(e)},selected:D,onApply:function(){return o&&o(D)}},{bulkSelect:{id:"bulk-select-tags"},title:A?"".concat(A.display_name," (").concat(N,")"):"All tags in inventory (".concat(N,")")}))};O.propTypes={onApply:g().func,onToggleModal:g().func,filterTagsBy:g().string,customFilters:g().shape({tags:g().oneOfType([g().object,g().arrayOf(g().string)])}),getTags:g().func},O.defaultProps={filterTagsBy:"",onToggleModal:function(){}};const Z=O;var _=n(454),D=n(39903),S=n(13784)},13718:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var a=n(92950),r=n.n(a);const o=function(e,t,n,a){return r().createElement("div",{className:"ins-composed-col"},r().createElement("div",{key:"os_release"},null==n?void 0:n.os_release),r().createElement("div",{key:"data",className:null!=a&&a.noDetail?"ins-m-nodetail":""},null!=a&&a.noDetail?e:r().createElement("a",{widget:"col",href:"".concat(location.pathname).concat("/"===location.pathname.substr(-1)?"":"/").concat(t),onClick:function(e){!function(e,t,n){var a=n.loaded,r=n.onRowClick,o=n.noDetail;if(a&&!o){var l=e.ctrlKey||e.metaKey||2===e.which;if(l)return;r&&r(e,t,l)}e.preventDefault(),e.stopPropagation()}(e,t,a)}},e)))}},21216:(e,t,n)=>{"use strict";n.d(t,{W2:()=>L,y5:()=>P,nN:()=>j,vI:()=>C,ZP:()=>k});var a,r=n(29439),o=n(45987),l=n(93433),i=n(4942),s=n(92950),c=n.n(s),u=n(59086),d=n(35240),g=n(62410),m=n(12385),p=n(73880),v=n(7739),f=n.n(v),y=n(13718),E=n(67882),T=n(5311),h=n(35224),b=n(13784),O=["items"],Z=["tags"],_=["tags"];function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L={loaded:!1,tagsLoaded:!1,allTagsLoaded:!1,invConfig:{},sortBy:{key:"updated",direction:"desc"}},P=[{key:"display_name",title:"Name",renderFunc:y.Z},{key:"tags",title:"Tags",props:{width:10,isStatic:!0},renderFunc:function(e,t){return c().createElement(p.TagWithDialog,{count:e.length,systemId:t})}},{key:"system_profile",title:c().createElement(h.u,{content:c().createElement("span",null,"Operating system")},c().createElement("span",null,"OS")),renderFunc:function(e){return c().createElement(T.Z,{operatingSystem:null==e?void 0:e.operating_system})},props:{width:10,isStatic:!0}},{key:"updated",title:"Last seen",renderFunc:function(e,t,n){var a=n.culled_timestamp,r=n.stale_warning_timestamp,o=n.stale_timestamp,l=n.insights_id;return m.Z?c().createElement(m.Z,{culled:a,staleWarning:r,stale:o,render:function(t){var n=t.msg;return c().createElement(c().Fragment,null,c().createElement(g.Z,{date:e,extraTitle:c().createElement(c().Fragment,null,c().createElement("div",null,n),"Last seen:"," ")}),!l&&c().createElement(E.Z,null))}}," ",c().createElement(g.Z,{date:e})," "):new Date(e).toLocaleString()},props:{width:10}}];function w(e,t){var n=t.payload,a=n.results,r=n.per_page,o=n.page,l=n.count,i=n.total,s=n.loaded,c=n.filters;return t.meta.lastDateRequest<e.lastDateRequest?e:void 0!==s||void 0!==o&&void 0!==r?S(S({},e),{},{activeFilters:c||[],loaded:void 0===s||s,rows:(0,d.r0)([e.rows,a]).filter((function(e){return!s||e.created})),perPage:void 0!==r?r:e.perPage,page:void 0!==o?o:e.page,count:void 0!==l?l:e.count,total:void 0!==i?i:e.total}):e}function I(e,t){var n=t.payload;return S(S({},e),{},{error:n})}function j(e,t){var n=t.payload,a=t.meta,r=e.rows?e.rows.find((function(e){var t=e.id;return a.systemId===t})):e.entity||{},l=(r.tags,(0,o.Z)(r,Z));return S(S({},e),{},{tagModalLoaded:!0,activeSystemTag:S(S({},l),{},{tags:Object.values(n.results)[0],tagsCount:a.tagsCount,page:n.page,perPage:n.per_page,tagsLoaded:!0})})}function C(e,t){var n=t.payload.isOpen;return S(S({},e),{},{showTagDialog:n,activeSystemTag:void 0})}const k=(a={},(0,i.Z)(a,u.aI.ALL_TAGS_FULFILLED,(function(e,t){var n=t.payload,a=n.results,o=n.total,l=n.page,i=n.per_page;return t.meta.lastDateRequestTags<e.lastDateRequestTags?e:S(S({},e),{},{allTags:Object.entries(f()(a,(function(e){return e.tag.namespace}))).map((function(e){var t=(0,r.Z)(e,2);return{name:t[0],tags:t[1]}})),allTagsPagination:{perPage:i,page:l},additionalTagsCount:o>i?o-i:0,allTagsTotal:o,allTagsLoaded:!0,tagModalLoaded:!0})})),(0,i.Z)(a,u.aI.ALL_TAGS_PENDING,(function(e,t){var n=t.meta;return S(S({},e),{},{allTagsLoaded:!1,tagModalLoaded:!1,lastDateRequestTags:n.lastDateRequestTags})})),(0,i.Z)(a,u.aI.LOAD_ENTITIES_PENDING,(function(e,t){var n=t.meta;return S(S({},e),{},{columns:(0,d.r0)([P.filter((function(e){return"tags"!==e.key||(null==n?void 0:n.showTags)})),e.columns],"key"),rows:[],loaded:!1,lastDateRequest:n.lastDateRequest})})),(0,i.Z)(a,u.aI.LOAD_ENTITIES_FULFILLED,w),(0,i.Z)(a,u.aI.LOAD_ENTITIES_REJECTED,I),(0,i.Z)(a,u.aI.LOAD_TAGS_PENDING,(function(e,t){var n=t.meta,a=e.rows?e.rows.find((function(e){var t=e.id;return n.systemId===t})):e.entity||{},r=(a.tags,(0,o.Z)(a,_));return S(S({},e),{},{tagModalLoaded:!1,activeSystemTag:S(S({},r),{},{tagsCount:n.tagsCount,tagsLoaded:!1})})})),(0,i.Z)(a,u.aI.LOAD_TAGS_FULFILLED,j),(0,i.Z)(a,u.aI.ALL_TAGS_REJECTED,I),(0,i.Z)(a,u.s$,w),(0,i.Z)(a,u.u4,(function(e,t){return w(e,{payload:S(S({},t.payload),{},{loaded:!1})})})),(0,i.Z)(a,u.hI,(function(e,t){var n=t.payload,a=n.item,r=a.items,i=(0,o.Z)(a,O),s=n.selected,c=e.activeFilters,u=void 0===c?[]:c;if(s){var d=(u=[].concat((0,l.Z)(u),[i],(0,l.Z)(r||[]))).map((function(e){return e.value}));u=u.filter((function(e,t){return d.lastIndexOf(e.value)===t}))}else u.splice(u.map((function(e){return e.value})).indexOf(i.value),1),r&&r.forEach((function(e){u.splice(u.map((function(e){return e.value})).indexOf(e.value),1)}));return S(S({},e),{},{activeFilters:u})})),(0,i.Z)(a,u.pr,(function(e,t){var n=t.payload,a=(0,l.Z)(e.rows);return[].concat(n).forEach((function(e){var t=e.id,n=e.selected,r=a.find((function(e){return e.id===t}));r?r.selected=n:a.forEach((function(e){return e.selected=n}))})),S(S({},e),{},{rows:a})})),(0,i.Z)(a,u.WH,(function(e,t){var n=t.payload,a=n.key,r=n.direction;return S(S({},e),{},{sortBy:{key:a,direction:r}})})),(0,i.Z)(a,u.Gs,(function(e){return S(S({},e),{},{activeFilters:[b.js]})})),(0,i.Z)(a,u.jZ,(function(e,t){var n=t.payload.isLoading;return S(S({},e),{},{loaded:!n})})),(0,i.Z)(a,u.Qd,C),(0,i.Z)(a,u.Uq,(function(e,t){var n=t.payload;return S(S({},e),{},{invConfig:n})})),a)},37625:()=>{},30187:()=>{},93398:()=>{},46928:()=>{},72816:()=>{},74181:()=>{},16166:()=>{}}]);
//# sourceMappingURL=../sourcemaps/9544.f00f5e7267c690fb73f6ad5f44764a73.js.map