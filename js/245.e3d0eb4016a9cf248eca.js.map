{"version":3,"sources":["webpack://insights-inventory-frontend/./src/routes/InventoryDetail.js"],"names":["Inventory","entity","currentApp","clearNotifications","loadEntity","useSelector","permissionsReducer","loading","writePermissions","shallowEqual","useEffect","insights","chrome","hideGlobalFilter","appAction","additionalClasses","document","title","display_name","appObjectId","id","hideInvLink","showTags","onLoad","mergeWithDetail","INVENTORY_ACTION_TYPES","getRegistry","register","entitesDetailReducer","className","classnames","ouiaId","Link","to","routes","isActive","size","SkeletonSize","fallback","hideBack","showDelete","hideInvDrawer","gutter","span","contextTypes","store","PropTypes","propTypes","history","routerParams","connect","entityDetails","activeApp","appName","firstApp","activeApps","name","dispatch","actions"],"mappings":"qbAoBMA,EAAY,SAAC,GAA2D,IAAzDC,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,WAAYC,EAAqC,EAArCA,mBAAoBC,EAAiB,EAAjBA,WAAiB,GACpCC,kBAClC,gBAAGC,EAAH,EAAGA,mBAAH,MACK,CAAEC,QAASD,aAAF,EAAEA,EAAoBC,QAASC,iBAAkBF,aAAF,EAAEA,EAAoBE,oBACnFC,gBAHIF,EADkE,EAClEA,QAASC,EADyD,EACzDA,kBAMjBE,gBAAU,WAAM,QACZ,UAAAC,SAASC,cAAT,mBAAiBC,wBAAjB,iBAAoC,GACpCF,SAASC,OAAOE,UAAU,iBAC1BX,MACD,IAEH,IAAMY,EAAoB,CACtB,wCAAyCb,GAA6B,wBAAfA,GAc3D,OAXID,IACAe,SAASC,MAAT,UAAoBhB,EAAOiB,aAA3B,qCAGJR,gBAAU,WAAM,UACJ,QAAR,EAAAC,gBAAA,mBAAUC,cAAV,mBAAkBO,mBAAlB,gBAAgClB,aAAhC,EAAgCA,EAAQmB,KACpCnB,aAAJ,EAAIA,EAAQmB,KACRhB,MAEL,CAACH,aAAD,EAACA,EAAQmB,KAGR,kBAAC,KAAD,CACIC,aAAW,EACXC,UAAQ,EACRC,OAAQ,YAAiD,IAA9CC,EAA8C,EAA9CA,gBAAiBC,EAA6B,EAA7BA,wBACxBC,UAAcC,SAASH,GAAgBI,QAAqBH,OAGhE,kBAAC,IAAD,CAAYI,UAAWC,IAAW,kCAAmCf,IACjE,kBAAC,IAAD,CAAYgB,OAAO,gBACf,kBAAC,IAAD,KACI,kBAAC,EAAAC,KAAD,CAAMC,GAAIC,WAAV,cAEJ,kBAAC,IAAD,CAAgBC,UAAQ,GACpB,yBAAKN,UAAU,4CAEP5B,EACIA,EAAOiB,aACP,kBAAC,IAAD,CAAUkB,KAAMC,aAM/B9B,GAAW,kBAAC,KAAD,CACR+B,SAAS,GACTC,UAAQ,EACRjB,UAAQ,EACRD,aAAW,EACXmB,WAAYhC,EACZiC,eAAa,KAIzB,kBAAC,IAAD,CAAMZ,UAAWC,IAAWf,IACxB,kBAAC,IAAD,CAAM2B,OAAO,MACT,kBAAC,IAAD,CAAUC,KAAM,IACZ,kBAAC,KAAD,CAASrB,UAAQ,EAACgB,SAAS,UAQnDtC,EAAU4C,aAAe,CACrBC,MAAOC,YAGX9C,EAAU+C,UAAY,CAClBC,QAASF,WACT7C,OAAQ6C,WACR1C,WAAY0C,SACZ3C,mBAAoB2C,SACpB5C,WAAY4C,YAmBhB,SAAeG,QAAaC,cAhB5B,YAA4C,IAAjBC,EAAiB,EAAjBA,cACjBC,EAAYD,GAAiBA,EAAcC,WAAaD,EAAcC,UAAUC,QAChFC,EAAWH,GAAiBA,EAAcI,YAAcJ,EAAcI,WAAW,GACvF,MAAO,CACHtD,OAAQkD,GAAiBA,EAAclD,OACvCC,WAAYkD,GAAcE,GAAYA,EAASE,SAIvD,SAA4BC,GACxB,MAAO,CACHrD,WAAY,kBAAMqD,EAASC,SAC3BvD,mBAAoB,kBAAMsD,EAASC,YAIfR,CAA6ClD","file":"js/245.e3d0eb4016a9cf248eca.js","sourcesContent":["import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect, useSelector, shallowEqual } from 'react-redux';\nimport './inventory.scss';\nimport '@redhat-cloud-services/frontend-components-inventory-patchman/dist/esm/index.css';\nimport { Link } from 'react-router-dom';\nimport { entitesDetailReducer } from '../store';\nimport * as actions from '../actions';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/files/esm/RouterParams';\nimport { getRegistry } from '@redhat-cloud-services/frontend-components-utilities/files/esm/Registry';\nimport { Skeleton, SkeletonSize, PageHeader, Main } from '@redhat-cloud-services/frontend-components';\nimport '@redhat-cloud-services/frontend-components-inventory-general-info/index.css';\nimport '@redhat-cloud-services/frontend-components-inventory-insights/index.css';\nimport classnames from 'classnames';\nimport { routes } from '../Routes';\n\nimport { InventoryDetailHead, AppInfo, DetailWrapper } from '@redhat-cloud-services/frontend-components/components/esm/Inventory';\n\nconst Inventory = ({ entity, currentApp, clearNotifications, loadEntity }) => {\n    const { loading, writePermissions } = useSelector(\n        ({ permissionsReducer }) =>\n            ({ loading: permissionsReducer?.loading, writePermissions: permissionsReducer?.writePermissions }),\n        shallowEqual\n    );\n\n    useEffect(() => {\n        insights.chrome?.hideGlobalFilter?.(true);\n        insights.chrome.appAction('system-detail');\n        clearNotifications();\n    }, []);\n\n    const additionalClasses = {\n        'ins-c-inventory__detail--general-info': currentApp && currentApp === 'general_information'\n    };\n\n    if (entity) {\n        document.title = `${entity.display_name} | Inventory | Red Hat Insights`;\n    }\n\n    useEffect(() => {\n        insights?.chrome?.appObjectId?.(entity?.id);\n        if (entity?.id) {\n            loadEntity();\n        }\n    }, [entity?.id]);\n\n    return (\n        <DetailWrapper\n            hideInvLink\n            showTags\n            onLoad={({ mergeWithDetail, INVENTORY_ACTION_TYPES }) => {\n                getRegistry().register(mergeWithDetail(entitesDetailReducer(INVENTORY_ACTION_TYPES)));\n            }}\n        >\n            <PageHeader className={classnames('pf-m-light ins-inventory-detail', additionalClasses)} >\n                <Breadcrumb ouiaId=\"systems-list\">\n                    <BreadcrumbItem>\n                        <Link to={routes.table}>Inventory</Link>\n                    </BreadcrumbItem>\n                    <BreadcrumbItem isActive>\n                        <div className=\"ins-c-inventory__detail--breadcrumb-name\">\n                            {\n                                entity ?\n                                    entity.display_name :\n                                    <Skeleton size={SkeletonSize.xs} />\n                            }\n                        </div>\n                    </BreadcrumbItem>\n                </Breadcrumb>\n                {\n                    !loading && <InventoryDetailHead\n                        fallback=\"\"\n                        hideBack\n                        showTags\n                        hideInvLink\n                        showDelete={writePermissions}\n                        hideInvDrawer\n                    />\n                }\n            </PageHeader>\n            <Main className={classnames(additionalClasses)}>\n                <Grid gutter=\"md\">\n                    <GridItem span={12}>\n                        <AppInfo showTags fallback=\"\" />\n                    </GridItem>\n                </Grid>\n            </Main>\n        </DetailWrapper>\n    );\n};\n\nInventory.contextTypes = {\n    store: PropTypes.object\n};\n\nInventory.propTypes = {\n    history: PropTypes.object,\n    entity: PropTypes.object,\n    loadEntity: PropTypes.func,\n    clearNotifications: PropTypes.func,\n    currentApp: PropTypes.string\n};\n\nfunction mapStateToProps({ entityDetails }) {\n    const activeApp = entityDetails && entityDetails.activeApp && entityDetails.activeApp.appName;\n    const firstApp = entityDetails && entityDetails.activeApps && entityDetails.activeApps[0];\n    return {\n        entity: entityDetails && entityDetails.entity,\n        currentApp: activeApp || (firstApp && firstApp.name)\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        loadEntity: () => dispatch(actions.loadEntity()),\n        clearNotifications: () => dispatch(actions.clearNotifications())\n    };\n}\n\nexport default routerParams(connect(mapStateToProps, mapDispatchToProps)(Inventory));\n"],"sourceRoot":""}