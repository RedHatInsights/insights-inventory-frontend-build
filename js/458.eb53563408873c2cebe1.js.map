{"version":3,"sources":["webpack://insights-inventory-frontend/./src/routes/InventoryDetail.js"],"names":["Inventory","entity","currentApp","clearNotifications","loadEntity","getRegistry","useContext","RegistryContext","useSelector","permissionsReducer","loading","writePermissions","shallowEqual","useEffect","insights","chrome","hideGlobalFilter","appAction","additionalClasses","document","title","display_name","appObjectId","id","hideInvLink","showTags","onLoad","mergeWithDetail","INVENTORY_ACTION_TYPES","register","entitesDetailReducer","className","classnames","ouiaId","Link","to","routes","isActive","size","SkeletonSize","fallback","hideBack","showDelete","hideInvDrawer","gutter","span","contextTypes","store","PropTypes","propTypes","history","routerParams","connect","entityDetails","activeApp","appName","firstApp","activeApps","name","dispatch","actions"],"mappings":"sbAkBMA,EAAY,SAAC,GAA2D,IAAzDC,EAAyD,EAAzDA,OAAQC,EAAiD,EAAjDA,WAAYC,EAAqC,EAArCA,mBAAoBC,EAAiB,EAAjBA,WACjDC,GAAgBC,gBAAWC,MAA3BF,YADkE,GAEpCG,kBAClC,gBAAGC,EAAH,EAAGA,mBAAH,MACK,CAAEC,QAASD,aAAF,EAAEA,EAAoBC,QAASC,iBAAkBF,aAAF,EAAEA,EAAoBE,oBACnFC,gBAHIF,EAFkE,EAElEA,QAASC,EAFyD,EAEzDA,kBAMjBE,gBAAU,WAAM,QACZ,UAAAC,SAASC,cAAT,mBAAiBC,wBAAjB,iBAAoC,GACpCF,SAASC,OAAOE,UAAU,iBAC1Bd,MACD,IAEH,IAAMe,EAAoB,CACtB,wCAAyChB,GAA6B,wBAAfA,GAc3D,OAXID,IACAkB,SAASC,MAAT,UAAoBnB,EAAOoB,aAA3B,qCAGJR,gBAAU,WAAM,UACJ,QAAR,EAAAC,gBAAA,mBAAUC,cAAV,mBAAkBO,mBAAlB,gBAAgCrB,aAAhC,EAAgCA,EAAQsB,IACpCtB,WAAQsB,IACRnB,MAEL,CAACH,aAAD,EAACA,EAAQsB,KAGR,kBAAC,IAAD,CACIC,aAAW,EACXC,UAAQ,EACRC,OAAQ,YAAiD,IAA9CC,EAA8C,EAA9CA,gBAAiBC,EAA6B,EAA7BA,uBACxBvB,IAAcwB,SAASF,GAAgBG,QAAqBF,OAGhE,kBAAC,KAAD,CAAYG,UAAWC,IAAW,kCAAmCd,IACjE,kBAAC,IAAD,CAAYe,OAAO,gBACf,kBAAC,IAAD,KACI,kBAAC,EAAAC,KAAD,CAAMC,GAAIC,WAAV,cAEJ,kBAAC,IAAD,CAAgBC,UAAQ,GACpB,yBAAKN,UAAU,4CAEP9B,EACIA,EAAOoB,aACP,kBAAC,KAAD,CAAUiB,KAAMC,cAM/B7B,GAAW,kBAAC,IAAD,CACR8B,SAAS,GACTC,UAAQ,EACRhB,UAAQ,EACRD,aAAW,EACXkB,WAAY/B,EACZgC,eAAa,KAIzB,kBAAC,IAAD,CAAMZ,UAAWC,IAAWd,IACxB,kBAAC,IAAD,CAAM0B,OAAO,MACT,kBAAC,IAAD,CAAUC,KAAM,IACZ,kBAAC,IAAD,CAASpB,UAAQ,EAACe,SAAS,UAQnDxC,EAAU8C,aAAe,CACrBC,MAAOC,YAGXhD,EAAUiD,UAAY,CAClBC,QAASF,WACT/C,OAAQ+C,WACR5C,WAAY4C,SACZ7C,mBAAoB6C,SACpB9C,WAAY8C,YAmBhB,SAAeG,QAAaC,cAhB5B,YAA4C,IAAjBC,EAAiB,EAAjBA,cACjBC,EAAYD,GAAiBA,EAAcC,WAAaD,EAAcC,UAAUC,QAChFC,EAAWH,GAAiBA,EAAcI,YAAcJ,EAAcI,WAAW,GACvF,MAAO,CACHxD,OAAQoD,GAAiBA,EAAcpD,OACvCC,WAAYoD,GAAcE,GAAYA,EAASE,SAIvD,SAA4BC,GACxB,MAAO,CACHvD,WAAY,kBAAMuD,EAASC,SAC3BzD,mBAAoB,kBAAMwD,EAASC,YAIfR,CAA6CpD","file":"js/458.eb53563408873c2cebe1.js","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect, useSelector, shallowEqual } from 'react-redux';\nimport './inventory.scss';\nimport '@redhat-cloud-services/frontend-components-inventory-patchman/dist/esm/index.css';\nimport { Link } from 'react-router-dom';\nimport { entitesDetailReducer, RegistryContext } from '../store';\nimport * as actions from '../actions';\nimport { Grid, GridItem } from '@patternfly/react-core';\nimport { Breadcrumb, BreadcrumbItem } from '@patternfly/react-core';\nimport routerParams from '@redhat-cloud-services/frontend-components-utilities/RouterParams';\nimport { Skeleton, SkeletonSize, PageHeader, Main } from '@redhat-cloud-services/frontend-components';\nimport '@redhat-cloud-services/frontend-components-inventory-insights/index.css';\nimport classnames from 'classnames';\nimport { routes } from '../Routes';\n\nimport { InventoryDetailHead, AppInfo, DetailWrapper } from '@redhat-cloud-services/frontend-components/Inventory';\n\nconst Inventory = ({ entity, currentApp, clearNotifications, loadEntity }) => {\n    const { getRegistry } = useContext(RegistryContext);\n    const { loading, writePermissions } = useSelector(\n        ({ permissionsReducer }) =>\n            ({ loading: permissionsReducer?.loading, writePermissions: permissionsReducer?.writePermissions }),\n        shallowEqual\n    );\n\n    useEffect(() => {\n        insights.chrome?.hideGlobalFilter?.(true);\n        insights.chrome.appAction('system-detail');\n        clearNotifications();\n    }, []);\n\n    const additionalClasses = {\n        'ins-c-inventory__detail--general-info': currentApp && currentApp === 'general_information'\n    };\n\n    if (entity) {\n        document.title = `${entity.display_name} | Inventory | Red Hat Insights`;\n    }\n\n    useEffect(() => {\n        insights?.chrome?.appObjectId?.(entity?.id);\n        if (entity?.id) {\n            loadEntity();\n        }\n    }, [entity?.id]);\n\n    return (\n        <DetailWrapper\n            hideInvLink\n            showTags\n            onLoad={({ mergeWithDetail, INVENTORY_ACTION_TYPES }) => {\n                getRegistry().register(mergeWithDetail(entitesDetailReducer(INVENTORY_ACTION_TYPES)));\n            }}\n        >\n            <PageHeader className={classnames('pf-m-light ins-inventory-detail', additionalClasses)} >\n                <Breadcrumb ouiaId=\"systems-list\">\n                    <BreadcrumbItem>\n                        <Link to={routes.table}>Inventory</Link>\n                    </BreadcrumbItem>\n                    <BreadcrumbItem isActive>\n                        <div className=\"ins-c-inventory__detail--breadcrumb-name\">\n                            {\n                                entity ?\n                                    entity.display_name :\n                                    <Skeleton size={SkeletonSize.xs} />\n                            }\n                        </div>\n                    </BreadcrumbItem>\n                </Breadcrumb>\n                {\n                    !loading && <InventoryDetailHead\n                        fallback=\"\"\n                        hideBack\n                        showTags\n                        hideInvLink\n                        showDelete={writePermissions}\n                        hideInvDrawer\n                    />\n                }\n            </PageHeader>\n            <Main className={classnames(additionalClasses)}>\n                <Grid gutter=\"md\">\n                    <GridItem span={12}>\n                        <AppInfo showTags fallback=\"\" />\n                    </GridItem>\n                </Grid>\n            </Main>\n        </DetailWrapper>\n    );\n};\n\nInventory.contextTypes = {\n    store: PropTypes.object\n};\n\nInventory.propTypes = {\n    history: PropTypes.object,\n    entity: PropTypes.object,\n    loadEntity: PropTypes.func,\n    clearNotifications: PropTypes.func,\n    currentApp: PropTypes.string\n};\n\nfunction mapStateToProps({ entityDetails }) {\n    const activeApp = entityDetails && entityDetails.activeApp && entityDetails.activeApp.appName;\n    const firstApp = entityDetails && entityDetails.activeApps && entityDetails.activeApps[0];\n    return {\n        entity: entityDetails && entityDetails.entity,\n        currentApp: activeApp || (firstApp && firstApp.name)\n    };\n}\n\nfunction mapDispatchToProps(dispatch) {\n    return {\n        loadEntity: () => dispatch(actions.loadEntity()),\n        clearNotifications: () => dispatch(actions.clearNotifications())\n    };\n}\n\nexport default routerParams(connect(mapStateToProps, mapDispatchToProps)(Inventory));\n"],"sourceRoot":""}