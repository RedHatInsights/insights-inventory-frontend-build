!function(t){function e(e){for(var r,i,c=e[0],s=e[1],u=e[2],f=0,p=[];f<c.length;f++)i=c[f],a[i]&&p.push(a[i][0]),a[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);for(l&&l(e);p.length;)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={0:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/insights/platform/inventory/";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;o.push([630,1]),n()}({316:function(t,e,n){var r=n(625);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(318)(r,a);r.locals&&(t.exports=r.locals)},625:function(t,e,n){(e=t.exports=n(146)(!1)).i(n(317),""),e.push([t.i,"button:focus {\n  outline: none; }\n\n.buttons button + button {\n  margin-left: 15px; }\n",""])},627:function(t,e,n){var r=n(628);"string"==typeof r&&(r=[[t.i,r,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};n(318)(r,a);r.locals&&(t.exports=r.locals)},628:function(t,e,n){(e=t.exports=n(146)(!1)).i(n(317),""),e.i(n(629),""),e.push([t.i,"button:focus {\n  outline: none; }\n",""])},630:function(t,e,n){"use strict";n.r(e);var r,a=n(2),o=n.n(a),i=n(15),c=n.n(i),s=n(315),u=n(42),l=n(325),f=n.n(l),p=n(25),d=n(125),m=n(344),v=n(70),y=n.n(v),h=n(69),g=n.n(h),E=n(167),b=n.n(E),I=n(40),T=n.n(I),_=n(337),O=n.n(_),j=n(338),w=n.n(j),A=n(339),L=n.n(A),R=n(340),D=n.n(R)()(["GET_ENTITIES","GET_ENTITY"],function(t){return[t,"".concat(t,"_PENDING"),"".concat(t,"_FULFILLED"),"".concat(t,"_REJECTED")]}),N=L()(["ALERT_ADD","ALERT_DISMISS"].concat(g()(D)),function(t){return t}),P=n(171),C=n(229),k=0,S={loaded:!1};function x(t,e){var n=e.payload,r=n.health,a=n.tags,o=b()(n,["health","tags"]);return T()({},t,{health:r,tags:a,entity:T()({},t.entity,o)})}function M(t){return T()({},t,{loaded:!0,activeApps:[{title:"Overview",name:"overview",component:p.Overview},{title:"Vulnerabilities",name:"vulnerabilities"},{title:"Configuration Assessment",name:"configuration_assessment"},{title:"Compliance",name:"compliance"},{title:"Cost Managemenet",name:"cost_management"},{title:"General Information",name:"general_information",component:p.GeneralInformation}]})}var F,G={alerts:Object(P.applyReducerHash)(T()((r={},y()(r,N.ALERT_ADD,function(t,e){var n=e.payload;return g()(t).concat([T()({id:k++},n)])}),y()(r,N.ALERT_DISMISS,function(t,e){return t.filter(function(t){return t.id!==e.alert.id})}),r),w()(O()(N,function(t){return t.endsWith("_REJECTED")}),function(){return function(t,e){return g()(t).concat([{title:e.payload.message,id:k++,dismissible:!0,variant:"warning"}])}})),[])},H=Object(P.applyReducerHash)(y()({},N.GET_ENTITIES_FULFILLED,function(t,e){var n=e.payload;return T()({},t,{rows:Object(C.mergeArraysByKey)([t.rows,n.results]),entities:Object(C.mergeArraysByKey)([t.entities,n.results])})}),S),Y=function(t){var e;return Object(P.applyReducerHash)((e={},y()(e,t.LOAD_ENTITY_FULFILLED,M),y()(e,N.GET_ENTITY_FULFILLED,x),e),S)},U=G;function W(t){var e=t.actionType,n=t.callback;return F.addNew({on:e,callback:n})}var B=n(94),J=n.n(B),V=n(95),K=n.n(V),q=n(96),z=n.n(q),Q=n(97),X=n.n(Q),Z=n(98),$=n.n(Z),tt=n(0),et=n.n(tt),nt=n(341),rt=n.n(nt),at=n(155),ot=n(322),it=n(321),ct=n(102),st=n.n(ct),ut=n(169),lt=n.n(ut),ft=n(168),pt=n.n(ft),dt=(n(316),"/r/insights/platform/inventory/api/v1/hosts"),mt=function(t){return t.map(function(t){return{id:t.id,health:{vulnerabilities:{title:5,redirect:"cost_management"},configuration:{title:10,redirect:"configuration_assessment"},compliance:{title:"74%",redirect:"compliance"},cost:{title:"23K",redirect:"cost_management"}}}})};var vt,yt=function(t){return{type:N.GET_ENTITIES,payload:function(t){var e=t.page,n=t.per_page,r="";if(n||e){var a={per_page:n,page:e};r="?"+Object.keys(a).reduce(function(t,e){return g()(t).concat(["".concat(e,"=").concat(a[e])])},[]).join("&")}return fetch("".concat(dt).concat(r)).then(function(t){if(t.ok)return t.json().then(function(t){return{results:mt(t.results)}});throw new Error("Unexpected response code ".concat(t.status))})}(t).then(function(t){return t.items||t})}},ht=function(t){return{type:N.GET_ENTITY,payload:function(t){return fetch("".concat(dt,"/").concat(t)).then(function(t){if(t.ok)return t.json();throw new Error("Unexpected response code ".concat(t.status))})}(t)}},gt=function(t){var e=t.title,n=t.dismissible,r=void 0!==n&&n,a=t.variant,o=void 0===a?"warning":a;return{type:N.ALERT_ADD,payload:{title:e,dismissible:r,variant:o}}},Et=n(234),bt=n(235),It=n(116),Tt=n(83),_t=n(156),Ot=n(154),jt=function(){return insights.loadInventory({react:o.a,reactRouterDom:It,reactCore:Tt,reactIcons:_t,pfReact:{PaginationRow:Ot.a}})},wt=Object(p.registry)()(vt=function(t){function e(t,n){var r;return J()(this,e),(r=z()(this,X()(e).call(this,t,n))).loadInventory(),r.inventory=o.a.createRef(),r.state={ConnectedInventory:function(){return o.a.createElement("div",null,"Loading..")}},r.onRefresh=r.onRefresh.bind(pt()(pt()(r))),r}return $()(e,t),K()(e,[{key:"loadInventory",value:function(){var t=lt()(st.a.mark(function t(){var e,n,r,a,o,i,c,s=this;return st.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jt();case 2:e=t.sent,n=e.inventoryConnector,r=e.INVENTORY_ACTION_TYPES,a=e.mergeWithEntities,this.getRegistry().register(T()({},a(H))),W({actionType:r.LOAD_ENTITIES,callback:function(t){t.data.then(function(t){var e=t.page,n=t.per_page;s.props.loadEntities({page:e,per_page:n})})}}),o=n(),i=o.InventoryTable,c=o.updateEntities,this.updateEntities=c,this.setState({ConnectedInventory:i});case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"onRefresh",value:function(){}},{key:"render",value:function(){var t=this.state.ConnectedInventory;return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.PageHeader,{className:"pf-m-light"},o.a.createElement(p.PageHeaderTitle,{title:"Inventory"})),o.a.createElement(p.Main,null,o.a.createElement(Et.a,{gutter:"md"},o.a.createElement(bt.a,{span:12},o.a.createElement(t,{filters:[{title:"Health status",value:"health-status",items:[]},{title:"Last seen",value:"last-seen",items:[]}],ref:this.inventory,showHealth:!0,onRefresh:this.onRefresh})))))}}]),e}(a.Component))||vt;wt.contextTypes={store:et.a.object},wt.propTypes={addAlert:et.a.func,loadEntities:et.a.func,loadEntity:et.a.func};var At,Lt=Object(p.routerParams)(Object(u.connect)(function(){return{}},function(t){return{addAlert:function(e){return t(gt(e))},loadEntities:function(e){return t(yt(e))},loadEntity:function(e){return t(ht(e))}}})(wt)),Rt=n(232),Dt=n(233),Nt=Object(p.registry)()(At=function(t){function e(t,n){var r;return J()(this,e),(r=z()(this,X()(e).call(this,t,n))).loadInventory(),r.state={InventoryDetail:function(){return o.a.createElement("div",null,"Loading..")}},r}return $()(e,t),K()(e,[{key:"loadInventory",value:function(){var t=lt()(st.a.mark(function t(){var e,n,r,a,o,i,c=this;return st.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jt();case 2:e=t.sent,n=e.inventoryConnector,r=e.INVENTORY_ACTION_TYPES,a=e.mergeWithDetail,this.getRegistry().register(T()({},a(Y(r)))),this.entityListener=W({actionType:r.LOAD_ENTITY,callback:function(t){t.data.then(function(t){t.error&&c.props.addAlert({title:t.error.message}),c.props.loadEntity(t.results[0].id)})}}),o=n(),i=o.InventoryDetail,this.setState({InventoryDetail:i});case 10:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.entityListener()}},{key:"render",value:function(){var t=this.state.InventoryDetail;return o.a.createElement(o.a.Fragment,null,o.a.createElement(p.PageHeader,{className:"pf-m-light"},o.a.createElement(p.PageHeaderTitle,{title:"Inventory"})),o.a.createElement(p.Main,null,o.a.createElement(Et.a,{gutter:"md"},o.a.createElement(bt.a,{span:12},o.a.createElement(Rt.a,null,o.a.createElement(Dt.a,null,o.a.createElement(t,null)))))))}}]),e}(a.Component))||At;Nt.contextTypes={store:et.a.object},Nt.propTypes={addAlert:et.a.func,loadEntities:et.a.func,loadEntity:et.a.func};var Pt=Object(p.routerParams)(Object(u.connect)(function(){return{}},function(t){return{addAlert:function(e){return t(gt(e))},loadEntities:function(){return t(yt())},loadEntity:function(e){return t(ht(e))}}})(Nt)),Ct=function(t){var e=t.component,n=t.rootClass,r=b()(t,["component","rootClass"]),a=document.getElementById("root");return a.removeAttribute("class"),a.classList.add("page__".concat(n),"pf-l-page__main"),o.a.createElement(at.a,rt()({},r,{component:e}))};Ct.propTypes={component:et.a.func,rootClass:et.a.string};var kt,St=function(){return o.a.createElement(ot.a,null,o.a.createElement(Ct,{exact:!0,path:"/entity",component:Lt,rootClass:"inventory"}),o.a.createElement(Ct,{path:"/entity/:inventoryId",component:Pt,rootClass:"inventory"}),o.a.createElement(it.a,{to:"/entity"}))},xt=(n(627),Object(p.registry)()(kt=function(t){function e(t){var n;return J()(this,e),(n=z()(this,X()(e).call(this,t))).getRegistry().register(U),n.getRegistry().register({notifications:d.notifications}),n}return $()(e,t),K()(e,[{key:"componentDidMount",value:function(){var t=this;insights.chrome.init(),insights.chrome.identifyApp("inventory"),this.appNav=insights.chrome.on("APP_NAVIGATION",function(e){return t.props.history.push("/".concat(e.navId))})}},{key:"componentWillUnmount",value:function(){this.appNav()}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.NotificationsPortal,null),o.a.createElement(St,{childProps:this.props}))}}]),e}(a.Component))||kt);xt.propTypes={history:et.a.object};var Mt=Object(p.routerParams)(Object(u.connect)()(xt)),Ft=n(342),Gt=n.n(Ft);c.a.render(o.a.createElement(u.Provider,{store:function(){F=new f.a;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Object(p.getRegistry)({},[F.getMiddleware(),Object(m.a)(),Object(d.notificationsMiddleware)()].concat(e))}(Gt.a).getStore()},o.a.createElement(s.a,{basename:"/".concat("insights","/platform/inventory")},o.a.createElement(Mt,null))),document.getElementById("root"))}});
//# sourceMappingURL=../sourcemaps/App.js.map