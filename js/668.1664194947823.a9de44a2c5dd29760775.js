"use strict";(self.webpackChunkinsights_inventory_frontend=self.webpackChunkinsights_inventory_frontend||[]).push([[668],{98436:(e,t,n)=>{n.d(t,{VU:()=>p,Zf:()=>m,VT:()=>g});var r=n(45987),a=n(4942),o=n(29439),i=n(81249),l=n(73880),s=["label"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){var n=t.split("."),r=(0,o.Z)(n,2),i=r[0],l=r[1];return e["".concat(i,".0")]=u(u({},e["".concat(i,".0")]||{}),{},(0,a.Z)({},"".concat(i,".").concat(l),!0)),e}),{})},d=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return n?(0,i.compare)((0,i.coerce)(e),(0,i.coerce)(t)):(0,i.rcompare)((0,i.coerce)(e),(0,i.coerce)(t))},f=function(e){var t=Object.entries(e.reduce((function(e,t){var n=t.label,r=t.value,a=r.split(".")[0];return void 0===e[a]&&(e[a]={groupSelectable:!0,noFilter:!0,label:"RHEL "+a,value:a+".0",items:[]}),e[a].items.push({label:n,value:r,type:"checkbox"}),e}),{}));return t.sort((function(e,t){return d(e[0],t[0],!1)})),t.map((function(e){return e[1].items.sort((function(e,t){return d(e.value,t.value,!1)})),e[1]}))},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return u(u({},e),{},{label:"Operating System",value:"os-filter",type:"group",filterValues:{selected:e.value,onChange:function(t,n){return e.onChange(t,Object.entries(n).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],i=n[1];return u(u({},e),{},(0,a.Z)({},r,Object.fromEntries(Object.entries(i).filter((function(e){return!0===e[1]})))))}),{}))},groups:f(t)}})},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object.values(e).flatMap((function(e){return Object.entries(e).filter((function(e){return!0===(0,o.Z)(e,2)[1]})).map((function(e){return(0,o.Z)(e,1)[0]}))})),a=t.filter((function(e){var t=e.value;return n.includes(t)})).map((function(e){return u({name:e.label},(0,r.Z)(e,s))}));return(null==n?void 0:n.length)>0?[{category:"Operating System",type:l.OS_CHIP,chips:a}]:[]}},20668:(e,t,n)=>{n.d(t,{g:()=>Cn});var r={};n.r(r),n.d(r,{OPERATING_SYSTEM_FILTER:()=>_t,REGISTERED_WITH_FILTER:()=>jt,STALENESS_FILTER:()=>bt,TEXT_FILTER:()=>dt,filtersReducer:()=>xt,operatingSystemFilterReducer:()=>Wt,operatingSystemFilterState:()=>Ct,registeredWithFilterReducer:()=>Dt,registeredWithFilterState:()=>St,stalenessFilterReducer:()=>Et,stalenessFilterState:()=>ht,textFilterReducer:()=>ft,textFilterState:()=>pt,useOperatingSystemFilter:()=>Bt,useRegisteredWithFilter:()=>Zt,useStalenessFilter:()=>Ot,useTagsFilter:()=>Rt,useTextFilter:()=>mt});var a=n(87462),o=n(4942),i=n(92950),l=n.n(i),s=n(75662),c=n(32384),u=n(45697),p=n.n(u),d=n(94778),f=n(9947),m=n(38424),g=n(75106),v=n(38779),y=n(47173),h=n(96733),b=n(27361),E=n.n(b),O=function(e,t){t?t():document.referrer&&document.referrer!=="".concat(document.location.origin).concat(document.location.pathname)?history.back():location.href=location.pathname.replace(new RegExp("".concat([e],".*"),"g"),"")},w=function(e,t){return E()(t,e,void 0)},T=function(e){var t=e.inventoryId,n=e.onBackToListClick;return l().createElement(f.u,{variant:f.I.full},l().createElement(m.k,{icon:h.ZP}),l().createElement(v.D,{headingLevel:"h5",size:"lg"},"System not found"),l().createElement(g.B,null,"System with ID ",t," does not exist"),l().createElement(y.zx,{variant:"primary",onClick:function(){return O(t,n)}},"Back to previous page"))};T.propTypes={inventoryId:p().string,onBackToListClick:p().func};const P=T;var S=n(45987),j=n(93433),D=n(29439),Z=n(73880),F=n(35664),k=n(56787),R=n(84457),I=n(99355),L=n(75728),C=n(28191),_=n(92298),W=n(79851),B=n(34512),A=["title"],N=function(e){var t=e.entity,n=e.loaded,r=e.actions,o=e.deleteEntity,s=e.addNotification,u=e.hideInvLink,p=e.onBackToListClick,f=e.showDelete,m=e.showInventoryDrawer,g=e.TitleWrapper,h=e.TagsWrapper,b=e.DeleteWrapper,E=e.ActionsWrapper,w=e.showTags,T=(0,c.useDispatch)(),P=(0,i.useState)(!1),N=(0,D.Z)(P,2),x=N[0],H=N[1],z=(0,i.useState)(!1),M=(0,D.Z)(z,2),U=M[0],V=M[1],G=[].concat((0,j.Z)(u?[]:[{title:"View system in Inventory",component:"a",href:"./insights/inventory/".concat(null==t?void 0:t.id)}]),(0,j.Z)(r||[]));return l().createElement(W.P,{className:"ins-c-inventory__detail--header"},l().createElement(B.J,{isFilled:!0},n?l().createElement(C.k,null,l().createElement(_.B,null,l().createElement(g,null,l().createElement(v.D,{headingLevel:"h1",size:"2xl"},t&&t.display_name))),w&&l().createElement(_.B,null,l().createElement(h,null,l().createElement(Z.TagWithDialog,{count:t&&t.tags&&t.tags.length,systemId:t&&t.id}),l().createElement(Z.TagsModal,null)))):l().createElement(F.Z,{size:F.i.md})),l().createElement(B.J,null,n?l().createElement(C.k,null,f&&l().createElement(_.B,null,l().createElement(b,null,l().createElement(y.zx,{onClick:function(){return V(!0)},variant:"secondary"},"Delete"))),(null==G?void 0:G.length)>0&&l().createElement(_.B,null,l().createElement(E,null,l().createElement(k.L,{onSelect:function(){return H(!1)},toggle:l().createElement(L.Z,{onToggle:function(e){return H(e)}},"Actions"),isOpen:x,position:I.ir.right,dropdownItems:G.map((function(e,t){var n=e.title,r=(0,S.Z)(e,A);return l().createElement(R.h,(0,a.Z)({key:t,component:"button",onClick:function(e){return r.onClick(e,r,r.key||t)}},r),n)}))}))),l().createElement(_.B,null,m&&l().createElement(y.zx,{onClick:function(){return T((0,d.wb)(!0))}},"Show more information"))):l().createElement(F.Z,{size:F.i.lg})),U&&l().createElement(Z.DeleteModal,{handleModalToggle:function(){return V(!U)},isModalOpen:U,currentSytems:t,onConfirm:function(){s({id:"remove-initiated",variant:"warning",title:"Delete operation initiated",description:"Removal of ".concat(t.display_name," started."),dismissable:!1}),o([t.id],t.display_name,(function(){return O(t.id,p)})),V(!1)}}))};N.propTypes={entity:p().object,loaded:p().bool,showDelete:p().bool,hideInvLink:p().bool,showInventoryDrawer:p().bool,showTags:p().bool,actions:p().arrayOf(p().shape({key:p().string,title:p().node,onClick:p().func})),deleteEntity:p().func,addNotification:p().func,onBackToListClick:p().func,TitleWrapper:p().elementType,TagsWrapper:p().elementType,DeleteWrapper:p().elementType,ActionsWrapper:p().elementType},N.defaultProps={actions:[],loaded:!1,hideInvLink:!1,showDelete:!1,showInventoryDrawer:!1,deleteEntity:function(){},addNotification:function(){},onBackToListClick:function(){},TitleWrapper:i.Fragment,TitleWTagsWrapperrapper:i.Fragment,DeleteWrapper:i.Fragment,ActionsWrapper:i.Fragment};const x=N;var H=n(50693),z=n(16475),M=n(62410),U=n(12385),V=n(67882),G=n(96396),K=["entity","loaded","UUIDWrapper","LastSeenWrapper"],q=function(e){var t=e.entity,n=e.loaded,r=(e.UUIDWrapper,e.LastSeenWrapper),o=(0,S.Z)(e,K);return l().createElement(H.r,(0,a.Z)({className:"ins-entity-facts"},o),l().createElement(z.P,{md:6},l().createElement(C.k,null,l().createElement(_.B,null,"UUID:"),l().createElement(_.B,{grow:{default:"grow"}},n?w("id",t)||" ":l().createElement(F.Z,{size:F.i.md,fontSize:"sm"}))),l().createElement(C.k,null,l().createElement(_.B,null,"Last seen:"),l().createElement(_.B,{grow:{default:"grow"}},n?l().createElement(r,null,U.Z?l().createElement(U.Z,{culled:w("culled_timestamp",t),staleWarning:w("stale_warning_timestamp",t),stale:w("stale_timestamp",t),currDate:new Date},l().createElement(M.Z,{date:w("updated",t),type:"exact"})):l().createElement(M.Z,{date:w("updated",t),type:"exact"})):l().createElement(F.Z,{size:F.i.md,fontSize:"sm"}),n&&(0,G._e)(w("per_reporter_staleness",t))&&l().createElement(V.Z,null)))))};q.propTypes={loaded:p().bool,entity:p().object,UUIDWrapper:p().elementType,LastSeenWrapper:p().elementType},q.defaultProps={UUIDWrapper:i.Fragment,LastSeenWrapper:i.Fragment};const X=q;var J=n(83215),Y=n(71002),$=n(14638),Q=n(28883),ee=["onTabSelect","appList"],te=function(e){var t,n,r=e.onTabSelect,o=e.appList,u=(0,S.Z)(e,ee),p=(0,s.useLocation)().search,f=(0,s.useHistory)(),m=(0,c.useDispatch)(),g=new URLSearchParams(p),v=(0,c.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.activeApps)||[]})).filter((function(e){return!1!==e.isVisible})),y=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.activeApp})),h=(0,c.useSelector)((function(e){var t=e.systemProfileStore;return null==t?void 0:t.disabledApps})),b=(null==y?void 0:y.appName)||(null==o||null===(t=o.find((function(e){var t,n=e.pageId,r=e.name;return(null==v||null===(t=v[0])||void 0===t?void 0:t.name)===(n||r)})))||void 0===t?void 0:t.name)||(null==v||null===(n=v[0])||void 0===n?void 0:n.name),E=o||v,O=(0,i.useState)(E),w=(0,D.Z)(O,2),T=w[0],P=w[1];return(0,i.useEffect)((function(){var e=g.get("appName");e&&m((0,d.Xe)(e))}),[]),(0,i.useEffect)((function(){var e=E.filter((function(e){return!(null!=h&&h.includes(e.name))}));0!==e&&void 0!==(0,Y.Z)(e)?P(e):P(E)}),[h]),l().createElement(l().Fragment,null,(null==E?void 0:E.length)>1&&l().createElement($.m,(0,a.Z)({},u,{activeKey:b,onSelect:function(e,t){var n=T.find((function(e){return e.name===t}));r?r(e,t,n):(g.set("appName",n.name),f.push({search:g.toString()})),m((0,d.Xe)(n.name))},isFilled:!0,className:"ins-c-inventory-detail__app-tabs"}),null==T?void 0:T.map((function(e,t){return l().createElement(Q.O,{key:t,eventKey:e.name,title:e.title})}))))};te.propTypes={appList:p().arrayOf(p().shape({title:p().node,name:p().string.isRequired,pageId:p().string})),onTabSelect:p().func};const ne=te;var re=n(41448),ae=n(68340),oe=n(68774),ie=n(25834),le=n(78140),se=n(32203),ce=n(70),ue=n(49734),pe=n(62394),de=n(66435);const fe=function(){return l().createElement(re.b,{variant:"info",isInline:!0,title:"Your insights-client is not reporting"},l().createElement(H.r,null,l().createElement(z.P,null,l().createElement(H.r,{hasGutter:!0},l().createElement(z.P,{span:4},l().createElement(oe.D,{style:{"--pf-c-content--LineHeight":"1","--pf-c-content--FontSize":"0.9rem"}},l().createElement(ae.x,{component:ae.q.p},"With Insights you can easly:"),l().createElement(ie.G,{component:"ul",style:{"--pf-c-content--ul--PaddingLeft":"0","--pf-c-content--ul--MarginLeft":"1rem"}},l().createElement(le.T,null,"Optimize your IT Operations"),l().createElement(le.T,null,"Manage your security and compliance"),l().createElement(le.T,null,"Resolve operational issues quickly")))),l().createElement(z.P,{span:4},l().createElement(se.Z,{isCompact:!0},l().createElement(ce.l,null,"Client setup"),l().createElement(pe.e,null,"Make sure the client is properly installed and registered"),l().createElement(ue.e,null,l().createElement(de.M5,{isCode:!0,isReadOnly:!0,variant:"expansion"},"yum install -y insights-client \ninsights-client --register")))),l().createElement(z.P,{span:4},l().createElement(se.Z,{isCompact:!0,style:{height:"100%"}},l().createElement(ce.l,null,"Configure troubleshooting"),l().createElement(pe.e,null,"Proceed with verification on the client to ensure insights-client is properly running and collecting data"),l().createElement(ue.e,null,l().createElement(y.zx,{component:"a",target:"_blank",variant:"link",href:"https://access.redhat.com/solutions/6758841",isInline:!0},"Host not reporting data to Red Hat Insights")))))),l().createElement(z.P,null,l().createElement(y.zx,{component:"a",target:"_blank",variant:"link",href:"https://console.redhat.com/security/insights",isInline:!0},"How does Red Hat keep data secure?"))))};var me=function(e){var t=e.actions,n=e.showTags,r=e.hideInvLink,a=e.onTabSelect,o=e.onBackToListClick,u=e.showDelete,p=e.appList,f=e.showInventoryDrawer,m=e.UUIDWrapper,g=e.LastSeenWrapper,v=e.TitleWrapper,y=e.TagsWrapper,h=e.DeleteWrapper,b=e.ActionsWrapper,E=e.children,O=(0,s.useParams)().inventoryId,w=(0,c.useDispatch)(),T=(0,c.useSelector)((function(e){var t=e.entityDetails;return(null==t?void 0:t.loaded)||!1})),S=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity}));return(0,i.useEffect)((function(){var e=O||location.pathname.replace(/\/$/,"").split("/").pop();S&&(null==S?void 0:S.id)===e&&T||w((0,d.A_)(e,{hasItems:!0},{showTags:n}))}),[]),l().createElement("div",{className:"ins-entity-detail"},T&&!S?l().createElement(P,{onBackToListClick:o,inventoryId:location.pathname.split("/")[location.pathname.split("/").length-1]}):l().createElement(i.Fragment,null,l().createElement(x,{entity:S,loaded:T,onBackToListClick:o,actions:t,deleteEntity:function(e,t,n){var r=(0,d.Ks)(e,t);w((0,Z.reloadWrapper)(r,n))},addNotification:function(e){return w((0,J.wN)(e))},hideInvLink:r,showInventoryDrawer:f,showDelete:u,showTags:n,TitleWrapper:v,TagsWrapper:y,DeleteWrapper:h,ActionsWrapper:b}),l().createElement(X,{loaded:T,entity:S,UUIDWrapper:m,LastSeenWrapper:g}),T&&(0,G._e)(null==S?void 0:S.per_reporter_staleness)&&l().createElement(fe,null),E),T&&S&&l().createElement(ne,{onTabSelect:a,appList:p}))};me.propTypes={hideInvLink:p().bool,hideBack:p().bool,showTags:p().bool,showDelete:p().bool,showInventoryDrawer:p().bool,actions:p().arrayOf(p().shape({title:p().node,onClick:p().func,key:p().string})),appList:p().arrayOf(p().shape({title:p().node,name:p().string,pageId:p().string})),onTabSelect:p().func,onBackToListClick:p().func,children:p().node,UUIDWrapper:p().elementType,LastSeenWrapper:p().elementType,TitleWrapper:p().elementType,TagsWrapper:p().elementType,DeleteWrapper:p().elementType,ActionsWrapper:p().elementType},me.defaultProps={actions:[],hideInvLink:!1,showTags:!1,UUIDWrapper:i.Fragment,LastSeenWrapper:i.Fragment,TitleWrapper:i.Fragment,TagsWrapper:i.Fragment,DeleteWrapper:i.Fragment,ActionsWrapper:i.Fragment};const ge=me;var ve=function(e){var t=e.componentMapper,n=e.appList,r=(0,c.useStore)(),a=(0,s.useLocation)().search,o=new URLSearchParams(a),u=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded})),p=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),d=(0,c.useSelector)((function(e){var t,r,a,i=e.entityDetails;if(null!=i&&i.loaded)return(null===(t=n||(null==i?void 0:i.activeApps))||void 0===t||null===(r=t.find)||void 0===r?void 0:r.call(t,(function(e){var t;return(null==e?void 0:e.name)===(o.get("appName")||(null==i||null===(t=i.activeApp)||void 0===t?void 0:t.appName))})))||(null==i||null===(a=i.activeApps)||void 0===a?void 0:a[0])})),f=t||(null==d?void 0:d.component);return!0!==u||p?l().createElement(i.Fragment,null,u?d&&l().createElement("div",{className:"ins-active-app-".concat(null==d?void 0:d.name)},f?l().createElement(f,{store:r,inventoryId:null==p?void 0:p.id,appName:null==d?void 0:d.name}):"missing component"):l().createElement(F.Z,{size:F.i.md})):null};ve.propTypes={componentMapper:p().element,appList:p().arrayOf(p().shape({title:p().node,name:p().string,pageId:p().string}))};const ye=ve,he=function(e){return l().createElement(i.Fragment,null,l().createElement(ge,e),l().createElement(ye,e))};var be=n(5436),Ee=n(16941),Oe=n(34241),we=n(16537),Te=n(29821),Pe=n(76770),Se=n(58409),je=n(28985),De=n(49739),Ze=n(83826),Fe=n(71710),ke=n(21039),Re=function(e){var t=e.hideInvLink,n=e.showTags,r=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.display_name})),a=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),o=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.tags}));return l().createElement(De.K,{hasGutter:!0},l().createElement(Ze.v,null,l().createElement(W.P,null,l().createElement(B.J,{isFilled:!0},l().createElement(v.D,{headingLevel:"h3",size:"xl"},r)),!t&&l().createElement(B.J,null,l().createElement("a",{className:"ins-c-entity-detail__inv-link",href:"./insights/inventory/".concat(a)},"Open in Inventory")))),n&&l().createElement(Ze.v,null,l().createElement(W.P,{hasGutter:!0},l().createElement(B.J,null,"Tags:"),l().createElement(B.J,null,l().createElement(ke.Z,null,0!==(null==o?void 0:o.length)?null==o?void 0:o.map((function(e,t){return l().createElement(Fe.A,{key:t,isReadOnly:!0},(null==e?void 0:e.namespace)&&"".concat(null==e?void 0:e.namespace,"/"),null==e?void 0:e.key,(null==e?void 0:e.value)&&"=".concat(null==e?void 0:e.value))})):"No tags")))))};Re.propTypes={hideInvLink:p().bool,showTags:p().bool},Re.defaultProps={hideInvLink:!1,showTags:!1};const Ie=Re;var Le=n(86487),Ce=n(86050),_e=n(52653),We=n(80971),Be=n(19210),Ae=function(e){var t,n,r,a,o,s,u,p,f,m,g=e.isOpened,y=(0,c.useDispatch)(),h=(0,c.useSelector)((function(e){var t=e.entityDetails.entity;return null==t?void 0:t.id})),b=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.advisor})),E=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.compliance})),O=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.cve})),w=(0,c.useSelector)((function(e){var t=e.entityDetails.systemIssues;return null==t?void 0:t.patch}));return(0,i.useEffect)((function(){h&&g&&(y((0,d.gb)(h)),y((0,d.Oj)(h)),y((0,d.k0)(h)),y((0,d.Fo)(h)))}),[h,g]),l().createElement(De.K,{hasGutter:!0,className:"ins-c-inventory__drawer-system-issues"},l().createElement(Ze.v,null,l().createElement(v.D,{headingLevel:"h4",size:"lg"},"Top system issues")),l().createElement(Ze.v,null,l().createElement(Le.a,null,l().createElement(Ce.Z,null,l().createElement(De.K,{hasGutter:!0},l().createElement(Ze.v,{className:"ins-c-inventory__drawer--title"},"Applicable CVEs"),l().createElement(Ze.v,null,null!=O&&O.isLoaded?l().createElement(Le.a,{hasGutter:!0,className:"ins-c-inventory__drawer-cve"},l().createElement(Ce.Z,{className:"ins-m-critical"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=7")},(null==O||null===(t=O.critical)||void 0===t?void 0:t.count)||0," critical")),l().createElement(Ce.Z,{className:"ins-m-important"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=5")},(null==O||null===(n=O.important)||void 0===n?void 0:n.count)||0," important")),l().createElement(Ce.Z,{className:"ins-m-moderate"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=4")},(null==O||null===(r=O.moderate)||void 0===r?void 0:r.count)||0," moderate")),l().createElement(Ce.Z,{className:"ins-m-low"},l().createElement("a",{href:"/insights/vulnerability/systems/".concat(h,"?impact=2")},(null==O||null===(a=O.low)||void 0===a?void 0:a.count)||0," low"))):l().createElement(F.Z,{size:F.i.md})))),l().createElement(Ce.Z,null,l().createElement(De.K,{hasGutter:!0},l().createElement(Ze.v,{className:"ins-c-inventory__drawer--title"},"Applicable advisories"),l().createElement(Ze.v,null,null!=w&&w.isLoaded?l().createElement(Le.a,{hasGutter:!0,className:"ins-c-inventory__drawer-patch"},l().createElement(Ce.Z,null,l().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=2")},l().createElement(_e.ZP,null)," ",null==w||null===(o=w.bug)||void 0===o?void 0:o.count)),l().createElement(Ce.Z,{className:"ins-m-moderate"},l().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=3")},l().createElement(Be.ZP,null)," ",null==w||null===(s=w.security)||void 0===s?void 0:s.count)),l().createElement(Ce.Z,null,l().createElement("a",{href:"/insights/patch/systems/".concat(h,"/?advisory_type=1")},l().createElement(We.ZP,null)," ",null==w||null===(u=w.enhancement)||void 0===u?void 0:u.count))):l().createElement(F.Z,{size:F.i.md})))))),l().createElement(Ze.v,null,null!=b&&b.isLoaded?l().createElement("span",null,l().createElement("span",{className:"ins-m-critical"},(null==b||null===(p=b.criticalCount)||void 0===p?void 0:p.length)||0," critical")," recommendations in ",l().createElement("a",{href:"./insights/advisor/systems/".concat(h)},"Advisor")):l().createElement(F.Z,{size:F.i.md})),null!=E&&E.isLoaded?(null==E?void 0:E.profiles)&&l().createElement("span",null,"System above compliance threshold for ",l().createElement("a",{href:"./insights/compliance/reports/"},null==E||null===(f=E.profiles)||void 0===f?void 0:f.length," ",(null==E||null===(m=E.profiles)||void 0===m?void 0:m.length)>1?"policies":"policy")):l().createElement(F.Z,{size:F.i.md}))};Ae.propTypes={isOpened:p().bool};const Ne=Ae;var xe=["children","hideInvLink","showTags","Wrapper","className","appName"],He=function(e){var t=e.children,n=e.hideInvLink,r=e.showTags,o=e.Wrapper,i=e.className,s=e.appName,u=(0,S.Z)(e,xe),p=(0,c.useDispatch)(),f=(0,c.useStore)(),m=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.entity})),g=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.isToggleOpened})),v=(0,c.useSelector)((function(e){var t=e.entityDetails;return null==t?void 0:t.loaded}));return l().createElement(be.dy,(0,a.Z)({className:"ins-c-inventory__drawer ".concat(i||""),isExpanded:g,onExpand:function(){return p((0,d.wb)(!0))}},u),l().createElement(Oe.s,{panelContent:l().createElement(Ee.S,null,l().createElement(Se.h,null,l().createElement(Ie,{hideInvLink:n,showTags:r}),l().createElement(Pe.x,null,l().createElement(je.c,{onClick:function(){return p((0,d.wb)(!1))}}))),l().createElement(Te.F,null,l().createElement(De.K,{className:"ins-c-inventory__drawer--content"},l().createElement(Ze.v,null,l().createElement(Ne,{isOpened:g})),l().createElement(Ze.v,{isFilled:!0,className:"ins-c-inventory__drawer--facts"},l().createElement(X,{entity:m,loaded:v}),g&&v&&o&&l().createElement(o,{store:f,appName:s})))))},l().createElement(we.s,null,t)))};He.propTypes={children:p().any,hideInvLink:p().bool,showTags:p().bool,appName:p().oneOf(["general_information","advisor","insights","compliance","vulnerabilities","patch"]),className:p().string,Wrapper:p().elementType},He.defaultProps={appName:"general_information"};const ze=He;var Me=n(454),Ue=n(68595),Ve=n(84506),Ge=n(3474),Ke=n(81945),qe=n(7887),Xe=n(13784),Je=n(23279),Ye=n.n(Je),$e=n(56645),Qe=n(85564),et=n.n(Qe),tt=n(13718),nt=["actions","expandable","noSystemsTable"],rt=["props","transforms","cellFormatters"];function at(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):at(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(e,t,n){return t.map((function(t){var r=t.key,a=t.composed,o=t.renderFunc,s=a?l().createElement(i.Fragment,null,(0,tt.Z)(a.map((function(t){return E()(e,t," ")})),e.id,e,n)):E()(e,r," ");return o?l().createElement(i.Fragment,null,o(s,e.id,e,n)):s}))},lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.actions,a=n.expandable,o=n.noSystemsTable,i=(0,S.Z)(n,nt);return 0===e.length?[{cells:[{title:o,props:{colSpan:t.length+Boolean(r),dataLabel:null}}]}]:et()(e.map((function(e,n){return[ot(ot(ot({},e),e.children&&a&&{isOpen:!!e.isOpen}),{},{cells:it(e,t,i),actionProps:{"data-ouia-component-id":"".concat(e.id,"-actions-kebab")}}),e.children&&a&&{cells:[{title:"function"==typeof e.children?e.children():e.children}],parent:2*n,fullWidth:!0}]}))).filter(Boolean)},st=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=(null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{},a=r.value;return n.filter((function(e){return e!==a}))},ct=function(e){return null==e?void 0:e.reduce((function(e,t){return e||t.toString().includes("onSort:")}),!1)};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pt={textFilter:""},dt="TEXT_FILTER",ft=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===dt&&{textFilter:r})},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[pt],t=(0,D.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)(""),o=(0,D.Z)(a,2),l=o[0],s=o[1],c=r?n.textFilter:l,u=r?function(e){return r({type:dt,payload:e})}:s,p={label:"Name",value:"name-filter",filterValues:{placeholder:"Filter by name",value:c,onChange:function(e,t){return u(t)}}},d=c.length>0?[{category:"Display name",type:Z.TEXTUAL_CHIP,chips:[{name:c}]}]:[];return[p,d,c,u]},gt=["label"];function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ht={stalenessFilter:[]},bt="STALENESS_FILTER",Et=function(e,t){var n=t.type,r=t.payload;return yt({},n===bt&&{stalenessFilter:r})},Ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[ht],t=(0,D.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)([]),o=(0,D.Z)(a,2),l=o[0],s=o[1],c=r?n.stalenessFilter:l,u=r?function(e){return r({type:bt,payload:e})}:s,p={label:"Status",value:"stale-status",type:"checkbox",filterValues:{value:c,onChange:function(e,t){return u(t)},items:Z.staleness}},d=(null==c?void 0:c.length)>0?[{category:"Status",type:Z.STALE_CHIP,chips:Z.staleness.filter((function(e){var t=e.value;return c.includes(t)})).map((function(e){return yt({name:e.label},(0,S.Z)(e,gt))}))}]:[];return[p,d,c,u]},wt=["label"];function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St={registeredWithFilter:[]},jt="REGISTERED_WITH_FILTER",Dt=function(e,t){var n=t.type,r=t.payload;return Pt({},n===jt&&{registeredWithFilter:r})},Zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[St],t=(0,D.Z)(e,2),n=t[0],r=t[1],a=(0,i.useState)([]),o=(0,D.Z)(a,2),l=o[0],s=o[1],c=r?n.registeredWithFilter:l,u=r?function(e){return r({type:jt,payload:e})}:s,p={label:"Data Collector",value:"data-collector-registered-with",type:"checkbox",filterValues:{value:c,onChange:function(e,t){return u(t)},items:Z.registered}},d=(null==c?void 0:c.length)>0?[{category:"Data Collector",type:Z.REGISTERED_CHIP,chips:Z.registered.filter((function(e){var t=e.value;return c.includes(t)})).map((function(e){return Pt({name:e.label},(0,S.Z)(e,wt))}))}]:[];return[p,d,c,u]};function Ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,o=(0,Ge.YM)(e,t,n,r,a,"system"),i=o.filter,l=o.chips,s=o.selectedTags,c=o.setValue,u=o.filterTagsBy,p=o.seFilterTagsBy;return{tagsFilter:{label:"Tags",value:"tags",type:"group",placeholder:"Filter system by tag",filterValues:kt({},i)},tagsChip:l,selectedTags:s,setSelectedTags:c,filterTagsBy:u,seFilterTagsBy:p}},It=n(98436);function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ct={operatingSystemFilter:[]},_t="OPERATING_SYSTEM_FILTER",Wt=function(e,t){var n=t.type,r=t.payload;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n===_t&&{operatingSystemFilter:r})},Bt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[Ct],r=(0,D.Z)(n,2),a=r[0],o=r[1],l=(0,i.useState)([]),s=(0,D.Z)(l,2),c=s[0],u=s[1],p=o?a.operatingSystemFilter:c,d=o?function(e){return o({type:_t,payload:Array.isArray(e)?(0,It.VU)(e):e})}:u,f=(0,It.Zf)({value:p,onChange:function(e,t){return d(t)}},t?e:[]),m=(0,It.VT)(p,t?e:[]);return[f,m,p,d]};function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xt=function(e){return function(t,n){return e.reduce((function(e,r){return Nt(Nt({},e),null==r?void 0:r(t,n))}),t)}},Ht=["total","page","perPage","filterConfig","hasItems","children","actionsConfig","activeFiltersConfig","showTags","getTags","items","sortBy","customFilters","hasAccess","bulkSelect","hideFilters","paginationProps","onRefreshData","loaded","showTagModal"];function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=function(e){var t,n=e.total,r=e.page,s=e.perPage,u=e.filterConfig,p=e.hasItems,f=e.children,m=e.actionsConfig,g=e.activeFiltersConfig,v=e.showTags,y=e.getTags,h=e.items,b=e.sortBy,E=e.customFilters,O=e.hasAccess,w=e.bulkSelect,T=e.hideFilters,P=e.paginationProps,k=e.onRefreshData,R=e.loaded,I=e.showTagModal,L=(0,S.Z)(e,Ht),C=(0,c.useDispatch)(),_=(0,i.useReducer)(xt([ft,Et,Dt,Ge.sr,Wt]),Mt(Mt(Mt(Mt(Mt({},pt),ht),St),Ge.Yn),Ct)),W=(0,c.useSelector)((function(e){return e.entities.activeFilters})),B=(0,c.useSelector)((function(e){return e.entities.allTagsLoaded})),A=(0,c.useSelector)((function(e){return e.entities.allTags})),N=(0,c.useSelector)((function(e){return e.entities.additionalTagsCount})),x=(0,c.useSelector)((function(e){return e.entities.operatingSystems})),H=(0,c.useSelector)((function(e){return e.entities.operatingSystemsLoaded})),z=mt(_),M=(0,D.Z)(z,4),U=M[0],V=M[1],G=M[2],K=M[3],q=Ot(_),X=(0,D.Z)(q,4),J=X[0],Y=X[1],$=X[2],Q=X[3],ee=Zt(_),te=(0,D.Z)(ee,4),ne=te[0],re=te[1],ae=te[2],oe=te[3],ie=Bt(x,H,_),le=(0,D.Z)(ie,4),se=le[0],ce=le[1],ue=le[2],pe=le[3],de=Rt(A,B,N,(function(){return C((0,d.Ar)(!0))}),_),fe=de.tagsFilter,me=de.tagsChip,ge=de.selectedTags,ve=de.setSelectedTags,ye=de.filterTagsBy,he=de.seFilterTagsBy,be=(0,i.useCallback)(Ye()((function(e,t){v&&!p&&O&&C((0,d.C8)(e,Mt({},t),y))}),800),[null==E?void 0:E.tags]),Ee={name:!(T.all&&!1!==T.name||T.name),stale:!(T.all&&!1!==T.stale||T.stale),registeredWith:!(T.all&&!1!==T.registeredWith||T.registeredWith),operatingSystem:!(T.all&&!1!==T.operatingSystem||T.operatingSystem),tags:!(T.all&&!1!==T.tags||T.tags)},Oe=(0,i.useCallback)((function(e){O&&(k(e),v&&!p&&C((0,d.C8)(ye,{},y)))}),[null==E?void 0:E.tags]),we=function(e){O&&Oe(e)},Te=(0,i.useCallback)(Ye()((function(e){return we(e)}),800),[null==b?void 0:b.key,null==b?void 0:b.direction]);(0,i.useEffect)((function(){var e=(0,Z.reduceFilters)(W),t=e.textFilter,n=e.tagFilters,r=e.staleFilter,a=e.registeredWithFilter,o=e.osFilter;Te(),Ee.name&&K(t),Ee.stale&&Q(r),Ee.registeredWith&&oe(a),Ee.tags&&ve(n),Ee.operatingSystem&&pe(o)}),[]);var Pe=function(e,t,n){var r=[].concat((0,j.Z)(null==W?void 0:W.filter((function(e){return!Object.prototype.hasOwnProperty.call(e,t)}))),[(0,o.Z)({},t,e)]);n({page:1,perPage:s,filters:r})},Se=r&&s&&W&&(!p||h);(0,i.useEffect)((function(){C((0,d.g6)())}),[]),(0,i.useEffect)((function(){Se&&v&&Ee.tags&&be(ye)}),[ye,null==E?void 0:E.tags]),(0,i.useEffect)((function(){Se&&Ee.name&&function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.trim(),r=null==W?void 0:W.find((function(e){return e.value===Z.TEXT_FILTER}));r?r.filter=n:null==W||W.push({value:Z.TEXT_FILTER,filter:n}),(t?Te:we)({page:1,perPage:s,filters:W})}(G,!0)}),[G]),(0,i.useEffect)((function(){Se&&Ee.stale&&Pe($,"staleFilter",Te)}),[$]),(0,i.useEffect)((function(){Se&&Ee.registeredWith&&Pe(ae,"registeredWithFilter",Te)}),[ae]),(0,i.useEffect)((function(){Se&&v&&Ee.tags&&Pe((0,Ke.Nc)(ge),"tagFilters",Te)}),[ge]),(0,i.useEffect)((function(){Se&&Ee.operatingSystem&&Pe(ue,"osFilter",Te)}),[ue]);var je=(t={},(0,o.Z)(t,Z.TEXTUAL_CHIP,(function(){return K("")})),(0,o.Z)(t,Z.TAG_CHIP,(function(e){return ve(function(e,t,n){var r,a,o=null==e||null===(r=e.chips)||void 0===r?void 0:r[0];return void 0!==(null==t||null===(a=t[null==e?void 0:e.key])||void 0===a?void 0:a[null==o?void 0:o.key])&&(t[null==e?void 0:e.key][null==o?void 0:o.key]=!1),n&&n(t),t}(e,ge,(function(e){return Pe((0,Ke.Nc)(e),"tagFilters",we)})))})),(0,o.Z)(t,Z.STALE_CHIP,(function(e){return Q(st(e,$))})),(0,o.Z)(t,Z.REGISTERED_CHIP,(function(e){return oe(st(e,ae))})),(0,o.Z)(t,Z.OS_CHIP,(function(e){return pe(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=((null==e||null===(t=e.chips)||void 0===t?void 0:t[0])||{}).value,a="".concat(r.split(".")[0],".0");return ot(ot({},n),{},(0,o.Z)({},a,Object.keys(n[a]).reduce((function(e,t){return t!==r&&(e[t]=!0),e}),{})))}(e,ue))})),t),De=[].concat((0,j.Z)(p?[]:[].concat((0,j.Z)(Ee.name?[U]:[]),(0,j.Z)(Ee.stale?[J]:[]),(0,j.Z)(Ee.operatingSystem?[se]:[]),(0,j.Z)(Ee.registeredWith?[ne]:[]),(0,j.Z)(v&&Ee.tags?[fe]:[]))),(0,j.Z)((null==u?void 0:u.items)||[]));return l().createElement(i.Fragment,null,l().createElement(qe.Z,(0,a.Z)({},L,w&&{bulkSelect:Mt(Mt({},w),{},{isDisabled:(null==w?void 0:w.isDisabled)||!O})},{className:"ins-c-inventory__table--toolbar ".concat(p||!De.length?"ins-c-inventory__table--toolbar-has-items":"")},(null==De?void 0:De.length)>0&&{filterConfig:Mt(Mt({},u||{}),{},{isDisabled:!O,items:null==De?void 0:De.map((function(e){var t,n;return Mt(Mt({},e),{},{filterValues:Mt(Mt({placeholder:(null==e||null===(t=e.filterValues)||void 0===t?void 0:t.placeholder)||"Filter by ".concat(null==e||null===(n=e.label)||void 0===n?void 0:n.toLowerCase())},null==e?void 0:e.filterValues),{},{isDisabled:!O})})}))})},O&&{activeFiltersConfig:Mt(Mt({},g||{}),{},{filters:[].concat((0,j.Z)(v&&!p&&Ee.tags?me:[]),(0,j.Z)(!p&&Ee.name?V:[]),(0,j.Z)(!p&&Ee.stale?Y:[]),(0,j.Z)(!p&&Ee.registeredWith?re:[]),(0,j.Z)(!p&&Ee.operatingSystem?ce:[]),(0,j.Z)((null==g?void 0:g.filters)||[])),onDelete:function(e,t,n){var r,a=(0,Ve.Z)(t),o=a[0],i=a.slice(1);n?(C((0,d.K5)()),Ee.name&&K(""),Ee.stale&&Q(Xe.js.staleFilter),Ee.registeredWith&&oe([]),Ee.tags&&ve({}),Ee.operatingSystem&&pe([]),C((0,d.Tv)([Xe.js])),we({page:1,filters:[Xe.js]})):null===(r=je[o.type])||void 0===r||r.call(je,o),g&&g.onDelete&&g.onDelete(e,[o].concat((0,j.Z)(i)),n,Xe.js)}})},{actionsConfig:R?m:null,pagination:R?Mt({page:r,itemCount:O?n:0,isDisabled:!O,perPage:s,onSetPage:function(e,t){return k({page:t})},onPerPageSelect:function(e,t){return k({page:1,per_page:t})}},P):l().createElement(F.Z,{size:F.i.lg})}),f),(v||Ee.tags||I)&&l().createElement(Z.TagsModal,{filterTagsBy:ye,onApply:function(e){return ve((0,Z.arrayToSelection)(e))},onToggleModal:function(){return he("")},getTags:y}))};Ut.propTypes={showTags:p().bool,getTags:p().func,hasAccess:p().bool,filterConfig:p().object,total:p().number,hasItems:p().bool,page:p().number,onClearFilters:p().func,toggleTagModal:p().func,perPage:p().number,children:p().node,pagination:p().shape({page:p().number,perPage:p().number}),actionsConfig:p().object,activeFiltersConfig:p().object,onRefreshData:p().func,customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),hideFilters:p().shape({tags:p().bool,name:p().bool,registeredWith:p().bool,stale:p().bool,operatingSystem:p().bool,all:p().bool}),paginationProps:p().object,loaded:p().bool,onRefresh:p().func,hasCheckbox:p().bool,isLoaded:p().bool,items:p().array,sortBy:p().object,bulkSelect:p().object,showTagModal:p().bool,disableDefaultColumns:p().any},Ut.defaultProps={showTags:!1,hasAccess:!0,activeFiltersConfig:{},hideFilters:{}};const Vt=Ut;var Gt=n(65550),Kt=n(2443),qt=n(1284),Xt=n(81739);const Jt=function(){return l().createElement(f.u,{variant:f.I.full},l().createElement(v.D,{headingLevel:"h5",size:"lg"},"No matching systems found"),l().createElement(g.B,null,"To continue, edit your filter settings and search again."))};var Yt,$t=n(21216);function Qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function en(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tn=function(e){var t,n,r=e.hasItems,o=e.expandable,u=e.onExpandClick,p=e.hasCheckbox,f=e.actions,m=e.variant,g=e.sortBy,v=e.tableProps,y=e.onSort,h=e.expandable,b=e.onRowClick,E=e.noDetail,O=e.noSystemsTable,w=void 0===O?l().createElement(Jt,null):O,T=e.showTags,P=e.columns,D=e.disableDefaultColumns,Z=e.loaded,F=e.columnsCounter,k=(0,c.useDispatch)(),R=(0,s.useHistory)(),I=(0,s.useLocation)(),L=(0,c.useSelector)((function(e){return e.entities.rows})),C=(0,c.useSelector)((function(e){return e.entities.columns}),(function(e,t){return e.every((function(e,n){var r=e.key;return t.findIndex((function(e){return e.key===r}))===n}))})),_=(0,i.useRef)([]);(0,i.useMemo)((function(){if("function"==typeof P)_.current=P($t.y5);else if(P){var e=Array.isArray(D)?D:[],t=$t.y5.filter((function(t){var n=t.key;return"tags"===n&&T||"tags"!==n&&!e.includes(n)}));_.current=(0,qt.mergeArraysByKey)(["boolean"==typeof D&&D?[]:t,P],"key")}else _.current=C}),[T,Array.isArray(D)?D.join():D,Array.isArray(P)?P.map((function(e){return e.key})).join():"function"==typeof P?"function":P,Array.isArray(C)?C.map((function(e){return e.key})).join():C,F]);var W=Z&&function(e,t,n,r){return null==e?void 0:e.map((function(e){var a=e.props,o=e.transforms,i=e.cellFormatters;return ot(ot({},(0,S.Z)(e,rt)),{},{transforms:[].concat((0,j.Z)(o||[]),(0,j.Z)(null!=a&&a.width?[(0,$e.cellWidth)(a.width)]:[]),(0,j.Z)(t||n.length<=0||a&&a.isStatic||null!=o&&o.includes($e.sortable)||ct(o)?[]:[$e.sortable])),cellFormatters:[].concat((0,j.Z)(i||[]),(0,j.Z)(r?[$e.expandable]:[]))})}))}(_.current,r,L,h);return delete v.RowWrapper,0===(null==L?void 0:L.length)&&delete v.actionResolver,l().createElement(l().Fragment,null,Z&&W?$e.Table&&l().createElement($e.Table,(0,a.Z)({variant:m,"aria-label":"Host inventory",cells:W,rows:lt(L,_.current,{actions:f,expandable:o,loaded:Z,onRowClick:b||function(e,t){R.push("".concat(I.pathname).concat("/"===I.pathname.slice(-1)?"":"/").concat(t))},noDetail:E,sortBy:g,noSystemsTable:w}),gridBreakPoint:(null===(t=_.current)||void 0===t?void 0:t.length)>5?$e.TableGridBreakpoint.gridLg:$e.TableGridBreakpoint.gridMd,className:"ins-c-entity-table",onSort:function(e,t,n){var r,a;!function(e,t,n,r){"action"!==t&&"health"!==t&&k((0,d.HD)({index:r,key:t,direction:n})),null==y||y({index:r,key:t,direction:n})}(0,(null==W||null===(r=W[t-Boolean(p)-Boolean(o)])||void 0===r?void 0:r.sortKey)||(null==W||null===(a=W[t-Boolean(p)-Boolean(o)])||void 0===a?void 0:a.key),n,t)},sortBy:{index:(null==W?void 0:W.findIndex((function(e){return(null==g?void 0:g.key)===e.key||"operating_system"===(null==g?void 0:g.key)&&"system_profile"===e.key})))+Boolean(p)+Boolean(o),direction:null==g?void 0:g.direction}},en(en(en({},p&&0!==(null==L?void 0:L.length)?{onSelect:function(e,t,n){var r=h?L[n/2]:L[n];k((0,d.CL)(-1===n?0:r.id,t))}}:{}),o?{onCollapse:u}:{}),f&&(null==L?void 0:L.length)>0&&{actions:f}),{isStickyHeader:!0},v),l().createElement($e.TableHeader,null),l().createElement($e.TableBody,null)):l().createElement(Xt.Z,{colSize:(null===(n=_.current)||void 0===n?void 0:n.length)||3,rowSize:15,variant:null!=m?m:v.variant}))};tn.propTypes={variant:p().oneOf(["compact"]),expandable:p().bool,onExpandClick:p().func,onSort:p().func,hasCheckbox:p().bool,showActions:p().bool,hasItems:p().bool,showHealth:p().bool,sortBy:p().shape({key:p().string,direction:p().oneOf(["asc","desc"])}),tableProps:p().shape((Yt={},(0,o.Z)(Yt,p().string,p().any),(0,o.Z)(Yt,"RowWrapper",p().elementType),(0,o.Z)(Yt,"variant",p().string),(0,o.Z)(Yt,"actionResolver",p().func),Yt)),onRowClick:p().func,showTags:p().bool,noSystemsTable:p().node,disableDefaultColumns:p().oneOfType([p().bool,p().arrayOf(p().string)]),loaded:p().bool,columnsCounter:p().number,columns:p().oneOfType([p().array,p().func]),isLoaded:p().bool,actions:p().array,noDetail:p().any},tn.defaultProps={loaded:!1,showHealth:!1,expandable:!1,hasCheckbox:!0,showActions:!1,rows:[],variant:$e.TableVariant.compact,onExpandClick:function(){},tableProps:{}};const nn=tn;var rn=n(18446),an=n.n(rn),on=n(85333),ln=n(75824),sn=["title","description"],cn=function(e){var t=e.title,n=e.description,r=(0,S.Z)(e,sn);return l().createElement(on.Z,(0,a.Z)({},r,{className:"ins-c-inventory__no--access",title:t,description:l().createElement(ln.u,{content:"inventory:*:read"},n)}))};cn.propTypes={title:p().string,description:p().node},cn.defaultProps={title:"You do not have access to Inventory",description:l().createElement("div",null,"To view your systems, you must be granted inventory access from your Organization Administrator.")};const un=cn;var pn=["children","isOpen"],dn=["showHealth","onRefreshData","ignoreRefresh"],fn=["hasAccess","onRefreshData"];function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn=function(e){return e.children,e.isOpen,(0,S.Z)(e,pn)},yn=function(e){e.showHealth;var t=e.onRefreshData,n=e.ignoreRefresh,r=(0,S.Z)(e,dn),o=(0,i.useRef)(r.items),s=(0,i.useRef)(r.sortBy);return(0,i.useEffect)((function(){r.hasItems&&t({},n)}),[]),(0,i.useEffect)((function(){r.hasItems&&!an()(o.current.map(vn),r.items.map(vn))&&(o.current=r.items,t({},n)),r.hasItems||an()(s.current,r.sortBy)||(s.current=r.sortBy,t({},n))})),l().createElement(H.r,{gutter:"sm",className:"ins-inventory-list"},l().createElement(z.P,{span:12},l().createElement(nn,(0,a.Z)({},r,{onRefreshData:t}))))},hn=l().forwardRef((function(e,t){var n=e.hasAccess,r=e.onRefreshData,o=(0,S.Z)(e,fn),i=(0,c.useSelector)((function(e){return e.entities.activeFilters}));return t&&(t.current={onRefreshData:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return r(e,t)}}),n?l().createElement(yn,(0,a.Z)({},o,{activeFilters:i,onRefreshData:r})):l().createElement("div",{className:"ins-c-inventory__no-access"},l().createElement(un,{showReturnButton:!1}))}));yn.propTypes=gn(gn({},hn.propTypes),{},{setRefresh:p().func,onRefreshData:p().func,ignoreRefresh:p().bool}),yn.defaultProps={perPage:50,page:1,ignoreRefresh:!0},hn.propTypes={showTags:p().bool,filterEntities:p().func,loadEntities:p().func,showHealth:p().bool,page:p().number,perPage:p().number,sortBy:p().shape({key:p().string,direction:p().string}),items:p().arrayOf(p().oneOfType([p().string,p().shape({id:p().string.isRequired}),p().shape({account:p().any,isOpen:p().bool,title:p().node})])),entities:p().arrayOf(p().any),customFilters:p().shape({tags:p().oneOfType([p().object,p().arrayOf(p().string)])}),getEntities:p().func,hideFilters:p().shape({tags:p().bool,name:p().bool,registeredWith:p().bool,stale:p().bool,operatingSystem:p().bool}),onRefreshData:p().func},hn.defaultProps={hasAccess:!0};const bn=hn;var En=n(44733),On=function(e){var t=e.total,n=e.page,r=e.perPage,o=e.direction,i=e.isFull,s=e.hasAccess,c=e.paginationProps,u=e.onRefreshData;return e.loaded||!s?l().createElement(En.t,(0,a.Z)({},i&&{variant:En.a.bottom},{isDisabled:!s,itemCount:t,page:n,perPage:r,dropDirection:o,onSetPage:function(e,t){return u({page:t})},onPerPageSelect:function(e,t){return u({page:1,per_page:t})}},c)):null};On.propTypes={perPage:p().number,total:p().number,page:p().number,isFull:p().bool,hasAccess:p().bool,direction:p().string,paginationProps:p().object,loaded:p().bool,onRefreshData:p().func.isRequired},On.defaultProps={total:0,isFull:!1,direction:"up",hasAccess:!0};const wn=On;var Tn=["onRefresh","children","inventoryRef","items","total","page","perPage","showTags","sortBy","customFilters","hasAccess","isFullView","getEntities","getTags","hideFilters","paginationProps","errorState","autoRefresh","isLoaded","initialLoading","ignoreRefresh","showTagModal"];function Pn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=(0,i.forwardRef)((function(e,t){var n=e.onRefresh,r=e.children,o=(e.inventoryRef,e.items),s=e.total,u=e.page,p=e.perPage,f=e.showTags,m=e.sortBy,g=e.customFilters,v=e.hasAccess,y=void 0===v||v,h=e.isFullView,b=void 0!==h&&h,E=e.getEntities,O=e.getTags,w=e.hideFilters,T=e.paginationProps,P=e.errorState,j=void 0===P?l().createElement(Kt.Z,null):P,F=e.autoRefresh,k=e.isLoaded,R=e.initialLoading,I=e.ignoreRefresh,L=e.showTagModal,C=(0,S.Z)(e,Tn),_=Boolean(o),W=(0,c.useSelector)((function(e){var t=e.entities;return null==t?void 0:t.error})),B=(0,c.useSelector)((function(e){var t=e.entities.page;return _?u:t||1}),c.shallowEqual),A=(0,c.useSelector)((function(e){var t=e.entities.perPage;return _?p:t||50}),c.shallowEqual),N={page:B,perPage:A,total:(0,c.useSelector)((function(e){var t=e.entities.total;return _?void 0!==s?s:null==o?void 0:o.length:t}),c.shallowEqual)},x=(0,c.useSelector)((function(e){var t=e.entities.sortBy;return _?m:t}),c.shallowEqual),H=(0,c.useSelector)((function(e){var t=e.entities;return _&&void 0!==k?k&&(null==t?void 0:t.loaded):null==t?void 0:t.loaded})),z=(0,i.useState)(R),M=(0,D.Z)(z,2),U=M[0],V=M[1];(0,i.useEffect)((function(){H||V()}),[H]);var G=H&&!U,K=(0,c.useDispatch)(),q=(0,c.useStore)(),X=(0,i.useRef)(function(){var e={};return{updateProps:function(t){e=t},getProps:function(){return e}}}());X.current.updateProps({page:B,perPage:A,items:o,sortBy:x,hideFilters:w,showTags:f,getEntities:E,customFilters:g,hasItems:_});var J=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,a=q.getState().entities.activeFilters,o=(null===(e=X.current)||void 0===e?void 0:e.getProps())||{},i=(null==t?void 0:t.per_page)||(null==t?void 0:t.perPage)||o.perPage,l=Sn(Sn({page:o.page,per_page:i,items:o.items,sortBy:o.sortBy,hideFilters:o.hideFilters,filters:a,hasItems:o.hasItems},o.customFilters),t);n&&!r?(K((0,d.nE)()),n(l,(function(e){K((0,Z.loadSystems)(Sn(Sn({},l),e),o.showTags,o.getEntities))}))):K((0,Z.loadSystems)(l,o.showTags,o.getEntities))},Y=(0,i.useRef)(g);return(0,i.useEffect)((function(){F&&!an()(Y.current,g)&&(J({page:1}),Y.current=g)})),!1===y&&b?l().createElement(un,{title:"This application requires Inventory permissions",description:l().createElement("div",null,"To view the content of this page, you must be granted a minimum of inventory permissions from your Organization Administrator.")}):W?j:l().createElement(i.Fragment,null,l().createElement(Vt,(0,a.Z)({},C,{customFilters:g,hasAccess:y,items:o,hasItems:_,total:N.total,page:N.page,perPage:N.perPage,showTags:f,getTags:O,onRefreshData:J,sortBy:x,hideFilters:w,paginationProps:T,loaded:G,showTagModal:L,activeFiltersConfig:Sn({deleteTitle:"Reset filters"},C.activeFiltersConfig)}),r),l().createElement(bn,(0,a.Z)({},C,{customFilters:g,hasAccess:y,ref:t,hasItems:_,items:o,page:N.page,sortBy:x,perPage:N.perPage,showTags:f,onRefreshData:J,loaded:G,ignoreRefresh:I})),l().createElement(Gt.Z,{isFooter:!0,className:"ins-c-inventory__table--toolbar"},l().createElement(wn,{hasAccess:y,isFull:!0,total:N.total,page:N.page,perPage:N.perPage,hasItems:_,onRefreshData:J,paginationProps:T,loaded:G})))}));jn.propTypes={autoRefresh:p().bool,onRefresh:p().func,children:p().node,inventoryRef:p().object,items:p().array,total:p().number,page:p().number,perPage:p().number,showTags:p().bool,getTags:p().func,sortBy:p().object,customFilters:p().any,hasAccess:p().bool,isFullView:p().bool,getEntities:p().func,hideFilters:p().object,paginationProps:p().object,errorState:p().node,isLoaded:p().bool,initialLoading:p().bool,ignoreRefresh:p().bool,showTagModal:p().bool,activeFiltersConfig:p().object};const Dn=jn;var Zn=n(95249),Fn=["isRbacEnabled"],kn=function(e){var t=e.isRbacEnabled,n=(0,S.Z)(e,Fn),r=(0,Zn.c$)(["inventory:*:*","inventory:*:read","inventory:hosts:read"]).hasAccess;return t&&!1===r?l().createElement(un,null):l().createElement(ze,n)};kn.propTypes={isRbacEnabled:p().bool};const Rn=kn;function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=Boolean(n);return Ln({InventoryTable:l().forwardRef((function(t,n){return l().createElement(Me.Z,(0,a.Z)({},t,{isRbacEnabled:o,inventoryRef:n,store:e,cmp:Dn}))})),AppInfo:l().forwardRef((function(n,r){return l().createElement(Me.Z,(0,a.Z)({hideLoader:!0},n,t,{isRbacEnabled:o,inventoryRef:r,store:e,cmp:ye}))})),InventoryDetailHead:l().forwardRef((function(n,r){return l().createElement(Me.Z,(0,a.Z)({hideLoader:!0},n,t,{isRbacEnabled:o,inventoryRef:r,store:e,showInventoryDrawer:i&&!n.hideInvDrawer,cmp:ge}))})),InventoryDetail:l().forwardRef((function(n,r){return l().createElement(Me.Z,(0,a.Z)({hideLoader:!0},n,t,{isRbacEnabled:o,inventoryRef:r,store:e,showInventoryDrawer:i,cmp:he}))})),TagWithDialog:l().forwardRef((function(t,n){return l().createElement(Me.Z,(0,a.Z)({},t,{inventoryRef:n,isRbacEnabled:o,store:e,cmp:Ue.Z}))})),DetailWrapper:function(e){return l().createElement(Rn,(0,a.Z)({Wrapper:n,isRbacEnabled:o,showInventoryDrawer:i},e))}},r)}}}]);
//# sourceMappingURL=../sourcemaps/668.576d1fa2450104728b54d52c181b6880.js.map