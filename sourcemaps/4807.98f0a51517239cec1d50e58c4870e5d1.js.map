{"version":3,"file":"js/4807.2849d1d71ae95b4bb2f4.js","mappings":"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","sources":["webpack:///./src/Utilities/AccessDenied.js","webpack:///./src/Utilities/hooks/usePromiseQueue.js","webpack:///./src/Utilities/hooks/useFetchBatched.js","webpack:///./src/components/InventoryTable/NoEntitiesFound.js","webpack:///./src/components/InventoryTable/helpers.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { NotAuthorized } from '@redhat-cloud-services/frontend-components/NotAuthorized';\nimport { Tooltip } from '@patternfly/react-core';\n\nconst AccessDenied = ({ title, description, requiredPermission, ...props }) => (\n  <NotAuthorized\n    {...props}\n    className=\"ins-c-inventory__no--access\"\n    title={title}\n    description={<Tooltip content={requiredPermission}>{description}</Tooltip>}\n  />\n);\n\nAccessDenied.propTypes = {\n  title: PropTypes.string,\n  description: PropTypes.node,\n  requiredPermission: PropTypes.string,\n};\n\nAccessDenied.defaultProps = {\n  title: 'You do not have access to Inventory',\n  description: (\n    <div>\n      To view your systems, you must be granted inventory access from your\n      Organization Administrator.\n    </div>\n  ),\n  requiredPermission: 'inventory:*:read',\n};\n\nexport default AccessDenied;\n","import { useCallback, useState } from 'react';\nimport pAll from 'p-all';\n\nconst DEFAULT_CONCURRENT_PROMISES = 2;\n\nconst usePromiseQueue = (limit = DEFAULT_CONCURRENT_PROMISES) => {\n  const [results, setResults] = useState({\n    isResolving: false,\n    promiseResults: undefined,\n  });\n\n  const resolve = useCallback(\n    async (fns) => {\n      await setResults((state) => ({\n        ...state,\n        isResolving: true,\n      }));\n      const results = await pAll(fns, {\n        concurrency: limit,\n      });\n      await setResults({\n        isResolving: false,\n        promiseResults: results,\n      });\n\n      return results;\n    },\n    [limit]\n  );\n\n  return {\n    isResolving: results.isResolving,\n    results: results.promiseResults,\n    resolve,\n  };\n};\n\nexport default usePromiseQueue;\n","import usePromiseQueue from './usePromiseQueue';\n\nconst useFetchBatched = () => {\n  const { isResolving: isLoading, resolve } = usePromiseQueue();\n\n  return {\n    isLoading,\n    fetchBatched: (fetchFunction, total, filter, batchSize = 50) => {\n      const pages = Math.ceil(total / batchSize) || 1;\n\n      const results = resolve(\n        [...new Array(pages)].map(\n          // eslint-disable-next-line camelcase\n          (_, pageIdx) => () =>\n            fetchFunction(filter, { page: pageIdx + 1, per_page: batchSize })\n        )\n      );\n\n      return results;\n    },\n  };\n};\n\nexport default useFetchBatched;\n","import React from 'react';\nimport {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  EmptyStatePrimary,\n  EmptyStateVariant,\n  Title,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport SearchIcon from '@patternfly/react-icons/dist/esm/icons/search-icon';\n\n/**\n * Empty state stable when no systems (or other entities) are found.\n */\nconst NoEntitiesFound = ({ entities, onClearAll, showIcon }) => (\n  <EmptyState\n    variant={EmptyStateVariant.full}\n    data-ouia-component-id=\"empty-state\"\n    data-ouia-component-type=\"PF4/EmptyState\"\n    data-ouia-safe={true}\n  >\n    {showIcon && <EmptyStateIcon icon={SearchIcon} />}\n    <Title headingLevel=\"h5\" size=\"lg\">\n      {`No matching ${entities} found`}\n    </Title>\n    <EmptyStateBody>\n      To continue, edit your filter settings and try again\n    </EmptyStateBody>\n    {onClearAll !== undefined && (\n      <EmptyStatePrimary>\n        <Button variant=\"link\" onClick={onClearAll}>\n          Clear all filters\n        </Button>\n      </EmptyStatePrimary>\n    )}\n  </EmptyState>\n);\n\nNoEntitiesFound.propTypes = {\n  entities: PropTypes.string,\n  onClearAll: PropTypes.func,\n  showIcon: PropTypes.bool,\n};\n\nNoEntitiesFound.defaultProps = {\n  entities: 'systems',\n  showIcon: true,\n};\n\nexport default NoEntitiesFound;\n","import React from 'react';\nimport { cellWidth, expandable, sortable } from '@patternfly/react-table';\nimport get from 'lodash/get';\nimport flatten from 'lodash/flatten';\nimport TitleColumn from './TitleColumn';\nimport { Fragment } from 'react';\nimport { Skeleton } from '@patternfly/react-core';\n\nexport const buildCells = (item, columns, extra) => {\n  return columns.map(({ key, composed, renderFunc }) => {\n    // eslint-disable-next-line new-cap\n    const data = composed ? (\n      <Fragment>\n        {TitleColumn(\n          composed.map((key) => get(item, key, ' ')),\n          item.id,\n          item,\n          extra\n        )}\n      </Fragment>\n    ) : (\n      get(item, key, ' ')\n    );\n    return renderFunc ? (\n      <Fragment>{renderFunc(data, item.id, item, extra)}</Fragment>\n    ) : (\n      data\n    );\n  });\n};\n\n//returns an array of objects representing rows for a table.\n//The function takes three parameters: \"rows\", \"columns\", and an object with several optional properties.\n//The \"rows\" parameter is an array of objects, where each object represents a single row.\n//The \"columns\" parameter is also an array of objects, where each object represents a single column in the table.\n//The third parameter is an object with several optional properties, including \"actions\",\n//\"expandable\", \"noSystemsTable\", and \"extra\". These properties are destructured from\n//the object using object destructuring syntax.\nexport const createRows = (\n  rows = [],\n  columns = [],\n  { actions, expandable, noSystemsTable, ...extra } = {}\n) => {\n  if (rows.length === 0) {\n    return [\n      {\n        cells: [\n          {\n            title: noSystemsTable,\n            props: {\n              colSpan: columns.length + Boolean(actions),\n              dataLabel: null,\n            },\n          },\n        ],\n      },\n    ];\n  }\n\n  //If the \"rows\" parameter is not empty, the function maps over each row object in the \"rows\"\n  //array and creates an array of two objects for each row. The first object represents the\n  //row itself and contains the \"cells\" property, which is an array of objects representing\n  //each cell in the row. The \"actionProps\" property is also set to an object containing the\n  //\"data-ouia-component-id\" property, which is set to a string combining the row's \"id\" property\n  //and the string \"-actions-kebab\".\n  return flatten(\n    rows.map((oneItem, key) => [\n      {\n        ...oneItem,\n        ...(oneItem.children && expandable && { isOpen: !!oneItem.isOpen }),\n        cells: buildCells(oneItem, columns, extra),\n        actionProps: {\n          'data-ouia-component-id': `${oneItem.id}-actions-kebab`,\n        },\n      },\n      //The second object represents the child row, which is only created if the \"expandable\"\n      //property is set to true and the row has a \"children\" property. This object has the\n      //\"cells\" property set to an array containing a single object representing the cell\n      //in the row. The \"parent\" property is set to the index of the parent row multiplied by 2,\n      //and the \"fullWidth\" property is set to true.\n      oneItem.children &&\n        expandable && {\n          cells: [\n            {\n              title:\n                typeof oneItem.children === 'function'\n                  ? oneItem.children()\n                  : oneItem.children,\n            },\n          ],\n          parent: key * 2,\n          fullWidth: true,\n        },\n    ])\n  ).filter(Boolean);\n};\n\nexport const onDeleteFilter = (deleted, currFilter = []) => {\n  const { value: deletedItem } = deleted?.chips?.[0] || {};\n  return currFilter.filter((item) => item !== deletedItem);\n};\n\nexport const onDeleteTag = (deleted, selectedTags, onApplyTags) => {\n  const deletedItem = deleted?.chips?.[0];\n  if (selectedTags?.[deleted?.key]?.[deletedItem?.key] !== undefined) {\n    selectedTags[deleted?.key][deletedItem?.key] = false;\n  }\n\n  onApplyTags && onApplyTags(selectedTags, false);\n  return selectedTags;\n};\n\nconst includesSortable = (transforms) =>\n  transforms?.reduce(\n    (acc, fn) => acc || fn.toString().includes('onSort:'),\n    false\n  );\n\nexport const createColumns = (columns, hasItems, rows, isExpandable) =>\n  columns?.map(({ props, transforms, cellFormatters, ...oneCell }) => ({\n    ...oneCell,\n    transforms: [\n      ...(transforms || []),\n      ...(props?.width ? [cellWidth(props.width)] : []),\n      ...(hasItems ||\n      rows.length <= 0 ||\n      (props && props.isStatic) ||\n      transforms?.includes(sortable) ||\n      includesSortable(transforms)\n        ? []\n        : [sortable]),\n    ],\n    cellFormatters: [\n      ...(cellFormatters || []),\n      ...(isExpandable ? [expandable] : []),\n    ],\n  }));\n\nexport const generateLoadingRows = (colsNumber, rowsNumber) =>\n  Array(rowsNumber).fill({\n    disableSelection: true,\n    cells: Array(colsNumber).fill({ title: <Skeleton /> }),\n  });\n"],"names":["AccessDenied","title","description","requiredPermission","props","className","content","propTypes","PropTypes","defaultProps","i","limit","useState","isResolving","promiseResults","undefined","results","setResults","resolve","useCallback","fns","state","pAll","concurrency","usePromiseQueue","isLoading","fetchBatched","fetchFunction","total","filter","batchSize","pages","Math","ceil","Array","map","_","pageIdx","page","per_page","NoEntitiesFound","entities","onClearAll","showIcon","variant","EmptyStateVariant","full","icon","SearchIcon","headingLevel","size","onClick","buildCells","item","columns","extra","key","composed","renderFunc","data","Fragment","TitleColumn","get","id","createRows","rows","actions","expandable","noSystemsTable","length","cells","colSpan","Boolean","dataLabel","flatten","oneItem","children","isOpen","actionProps","parent","fullWidth","onDeleteFilter","deleted","currFilter","deletedItem","chips","value","onDeleteTag","selectedTags","onApplyTags","includesSortable","transforms","reduce","acc","fn","toString","includes","createColumns","hasItems","isExpandable","cellFormatters","width","cellWidth","isStatic","sortable","generateLoadingRows","colsNumber","rowsNumber","fill","disableSelection"],"sourceRoot":""}