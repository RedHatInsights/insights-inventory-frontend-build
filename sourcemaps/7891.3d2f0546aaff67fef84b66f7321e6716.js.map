{"version":3,"file":"js/7891.d6b7647c33372721dbe0.js","mappings":"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","sources":["webpack:///./src/components/InventoryTabs/HybridInventoryTabs.js","webpack:///./node_modules/@redhat-cloud-services/frontend-components/esm/Main/Main.js","webpack:///./src/routes/InventoryTable.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { Tab, TabTitleText, Tabs } from '@patternfly/react-core';\nimport { hybridInventoryTabKeys } from '../../Utilities/constants';\nimport { useNavigate } from 'react-router-dom';\n\nconst HybridInventoryTabs = ({\n  ConventionalSystemsTab,\n  ImmutableDevicesTab,\n  tabPathname,\n  isImmutableTabOpen,\n  isEdgeParityEnabled,\n  accountHasEdgeImages,\n  hasConventionalSystems,\n}) => {\n  const { search } = useLocation();\n  //used to hold URL params across tab changes\n  const prevSearchRef = useRef('');\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (accountHasEdgeImages && !hasConventionalSystems) {\n      handleTabClick(undefined, hybridInventoryTabKeys.immutable.key);\n    }\n  }, [accountHasEdgeImages, hasConventionalSystems]);\n\n  const activeTab = isImmutableTabOpen\n    ? hybridInventoryTabKeys.immutable.key\n    : hybridInventoryTabKeys.conventional.key;\n\n  const handleTabClick = (_event, tabIndex) => {\n    const pathWithParams =\n      tabPathname +\n      hybridInventoryTabKeys[tabIndex].url +\n      (prevSearchRef.current || '');\n\n    if (tabIndex !== activeTab) {\n      prevSearchRef.current = search.toString();\n      navigate(pathWithParams, {\n        replace: true,\n      });\n    }\n  };\n\n  return isEdgeParityEnabled && accountHasEdgeImages ? (\n    <Tabs\n      className=\"pf-m-light pf-c-table\"\n      activeKey={activeTab}\n      onSelect={handleTabClick}\n      aria-label=\"Hybrid inventory tabs\"\n      mountOnEnter\n      unmountOnExit\n    >\n      <Tab\n        aria-label=\"Conventional tab\"\n        eventKey={hybridInventoryTabKeys.conventional.key}\n        title={<TabTitleText>Conventional (RPM-DNF)</TabTitleText>}\n      >\n        {ConventionalSystemsTab}\n      </Tab>\n      <Tab\n        aria-label=\"Immutable tab\"\n        eventKey={hybridInventoryTabKeys.immutable.key}\n        title={<TabTitleText>Immutable (OSTree)</TabTitleText>}\n      >\n        {ImmutableDevicesTab}\n      </Tab>\n    </Tabs>\n  ) : (\n    ConventionalSystemsTab\n  );\n};\n\nHybridInventoryTabs.propTypes = {\n  ConventionalSystemsTab: PropTypes.element.isRequired,\n  ImmutableDevicesTab: PropTypes.element.isRequired,\n  isImmutableTabOpen: PropTypes.bool,\n  tabPathname: PropTypes.string,\n  isEdgeParityEnabled: PropTypes.bool,\n  hasConventionalSystems: PropTypes.bool,\n  accountHasEdgeImages: PropTypes.bool,\n};\n\nHybridInventoryTabs.defaultProps = {\n  tabPathname: '/insights/inventory',\n  hasConventionalSystems: true,\n  accountHasEdgeImages: true,\n};\nexport default HybridInventoryTabs;\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from 'react';\nimport classNames from 'classnames';\nimport '../Main/main.css';\nexport var Main = function (_a) {\n    var children = _a.children, className = _a.className, props = __rest(_a, [\"children\", \"className\"]);\n    useEffect(function () {\n        console.error(\"Using deprecated \\\"Main\\\" component. Do not use it. Either remove it from your JSX or replace it by \\\"section\\\" HTML element.\");\n    }, []);\n    return (_jsx(\"section\", __assign({}, props, { className: \"\".concat(classNames(className, 'pf-l-page__main-section pf-c-page__main-section')) }, { children: children })));\n};\nexport var InternalMain = Main;\nexport default Main;\n//# sourceMappingURL=Main.js.map","import React, { Suspense, lazy, useContext, useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport './inventory.scss';\nimport {\n  PageHeader,\n  PageHeaderTitle,\n} from '@redhat-cloud-services/frontend-components/PageHeader';\nimport Main from '@redhat-cloud-services/frontend-components/Main';\nimport HybridInventoryTabs from '../components/InventoryTabs/HybridInventoryTabs';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\nimport { useLocation } from 'react-router-dom';\nimport { getSearchParams } from '../constants';\nimport useFeatureFlag from '../Utilities/useFeatureFlag';\nimport { AccountStatContext } from '../Routes';\n\nconst ConventionalSystemsTab = lazy(() =>\n  import(\n    '../components/InventoryTabs/ConventionalSystems/ConventionalSystemsTab'\n  )\n);\nconst ImmutableDevicesTab = lazy(() =>\n  import('../components/InventoryTabs/ImmutableDevices/EdgeDevicesTab')\n);\n\nconst SuspenseWrapper = ({ children }) => (\n  <Suspense\n    fallback={\n      <Bullseye>\n        <Spinner size=\"xl\" />\n      </Bullseye>\n    }\n  >\n    {children}\n  </Suspense>\n);\nconst Inventory = (props) => {\n  const { search } = useLocation();\n  const searchParams = useMemo(() => getSearchParams(), [search.toString()]);\n  const fullProps = { ...props, ...searchParams };\n  const isEdgeParityEnabled = useFeatureFlag('edgeParity.inventory-list');\n  const { hasEdgeDevices, hasConventionalSystems } =\n    useContext(AccountStatContext);\n  return (\n    <React.Fragment>\n      <PageHeader className=\"pf-m-light\">\n        <PageHeaderTitle title=\"Systems\" />\n      </PageHeader>\n      <Main>\n        <HybridInventoryTabs\n          ConventionalSystemsTab={\n            <SuspenseWrapper>\n              <ConventionalSystemsTab {...fullProps} />\n            </SuspenseWrapper>\n          }\n          ImmutableDevicesTab={\n            <SuspenseWrapper>\n              <ImmutableDevicesTab {...fullProps} />\n            </SuspenseWrapper>\n          }\n          isImmutableTabOpen={props.isImmutableTabOpen}\n          isEdgeParityEnabled={isEdgeParityEnabled}\n          accountHasEdgeImages={hasEdgeDevices}\n          hasConventionalSystems={hasConventionalSystems}\n        />\n      </Main>\n    </React.Fragment>\n  );\n};\n\nInventory.defaultProps = {\n  initialLoading: true,\n  notificationProp: PropTypes.object,\n};\nInventory.propTypes = {\n  isImmutableTabOpen: PropTypes.bool,\n};\nSuspenseWrapper.propTypes = {\n  children: PropTypes.element,\n};\nexport default Inventory;\n"],"names":["HybridInventoryTabs","_ref","ConventionalSystemsTab","ImmutableDevicesTab","tabPathname","isImmutableTabOpen","isEdgeParityEnabled","accountHasEdgeImages","hasConventionalSystems","search","useLocation","prevSearchRef","useRef","navigate","useNavigate","useEffect","handleTabClick","undefined","hybridInventoryTabKeys","immutable","key","activeTab","conventional","_event","tabIndex","pathWithParams","url","current","toString","replace","React","Tabs","className","activeKey","onSelect","mountOnEnter","unmountOnExit","Tab","eventKey","title","TabTitleText","propTypes","PropTypes","isRequired","defaultProps","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","_a","children","props","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","console","error","concat","lazy","SuspenseWrapper","Suspense","fallback","Bullseye","Spinner","size","Inventory","searchParams","useMemo","getSearchParams","fullProps","_objectSpread","useFeatureFlag","_useContext","useContext","AccountStatContext","hasEdgeDevices","PageHeader","PageHeaderTitle","Main","initialLoading","notificationProp"],"sourceRoot":""}