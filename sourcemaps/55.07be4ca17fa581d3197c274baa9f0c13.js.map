{"version":3,"file":"js/55.40e65c169b1b04a6815a.js","mappings":"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","sources":["webpack:///./src/components/SystemDetails/Advisor.js","webpack:///./src/components/SystemDetails/Compliance.js","webpack:///./src/components/SystemDetails/Patch.js","webpack:///./src/components/SystemDetails/Ros.js","webpack:///./src/components/SystemDetails/Vulnerability.js","webpack:///./src/store/entityDetails.js","webpack:///./src/store/index.js","webpack:///./src/store/permissions/reducer.js","webpack:///./src/store/reducers.js","webpack:///./src/store/systemIssues.js"],"sourcesContent":["import React from 'react';\nimport { useStore } from 'react-redux';\nimport AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\n\nconst AdvisorTab = () => {\n    return <AsyncComponent\n        appName=\"advisor\"\n        module=\"./SystemDetail\"\n        store={useStore()}\n        customItnl\n        intlProps={{\n            locale: navigator.language.slice(0, 2)\n        }}\n    />;\n};\n\nexport default AdvisorTab;\n","import React from 'react';\nimport { useStore } from 'react-redux';\nimport { useRouteMatch } from 'react-router-dom';\nimport AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\n\nconst ComplianceTab = () => {\n    const { params } = useRouteMatch('/:inventoryId');\n    return <AsyncComponent\n        appName=\"compliance\"\n        module=\"./SystemDetail\"\n        store={useStore()}\n        customItnl\n        intlProps={{\n            locale: navigator.language.slice(0, 2)\n        }}\n        inventoryId={ params.inventoryId }\n        remediationsEnabled\n    />;\n};\n\nexport default ComplianceTab;\n","import React, { useContext } from 'react';\nimport { RegistryContext } from '../../store';\nimport AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\n\nconst PatchTab = () => {\n    const { getRegistry } = useContext(RegistryContext);\n\n    return <AsyncComponent\n        appName=\"patch\"\n        module=\"./SystemDetail\"\n        getRegistry={getRegistry}\n    />;\n};\n\nexport default PatchTab;\n","import React, { useContext } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { RegistryContext } from '../../store';\nimport AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\n\nconst RosTab = () => {\n    const { params } = useRouteMatch('/:inventoryId');\n    const { getRegistry } = useContext(RegistryContext);\n\n    return <AsyncComponent\n        appName=\"ros\"\n        module=\"./SystemDetail\"\n        getRegistry={ getRegistry }\n        inventoryId={ params.inventoryId }\n    />;\n};\n\nexport default RosTab;\n","import React, { useContext } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { RegistryContext } from '../../store';\nimport AsyncComponent from '@redhat-cloud-services/frontend-components/AsyncComponent';\n\nconst VulnerabilityTab = () => {\n    const { params } = useRouteMatch('/:inventoryId');\n    const { getRegistry } = useContext(RegistryContext);\n\n    return <AsyncComponent\n        appName=\"vulnerability\"\n        module=\"./SystemDetail\"\n        getRegistry={getRegistry}\n        customItnlProvider\n        entity={ { id: params.inventoryId } }\n    />;\n};\n\nexport default VulnerabilityTab;\n","import { ACTION_TYPES, APPLICATION_SELECTED, TOGGLE_TAG_MODAL, TOGGLE_DRAWER } from './action-types';\nimport { showTags, toggleTagModalReducer } from './entities';\nimport systemIssuesReducer from './systemIssues';\nexport const entityDefaultState = { loaded: false };\n\nfunction entityDetailPending(state) {\n    return {\n        ...state,\n        loaded: false\n    };\n}\n\nfunction entityDetailLoaded(state, { payload }) {\n    return {\n        ...state,\n        loaded: true,\n        entity: payload.results[0]\n    };\n}\n\nfunction onApplicationSelected(state, { payload }) {\n    return {\n        ...state,\n        activeApp: payload\n    };\n}\n\nfunction toggleDrawer(state, { payload }) {\n    return  {\n        ...state,\n        isToggleOpened: payload?.isOpened\n    };\n}\n\nfunction showTagsPending(state) {\n    return {\n        ...state,\n        tagModalLoaded: false\n    };\n}\n\nexport default {\n    [ACTION_TYPES.LOAD_ENTITIES_PENDING]: () => entityDefaultState,\n    [ACTION_TYPES.LOAD_ENTITY_PENDING]: entityDetailPending,\n    [ACTION_TYPES.LOAD_ENTITY_FULFILLED]: entityDetailLoaded,\n    [APPLICATION_SELECTED]: onApplicationSelected,\n    [ACTION_TYPES.LOAD_TAGS]: showTags,\n    [ACTION_TYPES.LOAD_TAGS_PENDING]: showTagsPending,\n    [ACTION_TYPES.LOAD_TAGS_FULFILLED]: showTags,\n    [TOGGLE_TAG_MODAL]: toggleTagModalReducer,\n    [TOGGLE_DRAWER]: toggleDrawer,\n    ...systemIssuesReducer\n};\n","\nimport { createContext } from 'react';\nimport MiddlewareListener from '@redhat-cloud-services/frontend-components-utilities/MiddlewareListener';\nimport { ReducerRegistry } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport promise  from 'redux-promise-middleware';\nexport { default as reducers, tableReducer, entitesDetailReducer } from './reducers';\n\nexport const RegistryContext = createContext({\n    getRegistry: () => {}\n});\n\nlet middlewareListener;\n\nexport function init (...middleware) {\n    middlewareListener = new MiddlewareListener();\n    return new ReducerRegistry(\n        {},\n        [\n            middlewareListener.getMiddleware(),\n            promise,\n            notificationsMiddleware({\n                errorDescriptionKey: ['detail', 'stack']\n            }),\n            ...middleware\n        ]\n    );\n}\n\nexport function addNewListener ({ actionType, callback }) {\n    return middlewareListener.addNew({\n        on: actionType,\n        callback\n    });\n}\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { ACTION_TYPES } from '../action-types';\n\nconst loadWritePermissionsPending = (state) => ({\n    ...state,\n    loadingFailed: false,\n    loading: true,\n    writePermissions: undefined\n});\n\nconst loadWritePermissionsFulfilled = (state, { payload }) => ({\n    ...state,\n    loading: false,\n    loadingFailed: false,\n    writePermissions: payload.writePermissions\n});\n\nconst loadWritePermissionsFailed = (state) => ({\n    ...state,\n    loading: false,\n    loadingFailed: true\n});\n\nconst defaultPermissionState = {\n    loading: true,\n    writePermissions: false,\n    loadingFailed: false\n};\n\nconst permissionsReducer = applyReducerHash(\n    {\n        [`${ACTION_TYPES.LOAD_WRITE_PERMISSIONS}_PENDING`]: loadWritePermissionsPending,\n        [`${ACTION_TYPES.LOAD_WRITE_PERMISSIONS}_FULFILLED`]: loadWritePermissionsFulfilled,\n        [`${ACTION_TYPES.LOAD_WRITE_PERMISSIONS}_FAILED`]: loadWritePermissionsFailed\n    },\n    defaultPermissionState\n);\n\nexport default permissionsReducer;\n","import {\n    INVENTORY_ACTION_TYPES,\n    ACTION_TYPES,\n    SELECT_ENTITY,\n    SET_INVENTORY_FILTER,\n    SET_PAGINATION\n} from './action-types';\nimport systemProfileStore from './systemProfileStore';\nimport {\n    ComplianceTab,\n    VulnerabilityTab,\n    AdvisorTab,\n    GeneralInformationTab,\n    PatchTab,\n    RosTab\n} from '../components/SystemDetails';\nimport { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { mergeArraysByKey } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport entitiesReducer, { defaultState as entitiesDefault } from './entities';\nimport entityDetailsReducer, { entityDefaultState as entityDefault } from './entityDetails';\n\nexport { entitiesReducer, entityDetailsReducer };\n\nimport permissionsReducer from './permissions/reducer';\n\nconst defaultState = { loaded: false, selected: new Map() };\n\nfunction entitiesLoaded(state, { payload }) {\n    return {\n        ...state,\n        rows: mergeArraysByKey([state.rows, payload.results]),\n        entities: mergeArraysByKey([state.entities, payload.results])\n    };\n}\n\nfunction updateEntity(state, { meta }) {\n    return {\n        ...state,\n        rows: state.rows.map((row) => row.id === meta?.id ? ({\n            ...row,\n            // eslint-disable-next-line camelcase\n            display_name: meta?.value\n        }) : row)\n    };\n}\n\nfunction entityLoaded(state) {\n    return {\n        ...state,\n        loaded: true,\n        activeApps: [\n            { title: 'General information', name: 'general_information', component: GeneralInformationTab },\n            { title: 'Advisor', name: 'advisor', component: AdvisorTab },\n            {\n                title: 'Vulnerability',\n                name: 'vulnerabilities',\n                component: VulnerabilityTab\n            },\n            {\n                title: 'Compliance',\n                name: 'compliance',\n                component: ComplianceTab\n            },\n            {\n                title: 'Patch',\n                name: 'patch',\n                component: PatchTab\n            },\n            {\n                title: 'Resource Optimization',\n                name: 'ros',\n                isVisible: false,\n                component: RosTab\n            }\n        ].filter(Boolean)\n    };\n}\n\nfunction entitySelected(state, { payload }) {\n    const selected = state.selected || (new Map());\n    if (payload.selected) {\n        if (payload.id === 0) {\n            state.rows.forEach(row => selected.set(row.id, row));\n        } else {\n            const selectedRow = state.rows && state.rows.find(({ id }) => id === payload.id);\n            selected.set(payload.id, { ...selectedRow || {}, id: payload.id });\n        }\n    } else {\n        if (payload.id === 0) {\n            state.rows.forEach(row => selected.delete(row.id));\n        } else if (payload.id === -1) {\n            selected.clear();\n        } else {\n            selected.delete(payload.id);\n        }\n    }\n\n    return {\n        ...state,\n        selected: new Map(selected)\n    };\n}\n\nfunction resourceOptTabVisibility(state, { payload }) {\n    return {\n        ...state,\n        activeApps: state.activeApps?.map((entity) => entity.name === 'ros' ? ({\n            ...entity,\n            isVisible: payload\n        }) : entity\n        )\n    };\n}\n\nfunction entityDeleted(state, { meta }) {\n    const selected = state.selected || (new Map());\n    meta.systems.forEach(id => selected.delete(id));\n\n    return {\n        ...state,\n        selected: new Map(selected)\n    };\n}\n\nfunction onEntitiesLoaded(state, { payload, meta }) {\n    if (meta?.lastDateRequest < state?.lastDateRequest) {\n        return state;\n    }\n\n    return {\n        ...state,\n        rows: mergeArraysByKey([state.rows, payload.results.map(result => {\n            return {\n                ...result,\n                selected: state.selected && state.selected.has(result.id)\n            };\n        })])\n    };\n}\n\nfunction onSetFilter(state, { payload }) {\n    return {\n        ...state,\n        activeFilters: payload.filtersList\n    };\n}\n\nfunction onSetPagination(state, { payload }) {\n    const perPage = parseInt(payload.perPage, 10);\n    const page = parseInt(payload.page, 10);\n    return {\n        ...state,\n        perPage: isNaN(perPage) ? 50 : perPage,\n        page: isNaN(page) ? 1 : page\n    };\n}\n\nlet reducers = {\n    notifications: notificationsReducer,\n    systemProfileStore,\n    permissionsReducer\n};\n\nexport const tableReducer = applyReducerHash(\n    {\n        [ACTION_TYPES.GET_ENTITIES_FULFILLED]: entitiesLoaded,\n        [INVENTORY_ACTION_TYPES.LOAD_ENTITIES_FULFILLED]: onEntitiesLoaded,\n        [`${ACTION_TYPES.REMOVE_ENTITY}_FULFILLED`]: entityDeleted,\n        [SELECT_ENTITY]: entitySelected,\n        FILTER_SELECT: (state) => ({ ...state, selected: {} }),\n        [SET_INVENTORY_FILTER]: onSetFilter,\n        [SET_PAGINATION]: onSetPagination,\n        [ACTION_TYPES.UPDATE_DISPLAY_NAME_FULFILLED]: updateEntity\n    },\n    defaultState\n);\n\nexport const entitesDetailReducer = () => applyReducerHash(\n    {\n        [INVENTORY_ACTION_TYPES.LOAD_ENTITY_FULFILLED]: entityLoaded,\n        [INVENTORY_ACTION_TYPES.LOAD_SYSTEM_PROFILE_FULFILLED]: resourceOptTabVisibility\n    },\n    defaultState\n);\n\nexport function mergeWithEntities(additionalReducers = (state) => state, defaultState = {}) {\n    return ({\n        entities: (state, payload) => ({\n            ...additionalReducers({\n                ...applyReducerHash({\n                    ...entitiesReducer\n                }, { ...entitiesDefault, ...defaultState })(state, payload)\n            }, payload)\n        })\n    });\n}\n\nexport function mergeWithDetail(additionalReducers = (state) => state, defaultState = {}) {\n    return ({\n        entityDetails: (state, payload) => ({\n            ...additionalReducers({\n                ...applyReducerHash({\n                    ...entityDetailsReducer\n                }, { ...entityDefault, ...defaultState })(state, payload)\n            }, payload)\n        })\n    });\n}\n\nexport default reducers;\n","/* eslint-disable camelcase */\nimport { SYSTEM_ISSUE_TYPES } from './action-types';\n\nexport function advisor(state, { payload }) {\n    return {\n        ...state,\n        systemIssues: {\n            ...state?.systemIssues,\n            advisor: {\n                isLoaded: true,\n                criticalCount: payload?.filter(item => item?.total_risk >= 4)\n            }\n        }\n    };\n}\n\nexport function cve(state, { payload }) {\n    return {\n        ...state,\n        systemIssues: {\n            ...state?.systemIssues,\n            cve: {\n                isLoaded: true,\n                critical: {\n                    count: payload?.critical?.meta?.total_items || 0\n                },\n                moderate: {\n                    count: payload?.moderate?.meta?.total_items || 0\n                },\n                important: {\n                    count: payload?.important?.meta?.total_items || 0\n                },\n                low: {\n                    count: payload?.low?.meta?.total_items || 0\n                }\n            }\n        }\n    };\n}\n\nexport function patch(state, { payload }) {\n    return {\n        ...state,\n        systemIssues: {\n            ...state?.systemIssues,\n            patch: {\n                isLoaded: true,\n                bug: {\n                    count: payload?.data?.attributes?.rhba_count || 0\n                },\n                enhancement: {\n                    count: payload?.data?.attributes?.rhea_count || 0\n                },\n                security: {\n                    count: payload?.data?.attributes?.rhsa_count || 0\n                }\n            }\n        }\n    };\n}\n\nexport function compliance(state, { payload }) {\n    return {\n        ...state,\n        systemIssues: {\n            ...state?.systemIssues,\n            compliance: {\n                isLoaded: true,\n                profiles: payload?.data?.system?.profiles\n            }\n        }\n    };\n}\n\nexport function isPending(state, type) {\n    return {\n        ...state,\n        systemIssues: {\n            ...state?.systemIssues,\n            ...type && { [type]: { isLoaded: false } }\n        }\n    };\n}\n\nexport default {\n    [SYSTEM_ISSUE_TYPES.LOAD_ADVISOR_RECOMMENDATIONS_PENDING]: (state) => isPending(state, 'advisor'),\n    [SYSTEM_ISSUE_TYPES.LOAD_APPLICABLE_CVES_PENDING]: (state) => isPending(state, 'cve'),\n    [SYSTEM_ISSUE_TYPES.LOAD_APPLICABLE_ADVISORIES_PENDING]: (state) => isPending(state, 'patch'),\n    [SYSTEM_ISSUE_TYPES.LOAD_COMPLIANCE_POLICIES_PENDING]: (state) => isPending(state, 'compliance'),\n    [SYSTEM_ISSUE_TYPES.LOAD_ADVISOR_RECOMMENDATIONS_FULFILLED]: advisor,\n    [SYSTEM_ISSUE_TYPES.LOAD_APPLICABLE_CVES_FULFILLED]: cve,\n    [SYSTEM_ISSUE_TYPES.LOAD_APPLICABLE_ADVISORIES_FULFILLED]: patch,\n    [SYSTEM_ISSUE_TYPES.LOAD_COMPLIANCE_POLICIES_FULFILLED]: compliance\n};\n"],"names":["appName","module","store","useStore","customItnl","intlProps","locale","navigator","language","slice","params","useRouteMatch","inventoryId","remediationsEnabled","getRegistry","useContext","RegistryContext","customItnlProvider","entity","id","entityDefaultState","loaded","ACTION_TYPES","state","payload","results","APPLICATION_SELECTED","activeApp","showTags","tagModalLoaded","TOGGLE_TAG_MODAL","toggleTagModalReducer","TOGGLE_DRAWER","isToggleOpened","isOpened","systemIssuesReducer","middlewareListener","createContext","init","MiddlewareListener","middleware","ReducerRegistry","getMiddleware","promise","notificationsMiddleware","errorDescriptionKey","applyReducerHash","loadingFailed","loading","writePermissions","undefined","defaultState","selected","Map","entityLoaded","activeApps","title","name","component","GeneralInformationTab","AdvisorTab","VulnerabilityTab","ComplianceTab","PatchTab","isVisible","RosTab","filter","Boolean","resourceOptTabVisibility","map","reducers","notifications","notificationsReducer","systemProfileStore","permissionsReducer","tableReducer","rows","mergeArraysByKey","entities","INVENTORY_ACTION_TYPES","meta","lastDateRequest","result","has","systems","forEach","delete","SELECT_ENTITY","row","set","selectedRow","find","clear","SET_INVENTORY_FILTER","activeFilters","filtersList","SET_PAGINATION","perPage","parseInt","page","isNaN","display_name","value","entitesDetailReducer","mergeWithEntities","additionalReducers","entitiesReducer","entitiesDefault","mergeWithDetail","entityDetails","entityDetailsReducer","entityDefault","isPending","type","systemIssues","isLoaded","SYSTEM_ISSUE_TYPES","advisor","criticalCount","item","total_risk","cve","critical","count","total_items","moderate","important","low","patch","bug","data","attributes","rhba_count","enhancement","rhea_count","security","rhsa_count","compliance","profiles","system"],"sourceRoot":""}