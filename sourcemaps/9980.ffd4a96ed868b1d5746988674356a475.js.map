{"version":3,"file":"js/9980.xxxxxxxxxxxxxxxxxxxx.js","mappings":";+RAgBMA,EAAc,SAAH,GAAqE,IAC9EC,EADeC,EAAiB,EAAjBA,kBAAmBC,EAAW,EAAXA,YAAaC,EAAa,EAAbA,cAAeC,EAAS,EAATA,UAE9DC,EAAc,SAQlB,OAPIC,MAAMC,QAAQJ,IACdH,EAA0C,IAAzBG,EAAcK,OAAeL,EAAc,GAAGM,aAAe,GAAH,OAAMN,EAAcK,OAAM,YACrGH,EAAuC,IAAzBF,EAAcK,OAAeH,EAAc,WAEzDL,EAAiBG,EAAcM,aAG5B,kBAAC,IAAK,CACTC,QAAQ,QACRC,MAAM,wBACNC,UAAU,8DACVC,OAAO,yBACPC,OAAQZ,EACRa,QAAS,kBAAMd,GAAkB,EAAM,EACvCe,SAAUC,SAASC,uBAAuB,aAAa,IAAMD,SAASE,MAEtE,kBAAC,IAAK,CAACC,WAAS,GACZ,kBAAC,IAAS,KAAC,kBAAC,KAAuB,CAACC,KAAK,KAAKT,UAAU,iBACxD,kBAAC,IAAS,CAACU,UAAQ,GACf,kBAAC,IAAK,CAACF,WAAS,GACZ,kBAAC,IAAS,KACLpB,EAAe,6BACCuB,SAASC,KAAK,2DAC1BnB,EAAY,sCAErB,kBAAC,IAAS,KAAC,wCAC+BA,EAAY,gCAEtD,kBAAC,IAAS,KACN,kBAAC,KAAa,KAAC,oCAK/B,kBAAC,IAAK,CAACe,WAAS,GACZ,kBAAC,IAAS,KACN,kBAAC,KAAM,CACHV,QAAQ,SACRG,OAAO,2BACPY,QAASrB,GACZ,UAGD,kBAAC,KAAM,CACHM,QAAQ,OACRG,OAAO,0BACPY,QAAS,kBAAMxB,GAAkB,EAAM,GAC1C,YAMjB,EAEMyB,EAAmBC,IAAAA,MAAgB,CACrCC,GAAID,IAAAA,OACJE,YAAaF,IAAAA,SAGjB5B,EAAY+B,UAAY,CACpB5B,YAAayB,IAAAA,KACbxB,cAAewB,IAAAA,UAAoB,CAACD,EAAkBC,IAAAA,QAAkBD,KACxEzB,kBAAmB0B,IAAAA,KACnBvB,UAAWuB,IAAAA,MAGf5B,EAAYgC,aAAe,CACvB7B,aAAa,EACbC,cAAe,CAAC,EAChBF,kBAAmB,WAAe,EAClCG,UAAW,WAAe,GAG9B,sICvFM4B,EAAgB,SAAH,OAAMC,EAAK,EAALA,MAAOC,EAAQ,EAARA,SAAUC,EAAQ,EAARA,SAAQ,OAC9C,0BACIV,QAAS,SAACW,GAAC,OAAKA,EAAEC,iBAAiB,EACnCzB,UAAU,6BACV,mCAA2BuB,EAAQ,gBAEnC,kBAAC,IAAQ,CAACF,MAAOA,EAAOK,WAAa,kBAAMJ,EAASC,EAAUF,EAAM,IACjE,EAGXD,EAAcF,UAAY,CACtBG,MAAON,IAAAA,OACPO,SAAUP,IAAAA,KACVQ,SAAUR,IAAAA,QAYd,SAAeY,EAAAA,EAAAA,UAAQ,iBAAO,CAAC,CAAC,IATR,SAACC,GAAQ,MAAM,CACnCN,SAAU,SAACC,EAAUF,GACbE,IACAK,GAASC,EAAAA,EAAAA,KAAe,IACxBD,GAASN,EAAAA,EAAAA,IAASC,OAAUO,OAAWA,EAAWT,IAE1D,EACH,GAED,CAAoDD,8KC3B9CW,EAAgB,SAAH,GAAyE,IAA9DC,EAAS,EAAdC,IAAgBC,EAAa,EAAbA,cAAeC,EAAY,EAAZA,aAAcC,EAAK,EAALA,MAAUC,GAAK,YACzEC,GAAcC,EAAAA,EAAAA,IAA0B,CAC5C,mBACA,yBAFID,UAKR,OACI,kBAACN,GAAS,UACFK,EACAF,GAAgB,CAChBK,IAAKL,GACR,CACDD,cAAeA,EACfI,WAAWJ,GAAgBI,EAC3BF,MAAOA,IAGnB,EAEAL,EAAcb,UAAY,CACtBe,IAAKlB,IAAAA,IACLoB,aAAcpB,IAAAA,IACdqB,MAAOrB,IAAAA,OACP0B,aAAc1B,IAAAA,KACdmB,cAAenB,IAAAA,MAGnB,05BC3BO,IAAM2B,EAAc,iBACdC,EAAe,UACfC,EAAW,OACXC,EAAa,YACbC,EAAkB,kBAClBC,EAAU,mBACVC,EAAkB,gBAClBC,EAAoB,uBACpBC,EAAiB,YACjBC,EAAkB,aAExB,SAASC,EAAaC,GACzB,IAAMC,EAAO,IAAIC,KAEjB,OADAD,EAAKE,QAAQF,EAAKG,UAAYJ,GACvBC,EAAKI,aAChB,CAEO,IAAMC,EAAY,CACrB,CAAEC,MAAO,QAASC,MAAO,SACzB,CAAED,MAAO,QAASC,MAAO,SACzB,CAAED,MAAO,gBAAiBC,MAAO,iBACjC,CAAED,MAAO,UAAWC,MAAO,YAGlBC,GAAc,IAAIP,MAAOG,cACzBK,EAAgB,CACzB,CACIF,MAAO,CAAEG,aAAcZ,EAAa,GAAIa,WAAYH,EAAaI,KAAM,UACvEN,MAAO,4BACX,CACIC,MAAO,CAAGI,WAAYb,EAAa,GAAIc,KAAM,UAC7CN,MAAO,uBAGX,CACIC,MAAO,CAAEI,WAAYb,EAAa,GAAIc,KAAM,SAC5CN,MAAO,wBAEX,CACIC,MAAO,CAAEI,WAAYb,EAAa,IAAKc,KAAM,UAC7CN,MAAO,yBAEX,CACIC,MAAO,CAAEI,WAAYb,EAAa,IAAKc,KAAM,UAC7CN,MAAO,yBAEX,CACIC,MAAO,CAAEK,KAAM,UACfN,MAAO,WAGFO,EAAa,CACtB,CAAEP,MAAO,kBAAmBC,MAAO,SAAUO,OAAQ,cAAeC,QAAS,eAC7E,CAAET,MAAO,uBAAwBC,MAAO,eACpCO,OAAQ,0BAA2BC,QAAS,2BAChD,CAAET,MAAO,sBAAuBC,MAAO,UACvC,CAAED,MAAO,gCAAiCC,MAAO,YAExCS,GAAmBC,EAAAA,EAAAA,eAAc,CAAC,GAElCC,EAAc,CACvB,CAAEZ,MAAO,SAAUC,MAAO,WAC1B,CAAED,MAAO,WAAYC,MAAO,QAGnBY,EAAsB,CAC/B,CAAEb,MAAO,MAAOC,MAAO,OACvB,CAAED,MAAO,MAAOC,MAAO,OACvB,CAAED,MAAO,aAAcC,MAAO,eAG3B,SAASa,IAAiD,IAAtBC,EAAY,UAAH,6CAAG,SACnD,OADmC,UAAH,6CAAG,IACrBC,QAAO,SAACC,EAAUC,GAAK,cAC9BD,GAAQ,cACVC,EAAMC,IAAMD,EAAMH,GAAWC,QAAO,SAACI,EAAKC,GAAI,cAAWD,GAAG,cAAGC,EAAKF,IAAM,CACvEG,YAAY,EACZJ,MAAOG,EAAKH,MACZK,KAAM,CACFC,KAAM,CACFC,IAAK,CACDN,IAAKE,EAAKK,OACVzB,MAAOoB,EAAKpB,WAI3B,GAAK,CAAC,IAAE,GACT,CAAC,EACT,CAEO,IAAM0B,EAAmB,SAACC,GAAQ,OAAKA,EAASZ,QAAO,SAACI,EAAK,GAAF,gBAAIS,MAAK,GAAGV,EAAG,KAAElB,EAAK,KAAE6B,EAAS,mBAC5FV,GAAG,cACLU,EAAS,OACHV,GAAIU,aAAS,EAATA,EAAW3F,QAAS2F,IAAU,eACpCX,aAAG,EAAHA,EAAKhF,QAASgF,EAAM,CACjBG,YAAY,EACZJ,MAAO,CAAEjB,OAAO6B,aAAS,EAATA,EAAW3F,QAAS2F,EAAW9B,OAAO8B,aAAS,EAATA,EAAW3F,QAAS2F,GAC1EP,KAAM,CACFtB,OAAOkB,aAAG,EAAHA,EAAKhF,QAASgF,EACrBK,KAAM,CAAEC,IAAK,CAAEN,KAAKA,aAAG,EAAHA,EAAKhF,QAASgF,EAAKlB,OAAOA,aAAK,EAALA,EAAO9D,QAAS8D,SAErE,GAEL,CAAC,EAAE,EAEA,SAAS8B,IACZ,OADoC,UAAH,6CAAG,IACrBf,QAAO,SAACI,EAAKY,GACxB,GAAIA,EAAU/B,QAAUnB,EACpB,OAAO,EAAP,KAAYsC,GAAG,IAAEa,WAAYD,EAAUE,SACpC,GAAI,eAAgBF,EACvB,OAAO,EAAP,KACOZ,GAAG,IACNe,WAAYrB,EAAckB,EAAUG,cAI5C,IAAMC,EAAW,CAAC,cAAe,uBAAwB,WAAY,aAAc,qBAC/E,iBAAkB,kBAAmB,IACxCC,MAAK,SAAAd,GAAI,OAAIe,OAAOC,KAAKP,GAAWQ,SAASjB,EAAK,IAEnD,OAAO,EAAP,KACOH,GACAgB,IAAY,UAAGA,EAAWJ,EAAUI,IAE/C,GAAG,CACCH,WAAY,GACZE,WAAY,CAAC,GAErB,CAEO,IAAMM,EAAgB,SAACC,EAAOC,GAMjC,OALAD,EAAME,QAAQC,MAAK,SAAAC,GAEf,OADAH,IACOG,CACX,IAEOJ,CACX,EAEaK,EAAU,SAACC,GAAK,OAAMA,GAA2B,KAAlBA,aAAK,EAALA,EAAOhH,OAAY,EAElDiH,EAAiB,SAACC,EAC3BC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,EACAC,GAAc,MACZ,EACDX,EAAQG,IAAW,CAChBS,YAAa7H,MAAMC,QAAQmH,GAAUA,EAAS,CAACA,KAElDH,EAAQK,IAAe,CACpBjB,WAAYrG,MAAMC,QAAQqH,GAAcA,EAAa,CAACA,KAEzDL,EAAQI,IAAW,CAChBS,qBAAsB9H,MAAMC,QAAQoH,GAAUA,EAAS,CAACA,KAE3DJ,EAAQM,IAAiB,CACtBpD,MAAO,iBACPiC,OAAQpG,MAAMC,QAAQsH,GAAgBA,EAAa,GAAKA,KAE1DN,EAAQG,KAAYH,EAAQK,KAAgBL,EAAQM,KAAkBN,EAAQI,IAAW,CACvFS,qBAAsB,MAExBb,EAAQI,KAAYJ,EAAQK,KAAgBL,EAAQM,KAAkBN,EAAQG,IAAW,CACvFS,YAAa,KAEhBZ,EAAQO,IAAoB,CACzBO,SAAU/H,MAAMC,QAAQuH,GAAmBA,EAAkB,CAACA,KAEjEP,EAAQQ,IAAe,CACpBA,WAAYzH,MAAMC,QAAQwH,GAAcA,EAAa,CAACA,KAEzDR,EAAQW,IAAmB,CACxBA,eAAgB5H,MAAMC,QAAQ2H,GACxBvD,EAAc+B,QAAO,SAACX,GAAI,OAAIA,EAAKtB,MAAMK,OAASoD,EAAe,EAAE,IAAE,GAAGzD,MAAQ,CAACyD,KAE1FX,EAAQS,IAAuB,CAC5BA,mBAAoB1H,MAAMC,QAAQyH,GAAsBA,EAAqB,CAACA,KAEjFT,EAAQU,IAAoB,CACzBA,gBAAiB3H,MAAMC,QAAQ0H,GAAmBA,EAAkB,CAACA,KAE3EvB,OAAO4B,QAAQ,EAEJC,EAAsB,WAG/B,OAFsBpF,EAAAA,EAAAA,IAA0BqF,EAAAA,IAAxCtF,SAGZ,EAEauF,EAAkB,CAAC,QAAS,QAAS,gBAAiB,69CC5LnE,IAAMC,EAAY,SAAH,GAKT,IAJFC,EAAY,EAAZA,aACAC,EAAa,EAAbA,cACAC,EAAO,EAAPA,QACAC,EAAO,EAAPA,QAEMtG,GAAWuG,EAAAA,EAAAA,eACjB,GAAgCC,EAAAA,EAAAA,UAAS,IAAG,eAArCC,EAAQ,KAAEC,EAAW,KAC5B,GAAgCF,EAAAA,EAAAA,UAAS,IAAG,eAArC5C,EAAQ,KAAE+C,EAAW,KAC5B,GAA8CH,EAAAA,EAAAA,UAAS,CACnDI,QAAS,GACTC,KAAM,IACR,eAHKC,EAAe,KAAEC,EAAkB,KAKpCC,GAAgBC,EAAAA,EAAAA,cAAY,kBAAGC,EAAQ,EAARA,SAAUC,EAAa,EAAbA,cAAa,OAAiC,QAAjC,EAAQD,GAAYC,SAAa,aAA1B,EAA6BH,aAAa,IAEvGI,GAAaH,EAAAA,EAAAA,cAAY,YAAiC,IAA9BC,EAAQ,EAARA,SAAUC,EAAa,EAAbA,cACxC,OAAID,SAAAA,EAAUG,iBAAmBF,SAAAA,EAAeG,OACrCR,GAGJI,aAAQ,EAARA,EAAUK,oBAAqBT,CAC1C,GAAGU,EAAAA,cAEGC,GAASR,EAAAA,EAAAA,cAAY,gBAAGC,EAAQ,EAARA,SAAUC,EAAa,EAAbA,cAAa,OAAOD,aAAQ,EAARA,EAAUQ,kBAAkBP,aAAa,EAAbA,EAAeO,eAAc,IAE/GL,GAAkBJ,EAAAA,EAAAA,cAAY,gBAAGC,EAAQ,EAARA,SAAUC,EAAa,EAAbA,cAAa,OAAOD,aAAQ,EAARA,EAAUG,mBAAmBF,aAAa,EAAbA,EAAeG,OAAM,IACjHK,GAAOV,EAAAA,EAAAA,cAAY,YAAiC,UAA9BC,EAAQ,EAARA,SAAUC,EAAa,EAAbA,cAC5BS,GAAaV,SAAyB,QAAjB,EAARA,EAAUG,uBAAe,WAAjB,EAAR,EAA2BM,QAAQR,SAAqB,QAAR,EAAbA,EAAeG,cAAM,WAAR,EAAb,EAAuBK,MAE7E,OAAIC,EACOA,aAAU,EAAVA,EAAY1D,QACf,SAACT,GAAG,OAAKa,OAAOuD,OAAOpE,GAAKqE,MAAK,SAACC,GAAG,OAAKA,aAAG,EAAHA,EAAKC,cAAcxD,SAASiC,EAASuB,cAAc,GAAC,IAChGC,OAAMnB,aAAe,EAAfA,EAAiBF,WAAWE,aAAe,EAAfA,EAAiBD,MAAO,IAAIC,aAAe,EAAfA,EAAiBF,UAAUE,aAAe,EAAfA,EAAiBD,OAGzGK,SAAiB,QAAT,EAARA,EAAUgB,eAAO,WAAT,EAAR,EAAmBlF,QAAO,SAACI,EAAK,GAAF,IAAIuE,EAAI,EAAJA,KAAI,wBACtCvE,IAAG,OACH+E,IAAQR,EAAKS,KAAI,YAAM,SAAH3E,GAAa,MAAE,GACtC,GACR,IAEM4E,GAAYpB,EAAAA,EAAAA,cAAY,YAAiC,UAA9BC,EAAQ,EAARA,SAAUC,EAAa,EAAbA,cACjCS,EAA4E,QAA9D,GAAAV,SAAyB,QAAjB,EAARA,EAAUG,uBAAe,WAAjB,EAAR,EAA2BM,QAAQR,SAAqB,QAAR,EAAbA,EAAeG,cAAM,WAAR,EAAb,EAAuBK,aAAI,aAA/D,EAAkEzD,QACjF,SAACT,GAAG,OAAKa,OAAOuD,OAAOpE,GAAKqE,MAAK,SAACC,GAAG,OAAKA,aAAG,EAAHA,EAAKvD,SAASiC,EAAS,GAAC,IAEtE,OAAOmB,EAAaA,EAAW5J,OAASkJ,aAAQ,EAARA,EAAUoB,YACtD,KAEAC,EAAAA,EAAAA,YAAU,WACN7B,EAAYP,EAChB,GAAG,CAACA,IAEJ,IAAMqC,EAAY,SAACpB,EAAYX,GACtBY,EAGDN,GAAmB,kBAAMK,CAAU,IAFnCpH,GAASyI,EAAAA,EAAAA,IAAahC,EAAUW,EAAYd,GAIpD,EAEMoC,GAAiBC,EAAAA,EAAAA,aAAYC,IAASJ,EAAW,KAAM,CAACnB,IAE9D,OACI,kBAACwB,EAAA,GAAQ,QACLzK,UAAU,8BACV0K,WAAY,CACRC,cAAc,IAEdtB,GAAU,CACVA,OAAAA,EACAL,WAAY,EAAF,KACHA,GAAU,IACb3H,MAAO4I,IAEXW,MAAMrB,aAAI,EAAJA,EAAMS,KAAI,gBAAGjF,EAAG,EAAHA,IAAKlB,EAAK,EAALA,MAAO6B,EAAS,EAATA,UAAS,MAAQ,CAC5C1E,GAAI,GAAF,OAAK0E,EAAS,YAAIX,EAAG,YAAIlB,GAC3B2B,SAAUA,EAASS,MAAK,YAAK,SAAFjF,KAAgB,GAAL,OAAQ0E,EAAS,YAAIX,EAAG,YAAIlB,EAAO,IACzE4B,MAAO,CAACV,EAAKlB,EAAO6B,GACvB,MAAM,IACV,CACD2D,OAASA,EACTwB,MAAM,OACN3K,OAAS0I,EACTkC,YAAa,WACTvC,EAAY,IACZD,EAAY,IACZN,IACApG,GAASC,EAAAA,EAAAA,KAAe,GAC5B,EACAkJ,QAAS,CACL,CACInH,MAAO,cACPoH,YAAa,cACbnH,MAAO,cACPoH,aAAc,CACVpH,MAAOwE,EACP6C,SAAU,SAACC,EAAItH,GACXyG,EAAetB,EAAYnF,GAC3ByE,EAAYzE,EAChB,KAIZuH,aAAe,SAACpC,GAAU,OAAKoB,EAAUpB,EAAYX,EAAS,EAC9DgD,QAAU,CACN,CAAEtL,MAAO,QACT,CAAEA,MAAO,QAASuL,WAAY,EAACC,EAAAA,EAAAA,WAAU,MACzC,CAAExL,MAAO,aAAcuL,WAAY,EAACC,EAAAA,EAAAA,WAAU,SAE7CtC,GAAmB,CACpBuC,SAAU,SAAChG,GAAQ,OAAK+C,EAAY/C,EAAS,EAC7CA,SAAAA,EACAyC,QAAS,kBAAMA,GAAWA,EAAQzC,EAAS,GAC9C,CACDiG,WAAY,CAAEzK,GAAI,oBAClBjB,MAAQkJ,EAAe,UAChBA,EAAgBpJ,aAAY,aAAKoK,EAAS,sCACnBA,EAAS,OAInD,EAEAnC,EAAU5G,UAAY,CAClB+G,QAASlH,IAAAA,KACTiH,cAAejH,IAAAA,KACfgH,aAAchH,IAAAA,OACd2K,cAAe3K,IAAAA,MAAgB,CAC3BwI,KAAMxI,IAAAA,UAAoB,CACtBA,IAAAA,OACAA,IAAAA,QAAkBA,IAAAA,YAG1BmH,QAASnH,IAAAA,MAGb+G,EAAU3G,aAAe,CACrB4G,aAAc,GACdC,cAAe,WAAe,GAGlC,4sBCrJO,IAAM2D,EAAgB,SAACC,GAAkC,IAAtBtI,EAAO,UAAH,6CAAG,IAAIC,KAGjD,OAFAD,EAAKE,QAAQF,EAAKG,UAAyB,EAAbmI,GAEvBtI,CACX,EAEauI,EAA2B,SAACC,GACrC,IAAMC,EAAgB,IAAIxI,KAAKuI,EAAkBE,iBAC3CC,EAAkB,IAAI1I,KAEtB2I,EAAiBP,EAAc,GAC/BQ,EAAiBR,EAAc,GAErC,OAAII,EAAgBE,EACT,QACAE,EAAiBJ,GAAiBA,EAAgBE,EAClD,QAEFC,EAAiBH,GAAiBA,EAAgBI,EAChD,gBAEA,QAEf,EAEaC,EAA6B,SAACC,GAEvC,SAAKA,GAGIA,EAAqBC,QACuC,WAA1DT,EAAyBQ,EAAqBC,QAI7D,EAEaC,EAAc,SAACC,EAASC,EAAUC,GAAgB,sBACrDC,GAAeH,SAAc,QAAP,EAAPA,EAASI,aAAK,WAAP,EAAP,EAAgBhN,QAAS4M,EAAQK,SAAWL,SAAc,QAAP,EAAPA,EAASI,aAAK,WAAP,EAAP,EAAgB/C,QAC5E2C,aAAO,EAAPA,EAAS/D,MAAO,GAAK+D,EAAQK,UAAUL,aAAO,EAAPA,EAAS/D,MAAO+D,EAAQK,UAChEL,aAAO,EAAPA,EAASI,MAEPE,EAAS,EAAH,OACLN,EAAQO,UAAY,CACnBC,OAAQR,SAAe,QAAR,EAAPA,EAASQ,cAAM,WAAR,EAAP,EAAiBjI,IACzBkI,eAAgBT,SAAe,QAAR,EAAPA,EAASQ,cAAM,OAAW,QAAX,EAAf,EAAiBE,iBAAS,WAAnB,EAAP,EAA4BC,gBAE7CX,GAAO,IACVzB,SAASyB,aAAO,EAAPA,EAASzB,WAAWyB,aAAO,EAAPA,EAASY,eACtCC,SAASb,aAAO,EAAPA,EAASa,WAAWb,SAAe,QAAR,EAAPA,EAASQ,cAAM,WAAR,EAAP,EAAiBjI,KAC9CkI,gBAAgBT,SAAuB,QAAhB,EAAPA,EAASS,sBAAc,WAAhB,EAAP,EAAyBE,iBAAiBX,SAAe,QAAR,EAAPA,EAASQ,cAAM,OAAW,QAAX,EAAf,EAAiBE,iBAAS,WAAnB,EAAP,EAA4BC,iBACnFR,aAAY,EAAZA,EAAc/M,QAAS,GAAK,CAC3B0N,UAAWd,aAAO,EAAPA,EAAS/D,KACpBA,KAAM,IAId,OAAO8E,EAAAA,EAAAA,IAAaZ,EAAcG,EAAQ,CAAEL,SAAAA,GAAYC,EAC5D,wsBC3DA,mgOAAO,IAAMc,EAAqB,oBASrBC,EAAQ,IAAIC,EAAAA,cAAS5L,EAAW0L,EAAoBG,EAAAA,IACpDpE,EAAO,IAAIqE,EAAAA,aAAQ9L,EAAW0L,EAAoBG,EAAAA,IAClDE,EAAgB,IAAIC,EAAAA,sBAAiBhM,EAAW0L,EAAoBG,EAAAA,IACpEI,EAAY,IAAIC,EAAAA,eAAUlM,EAAW0L,EAAoBG,EAAAA,IACzDM,EAAyB,SAAC9I,GAAI,OAAKsI,EAAMS,gCAAgC,CAAC/I,GAAM,EAGhFgJ,EAAU,SAAH,aAAMC,MAAAA,OAAK,IAAG,GAAC,EAAC,EAAc,4BAClC,IACZC,SAAUD,EACVA,MAAO,EAAF,KACc,QADd,EACEA,EAAMxJ,cAAM,aAAZ,OAAAwJ,GAAe,SAACpJ,EAAKC,GAAI,cAAWD,GAAG,cAAGC,EAAKS,UAAYT,EAAKmJ,OAAK,GAAK,CAAC,IAC3EE,IAAQF,GAAQ,SAAAG,GAAO,OAAIrI,OAAOuD,OAAO8E,EAAQ,IACnDvE,KAAI,SAAA7E,GAAI,MAAoB,iBAATA,EAAoB,EAAH,KAC9BA,GAAI,IAEPqJ,WAAYrJ,EAAKqJ,YAAcrJ,EAAKsJ,QAEpC5O,aAAcsF,EAAKtF,cAAgBsF,EAAKuJ,MAAQvJ,EAAKnE,KACpDmE,CAAI,IACRP,QACG,SAACI,EAAKC,GAAI,cAAWD,GAAyB,iBAATC,EAAqBA,EAAO,CAAC,EAAC,GAAK,CAAC,KAEhF,EAGQ0J,EAAU,WAA8D,IAA7DjI,EAAO,UAAH,6CAAG,CAAEkI,QAAS,IAAI,yDAAgC,CAAC,EAA7BvB,EAAO,EAAPA,QAASJ,EAAc,EAAdA,eACvD,OAAIvG,EAAKkI,QAAQhP,OAAS,EACf6N,EAAMoB,mBAAmBnI,EAAKkI,QAAQ5E,KAAI,YAAK,SAAFhJ,EAAW,IAAG0F,EAAKmG,SAAU,EAAGQ,EAASJ,GAC5FxG,MAAK,gBAAY8C,EAAI,EAAbqF,QAAO,cACTlI,GAAI,IACPkI,QAASlI,EAAKkI,QAAQ5E,KAAI,SAAA8E,GAAG,cAAUA,GAAG,IAAEvF,KAAMA,EAAKuF,EAAI9N,KAAO,IAAE,KAAI,IAE3E+N,OAAM,yBACArI,GAAI,IACPkI,QAASlI,EAAKkI,QAAQ5E,KAAI,SAAA8E,GAAG,cACtBA,GAAG,IACNvF,KAAM,IAAE,KACT,IAIJ7C,CACX,EAEasI,EAAgB,SAACjJ,GAC1B,OAAOuI,IACHvI,GACA,gBAAG0D,EAAM,EAANA,OAAkB/D,EAAS,EAAnBuJ,SAAQ,OAAkBxF,EAAOO,KAAI,gBAAUkF,EAAQ,EAAfrL,MAAiByB,EAAM,EAANA,OAAM,gBACnEI,EAAY,GAAH,OAAMA,EAAS,KAAM,IAAE,OAAGJ,GAAM,OAAG4J,EAAW,IAAH,OAAOA,GAAa,GAAE,GAC/E,KACD,EACT,EAEaC,EAAyB,SAAH,GAAqD,IAA/C1H,EAAQ,EAARA,SAAUN,EAAU,EAAVA,WAAYC,EAAkB,EAAlBA,mBACvDyG,EAAgB,CAAC,EACfuB,EAAiB1P,MAAMC,QAAQ8H,GAAYA,EAAWvB,OAAOuD,OAAOhC,GAAY,CAAC,GACtF6G,SAAQ,SAACe,GAAc,OAAKnJ,OAAOC,KAAKkJ,EAAe,IAsBxD,OApBID,aAAc,EAAdA,EAAgBxP,QAAS,IACzBiO,EAAcyB,iBAAmB,CAC7BC,KAAM,CACFC,QAAS,CACLC,GAAIL,MAMhBjI,IACA0G,EAAc7K,EAAAA,IAAmBmE,GAGjCC,IACAyG,EAAc5K,EAAAA,IAAsB,CAChCwM,GAAIrI,KAILP,EAAAA,EAAAA,IAAe,CAAE6I,eAAgB7B,GAC5C,EAEa8B,EAAiB,SAAC3K,GAAG,IAAEc,EAAS,UAAH,6CAAG,CAAC,EAAC,8BACxCd,GACiB,mBAAjBc,EAAOjC,OAA8B,CAAE+L,aAAc9J,EAAOA,SAC5D,eAAgBA,GAAU,CAAEC,WAAYD,EAAOC,aAC/C,gBAAiBD,GAAU,CAAEyB,YAAazB,EAAOyB,cACjD,yBAA0BzB,GAAU,CAAE0B,qBAAsB1B,EAAO0B,uBACnE,aAAc1B,GAAU,CAAE2B,SAAU3B,EAAO2B,WAC3C,eAAgB3B,GAAU,CAAEqB,WAAYrB,EAAOqB,aAC/C,mBAAoBrB,GAAU,CAAEwB,eAAgBxB,EAAOwB,iBACvD,uBAAwBxB,GAAU,CAAEsB,mBAAoBtB,EAAOsB,qBAC/D,oBAAqBtB,GAAU,CAAEuB,gBAAiBvB,EAAOuB,iBAAiB,EAG1E,SAAeqF,EAAY,EAAD,oCAmHhC,wCAnHM,WAA2BE,EAAO,EAUtCH,GAAQ,uGADG,GARVoD,EAAU,EAAVA,WACA9C,EAAQ,EAARA,SACAhC,EAAO,EAAPA,QACUvC,EAAO,EAAjBqE,SACApE,EAAI,EAAJA,KACA4E,EAAO,EAAPA,QACAJ,EAAc,EAAdA,eAAc,IACd6C,OAAAA,OAAM,IAAG,GAAEJ,eAAgB,CAAC,mBAAqD,yBAAyB,EACvGlD,GAAO,cAENO,IAAYH,aAAK,EAALA,EAAOhN,QAAS,GAAC,iCACZ6N,EAAMsC,mBACnBnD,OACA9K,EACA0G,EACAC,EACA4E,EACAJ,OACAnL,OACAA,EACA,CAAEkO,YAAaH,GAAcA,EAAWI,QAC3C,OAVO,GAAJvJ,EAAO,EAAH,MAWJoJ,IAAU5J,OAAOC,KAAK2J,GAAQlQ,OAAM,0CAEX6N,EAAMS,gCACvBtB,EACApE,OACA1G,OACAA,OACAA,OACAA,OACAA,EACA,CACIkO,YAAaH,GAAcA,EAAWI,MACtCC,OAAOrJ,EAAAA,EAAAA,IAAeiJ,EAAQ,YAErC,OAZKK,EAAS,EAAH,KAcZzJ,EAAO,EAAH,KACGA,GAAI,IACPkI,SAASwB,EAAAA,EAAAA,IAAiB,CAClB,QADkB,EACtB1J,SAAI,aAAJ,EAAMkI,SACNuB,aAAM,EAANA,EAAQvB,UAAW,IACpB,QACL,kDAEFyB,QAAQC,MAAM,EAAD,IAAK,YAInB7D,EAAQ,kCAASkC,EAAQjI,GAAK,iDAAGA,EAAI,QAS1C,OAPFA,EAAO,EAAH,KAFJA,EAAO,EAAH,IAGO,IACPqE,QAAAA,EACA6D,QAASlI,EAAKkI,QAAQ5E,KAAI,SAAAmG,GAAM,OAAIhC,EAAQ,EAAD,KACpCgC,GAAM,IACTtQ,aAAcsQ,EAAOtQ,cAAgBsQ,EAAOzB,MAAQyB,EAAOnP,KAC7D,MACJ,kBAEK0F,GAAI,WACHqG,EAAU,CAAF,yCACTU,EAAM8C,wBACTzO,OACAA,EACAiJ,EAAQ6E,kBACR9N,OACAA,OACAA,OACAA,OACAA,EACAiJ,EAAQ1D,qBACRvF,EACA0G,EACAC,EACA4E,EACAJ,EACAlC,EAAQxD,YAAW,kBAEZyH,EAAcjE,aAAO,EAAPA,EAAShF,cAAW,QAClCyG,SAAqB,QAAd,EAAPA,EAASgE,oBAAY,WAAd,EAAP,EAAuBjH,OAAQ,KAEtCwB,aAAO,EAAPA,EAASvD,0BACT1F,OACAA,EACA,CACIkO,YAAaH,GAAcA,EAAWI,MACtCC,MAAO,EAAF,cACG1D,SAAqB,QAAd,EAAPA,EAASgE,oBAAY,WAAd,EAAP,EAAuB1K,UAAUe,EAAAA,EAAAA,IAAe2F,EAAQgE,aAAa1K,SACrE0G,EAAQ1G,QAAUI,OAAOC,KAAKqG,EAAQ1G,QAAQlG,SAAUiH,EAAAA,EAAAA,IAAe2F,EAAQ1G,SAC/EqJ,EAAuBpE,IACvB+E,GAAU5J,OAAOC,KAAK2J,GAAQlQ,SAAUiH,EAAAA,EAAAA,IAAeiJ,EAAQ,YAChE/E,SAAuB,QAAhB,EAAPA,EAASzD,sBAAc,WAAhB,EAAP,EAAyBtD,eAAgB,CAAEyM,cAAe1F,EAAQzD,eAAetD,gBACjF+G,SAAuB,QAAhB,EAAPA,EAASzD,sBAAc,WAAhB,EAAP,EAAyBrD,aAAc,CAAEyM,YAAa3F,EAAQzD,eAAerD,eAI3FwC,MAAK,SAACC,GAAI,OAAK+F,EAAWkC,EAAQjI,EAAM,CAAE2G,QAAAA,EAASJ,eAAAA,IAAoBvG,CAAI,IAC3ED,MAAK,wEAA6B,CAAC,EAAC,IAA5BmI,QAAAA,OAAO,IAAG,KAAE,EAAS,4BACnB,IACP7D,QAAAA,EACA6D,QAASA,EAAQ5E,KAAI,SAAAmG,GAAM,OAAIhC,EAAQ,EAAD,KAC/BgC,GAAM,IACTtQ,aAAcsQ,EAAOtQ,cAAgBsQ,EAAOzB,MAAQyB,EAAOnP,KAC7D,KAAC,KACJ,iCAGA,CACHyH,KAAAA,EACAoE,SAAUrE,EACVoG,QAAS,KACZ,0DACJ,wBAEM,SAAS1G,EAAQ3G,EAAUoP,GAA6C,IAAnC3H,GAAmC,uDAApB,CAAEA,WAAY,CAAC,IAA9BA,WACxC,OAAOyE,EAAMoB,mBACTtN,EACAyH,EAAWR,SAAW,GACtBQ,EAAWP,MAAQ,OACnB3G,OACAA,EACA6O,EAER,CAEO,SAASC,EAAWD,GAAyB,IAAjB3H,EAAa,UAAH,6CAAG,CAAC,EAC7C,OAAOO,EAAKsH,cACR,GACA,MACA,MACA7H,EAAWR,SAAW,GACtBQ,EAAWP,MAAQ,EAEnBZ,EAAAA,GACA8I,OACA7O,OACAA,OACAA,OACAA,OACAA,OACAA,OACAA,OACAA,OACAA,EAER,CAEO,SAASgP,IAAiC,IAAbC,EAAS,UAAH,6CAAG,GACzC,OAAOlD,EAAcmD,mCAAkC,MAAhDnD,GAAa,OAAuCkD,GAC/D,iKChQA,87MAAO,IAAME,EAAuBtD,EAAAA,GAEvBuD,EAAI,mCAAG,WAAO3P,GAAQ,0GAEwB4P,QAAQC,IAAI,CAAC,EAAG,EAAG,EAAG,GAAGpH,KAAI,SAACqH,GAAM,OACnF1D,EAAAA,GAAAA,IAAa,kCAAD,OAC0BpM,EAAQ,2CAAmC8P,GAChF,KACF,OAJsC,OAItC,wBAJIC,EAAG,KAAEC,EAAQ,KAAEC,EAAS,KAAEC,EAAQ,uBAKlC,CAAEH,IAAAA,EAAKC,SAAAA,EAAUC,UAAAA,EAAWC,SAAAA,IAAU,2DAEtC,CAAC,GAAC,0DAEhB,gBAXgB,sCAaJC,EAAK,mCAAG,WAAOnQ,GAAQ,0FAEfoM,EAAAA,GAAAA,IAAa,yBAAD,OAA0BpM,IAAW,iGAEvD,CAAC,GAAC,wDAEhB,gBANiB,sCAQLoQ,EAAO,mCAAG,WAAOpQ,GAAQ,0FAEjBoM,EAAAA,GAAAA,IAAa,2BAAD,OAA4BpM,EAAQ,cAAY,iGAElE,CAAC,GAAC,wDAEhB,gBANmB,sCAQPqQ,EAAU,mCAAG,WAAOrQ,GAAQ,iEAC1B,yBAmBMoM,EAAAA,GAAAA,KAAc,0BAA2B,CAClDkE,cAAe,SACf3B,MArBM,+ZAsBN4B,UAAW,CACPvQ,SAAAA,KAEN,iGAEK,CAAC,GAAC,yDAEhB,gBA9BsB,syBC1BhB,IAAMwQ,EAAY,WAA+E,IAA9EpB,EAAS,UAAH,6CAAG,CAAC,EAAG3H,EAAa,UAAH,6CAAG,CAAEP,KAAM,EAAGoE,SAAUmF,EAAAA,IAC/DC,EAAa,IAAIC,gBAAgB,EAAD,KAC/BvB,GACA3H,IACJmJ,WAEH,OAAOxE,EAAAA,SAAAA,IAAa,GAAD,OAAIH,EAAAA,mBAAkB,mBAAWyE,GACxD,EAEaG,EAAiB,SAACC,GAA0B,IAC/CJ,EAAa,IAAIC,gBADuB,UAAH,6CAAG,CAAC,GACAC,WACzCG,EAAO,GAAH,OAAM9E,EAAAA,mBAAkB,mBAAW6E,EAASE,KAAK,MAAI,OAC5C,KAAfN,EAAoB,IAAMA,EAAa,IAG3C,OAAOtE,EAAAA,SAAAA,IAAa2E,EACxB,EAEaE,EAAc,SAAChM,GACxB,OAAOmH,EAAAA,SAAAA,KAAc,GAAD,OAAIH,EAAAA,mBAAkB,WAAW,CACjDiF,KAAMjM,EAAQiM,MAEtB,EAEaC,EAAoB,SAACD,GAC9B,OAAO9E,EAAAA,SAAAA,IAAa,GAAD,OAAIH,EAAAA,mBAAkB,YACxC/G,MAAK,SAACkM,GAAI,OAAKA,aAAI,EAAJA,EAAM/D,QAAQlF,MAAK,SAAC5E,GAAK,OAAKA,EAAM2N,OAASA,CAAI,GAAC,GACtE,EAEaG,EAAiB,SAACC,GAC3B,OAAOlF,EAAAA,SAAAA,IAAa,GAAD,OAAIH,EAAAA,mBAAkB,mBAAWqF,GACxD,EAEaC,EAAkB,SAAC9R,EAAIwF,GAChC,OAAOmH,EAAAA,SAAAA,MAAe,GAAD,OAAIH,EAAAA,mBAAkB,mBAAWxM,GAAMwF,EAChE,EAEauM,EAAmB,WAAc,IAAbC,EAAM,UAAH,6CAAG,GACnC,OAAOrF,EAAAA,SAAAA,OAAgB,GAAD,OAAIH,EAAAA,mBAAkB,mBAAWwF,EAAIT,KAAK,MACpE,EAEaU,EAAsB,SAACjS,EAAIkS,GACpC,OAAOvF,EAAAA,SAAAA,KAAc,GAAD,OAAIH,EAAAA,mBAAkB,mBAAWxM,EAAE,UAAUkS,EACrE,EAEaC,EAAuB,SAACN,EAASK,GAC1C,OAAOvF,EAAAA,SAAAA,OAAgB,GAAD,OAAIH,EAAAA,mBAAkB,mBAAWqF,EAAO,kBAAUK,EAAQX,KAAK,MACzF,EAEAR,EAAU7Q,UAAY,CAClByP,OAAQ5P,IAAAA,MAAgB,CACpB0R,KAAM1R,IAAAA,SAEViI,WAAYjI,IAAAA,MAAgB,CACxB8L,SAAU9L,IAAAA,OACV0H,KAAM1H,IAAAA,UAId6R,EAAe1R,UAAY,CACvB2R,QAAS9R,IAAAA,OAAAA,4kCC/DN,IAAMqS,EAAa,SAACpO,EAAKC,GAC5B,MAA4BA,EAAKoO,MAAM,KAAI,eAAtC3N,EAAS,KAAE4N,EAAQ,KACnBA,IACDA,EAAW5N,EACXA,EAAY,MAGhB,MAA4B4N,EAASD,MAAM,KAAI,eAAxCtO,EAAG,YAAElB,OAAK,IAAG,OAAI,EAClB0P,EAAavO,EAAIwO,WAAU,YAAW,SAARvE,WAA4BvJ,CAAS,IACnE+N,EAAUzO,EAAIuO,IAAe,CAC/BtE,SAAUvJ,EACVX,IAAKW,EACLgO,KAAM,OACNjK,OAAQ,IAiBZ,OAfAgK,EAAQhK,OAAOkK,KAAK,CAChBlB,KAAM,GAAF,OAAK1N,GAAG,OAAGlB,EAAQ,IAAH,OAAOA,GAAU,IACrCkB,IAAK,GAAF,OAAKA,GAAG,OAAGlB,EAAQ,IAAH,OAAOA,GAAU,IACpCyB,OAAQP,EACRlB,MAAAA,EACAiB,MAAO,CACHlB,MAAO8B,EACP7B,MAAO6B,EACPgO,KAAM,cAGT1O,EAAIuO,IACLvO,EAAI2O,KAAKF,GAGNzO,CACX,EAEa4O,EAAc,WAAH,IAAe5K,EAAa,UAAH,6CAAG,CAAC,EAAC,OAAnB,UAAH,6CAAG,IAE9Ba,OAAOb,EAAWP,KAAO,GAAKO,EAAWR,QAASQ,EAAWP,KAAOO,EAAWR,QAAQ,EAG/EqL,EAAS,SAACvQ,GACnB,QAASwQ,MAAMxQ,IAASwQ,MAAMvQ,KAAKwQ,MAAMzQ,IAC7C,EAEa0Q,EAAa,WAAH,IAAe5G,EAAgB,UAAH,6CAAG,CAAC,EAAC,OAAtB,UAAH,6CAAG,IAE7BtH,QAAO,SAAAgJ,GAAG,OACiC,IAAxC5I,OAAOuD,OAAO2D,GAAexN,QAC7BsG,OAAOuD,OAAO2D,GACb6G,OACG,SAAAnO,GACI,IAAMoO,EAAWpF,EAAIhJ,EAAOf,OAAS+J,EAAIhJ,EAAOf,KAAKoP,WAAarF,EAAIhJ,EAAOf,MAC7E,OAAOmP,IACHxU,MAAMC,QAAQmG,EAAOjC,OACjBiC,EAAOjC,MAAMuC,SAAS8N,IACsD,IAA5EA,EAASE,oBAAoBC,QAAQvO,EAAOjC,MAAMuQ,qBAE9D,GACH,GACH,EAGOE,EAAkB,WAAH,IAAI7O,EAAQ,UAAH,6CAAG,GAAkB2H,EAAgB,UAAH,6CAAG,CAAC,EAAGlC,EAAW,UAAH,6CAAG,WAAe,SAAlD,UAAH,6CAAG,IAC1ClB,KAAI,SAAClE,EAAQf,GACjB,IAAMwP,EAAYzO,EAAO0O,OAASzP,EAC5B0P,EAAchP,EAAM8O,KAAe9O,EAAM8O,GAAWxU,OAAS0F,EAAM8O,IACzE,MAAQ,CACJ1Q,MAAO6Q,OAAOH,GACd3Q,MAAO6Q,EACPf,KAAM5N,EAAO4N,MAAQ,OACrBzI,aAAc,EAAF,CACRjK,GAAI8E,EAAO9E,IAAM,GAAJ,OAAOyT,EAAW,YAAIF,GACnCrJ,SAAU,SAACC,EAAIwJ,GAAS,OAAKzJ,EAASqJ,EAAWI,EAAWF,EAAY,EACxE5Q,MAAOuJ,EAAcmH,IAAcnH,EAAcmH,GAAW1Q,OACzDiC,EAAO0G,SAAW,CAAEI,MAAO9G,EAAO0G,UAGjD,GAAE,EAGOoI,EAAiB,WAAyD,IAAxDC,EAAU,UAAH,6CAAG,CAAC,EAAsBzH,EAAgB,UAAH,6CAAG,CAAC,EAC7E,GADqD,UAAH,8CAE9C,MAAO,CAAC,EAER,MAASyH,EAAQ9P,IAAM+P,EAAgC1H,EAAa,GAA7B2H,GAAW,OAAK3H,EAAa,YAC9D4H,EAAWF,GAAepV,MAAMC,QAAQmV,EAAYjR,QACtDiR,EAAYjR,MAAMiC,QAAO,SAAAX,GAAI,OAAK0P,EAAQI,MAAMhP,MAAK,YAAO,SAAJwM,OAAoBtN,CAAI,GAAC,IAC/EwP,EAAYG,GAAepV,MAAMC,QAAQmV,EAAYjR,QAAUmR,GAAYA,EAASpV,OAAS,GAAI,UAClGiV,EAAQ9P,IAAG,OACL+P,GAAW,IACdjR,MAAOmR,KAEX,CAAC,EACL,OAAO,EAAP,KACOD,GACAJ,EAGf,EAEaO,EAAanU,IAAAA,MAAgB,CACtChB,MAAOgB,IAAAA,KACP8C,MAAO9C,IAAAA,KACPoU,SAAUpU,IAAAA,KACVqU,OAAQrU,IAAAA,KACRF,QAASE,IAAAA,OAGA6G,EAA8B,CACvC,gBACA,wBACA,qBAGSyN,EAAkB,WAAM,cAC3BC,EAAe,IAAIpD,gBAAgBvR,SAASgQ,QAC5C7J,EAASwO,EAAaC,OAAO,UAC7BxO,EAASuO,EAAaC,OAAO,UAC7BtO,EAAeqO,EAAaC,OAAO,kBACnCvO,EAAwC,QAA9B,EAAGsO,EAAaC,OAAO,eAAO,OAAK,QAAL,EAA3B,EAA8B,UAAE,OAAO,QAAP,EAAhC,EAAkClC,aAAK,OAAc,QAAd,GAAvC,WAA0C,MAAKzO,cAAM,WAA1B,EAA3B,SAAwDwO,EAAY,IACjFlM,EAAkBoO,EAAaC,OAAO,oBACtCpO,EAAamO,EAAaC,OAAOvS,EAAAA,IACjCoE,EAAqBkO,EAAaC,OAAOtS,EAAAA,IACzCoE,EAAkBiO,EAAaC,OAAOpS,EAAAA,IACtCsF,EAAO6M,EAAaC,OAAO,QAC3B/M,EAAU8M,EAAaC,OAAO,YAEpC,MAAO,CAAEzO,OAAAA,EAAQC,OAAAA,EAAQC,WAAAA,EAAYC,aAAAA,EAAcC,gBAAAA,EAAiBC,WAAAA,EAAYC,mBAAAA,EAAoBE,eAD7EgO,EAAaC,OAAO,aAEvC9M,KAAAA,EAAMD,QAAAA,EAASnB,gBAAAA,EACvB,EAEa2K,EAA2B,u1BClIxC,IAAMwD,EAAc,SAACC,GAAY,MAC7B,OAAOA,SAAe,QAAR,EAAPA,EAAS7Q,cAAM,WAAR,EAAP,OAAA6Q,GAAkB,SAACzQ,EAAKC,GAAI,oBAC5BD,GAAG,mBACLC,EAAOA,IAAI,mBACRA,EAAI,sBAAgBA,EAAI,iCACxBA,EAAI,wBAAkBA,EAAI,mCAC1BA,EAAI,uBAAiBA,EAAI,oBAC7B,CAAC,EACT,EAQayQ,EAAe,CACxB,eACA,aACA,sBACA,yBACA,sBACA,oBAGSC,EAAiB,CAC1B,gBACA,cACA,gBACA,sBACA,mBACA,mBACA,YACA,WACA,oBACA,SACA,eACA,uBAGSC,EAAe,CACxB,+BACA,uBACA,6BACA,4BAGSC,EAAe,EAAH,aAAQC,GArCjB,CACZ,YACA,gBACA,kBAkC4C,SAAAC,GAAC,OAAIA,CAAC,KAAMP,EAAYE,IAAkBF,EAAYG,IACzFK,EAAyBR,EAAYG,GACrCM,EAAqBT,EAAYI,GAEjCM,EAAsB,oDACtBC,EAAgB,gBAChBC,EAAuB,uBACvBC,EAAiB,iBACjBC,EAAmB,mBACnBC,EAAmB,mBAEnBC,EAAkB,kBAClBC,EAAc,cACdC,EAAkB,kBAClBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAmB,mBACnBC,EAAiB,iBACjBC,EAAgB,0BAChBC,EAAiB,ocCrE9B,snGAAAC,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAEA,IAAMC,EAAO,mCAAG,WAAOC,GAAG,qFAAW,OAATC,EAAQ,EAAH,6BAAG,EAAC,UACXC,EAAAA,EAAAA,GAAKF,EAAK,CAC5BG,YAAaF,IACf,OAFW,OAAP1I,EAAU,EAAH,uBAGNA,GAAO,2CACjB,gBALY,sCAOA6I,EAAoB,SAAC7K,GAE9B,IAFwD,IAAnB8K,EAAY,UAAH,6CAAG,GAC7CC,EAAM,GACDR,EAAI,EAAGA,EAAIvK,EAAMhN,OAAQuX,GAAKO,EAAW,CAC9C,IAAIE,EACJA,EAAQhL,EAAM/C,MAAMsN,EAAGA,EAAIO,GAC3BC,EAAIhE,KAAKiE,EACb,CAOA,OALgBR,EACZO,EAAI3N,KAAI,SAAA6N,GAAS,OAAI,WACjB,OAAOpK,EAAAA,MAAAA,sBAA4BoK,EAAY,CAAC,IAI5D,EChBaC,EAAiB,SAACvW,GAAQ,MAAM,CACzCmS,KAAMuC,EAAAA,GAAAA,6BACNzP,SAASmL,EAAAA,EAAAA,SAAQpQ,GACpB,EAEYwW,EAAc,SAACxW,GAAQ,MAAM,CACtCmS,KAAMuC,EAAAA,GAAAA,qBACNzP,SAAS0K,EAAAA,EAAAA,MAAK3P,GACjB,EAEYyW,EAAe,SAACzW,GAAQ,MAAM,CACvCmS,KAAMuC,EAAAA,GAAAA,2BACNzP,SAASkL,EAAAA,EAAAA,OAAMnQ,GAClB,EAEY0W,EAAoB,SAAC1W,GAAQ,MAAM,CAC5CmS,KAAMuC,EAAAA,GAAAA,yBACNzP,SAASoL,EAAAA,EAAAA,YAAWrQ,GACvB,YCnBY2W,EAAe,SAACC,EAASlX,GAAW,MAAM,CACnDyS,KAAMmC,EAAAA,GAAAA,cACNrP,QAASiR,EAAkBU,GAC3B/S,KAAM,CACFgT,cAAe,CACXC,UAAW,CACPvY,QAAS,UACTC,MAAO,4BACPuY,YAAa,GAAF,OAAKrX,EAAW,mCAC3BsX,aAAa,IAGrBJ,QAAAA,GAEP,EAEYK,EAAY,SAACC,GAAW,MAAM,CACvC/E,KAAM0C,EAAAA,GACN5P,QAAS,CACLiS,YAAAA,GAEP,EAEYC,EAAqB,WAC9B,MAAQ,CACJhF,KAAMwC,EAAAA,GAEd,EAEayC,EAAkB,SAAC3X,EAAI6C,EAAO+U,GAAS,MAAM,CACtDlF,KAAMmC,EAAAA,GAAAA,oBACNrP,QAASiH,EAAAA,MAAAA,qBAA2B,CAACzM,GAAK,CAAEnB,aAAcgE,IAC1DuB,KAAM,CACFpE,GAAAA,EACA6C,MAAAA,EACA+U,UAAAA,EACAR,cAAe,CACXC,UAAW,CACPvY,QAAS,UACTC,MAAO,mCAAF,OAAqCiB,EAAE,gCAAwB6C,GACpE0U,aAAa,KAI5B,EAEYM,EAAgB,SAACpQ,EAAMD,GAAO,MAAM,CAC7CkL,KAAM2C,EAAAA,GACN7P,QAAS,CACLiC,KAAAA,EAAMD,QAAAA,GAEb,EAEYqF,EAAgB,SAACiL,GAAM,MAAM,CACtCpF,KAAMmC,EAAAA,GAAAA,oBACNrP,SAASyH,EAAAA,EAAAA,wBAAuB6K,EAAQ,CAAC,GAC5C,EAEYC,EAAkB,SAAC/X,EAAI6C,EAAO+U,GAAS,MAAM,CACtDlF,KAAMmC,EAAAA,GAAAA,iBACNrP,QAASiH,EAAAA,MAAAA,qBAA2B,CAACzM,GAAK,CAAEgY,aAAcnV,IAC1DuB,KAAM,CACFpE,GAAAA,EACA6C,MAAAA,EACA+U,UAAAA,EACAR,cAAe,CACXC,UAAW,CACPvY,QAAS,UACTC,MAAO,oCACPwY,aAAa,KAI5B,EAEYU,EAAsB,WAAH,MAAU,CACtCvF,KAAMwD,EAAAA,GACN1Q,QAAS,GACZ,g3BC5DM,IAAM+G,EAAe,WAA6F,IAA5FX,EAAQ,UAAH,6CAAG,GAAE,yCAA4BH,GAA5B,uDAAyC,CAAC,GAAdA,SAAiBC,EAAc,UAAH,6CAAGwM,EAAAA,YAAvDnO,EAAO,EAAPA,QAAY+B,GAAM,YACnDqM,EAAUvM,EAAMhI,QAAO,SAACI,EAAKC,GAAI,wBAE5BD,GAAG,CACNC,GAAwB,iBAATA,EAAoBA,EAAOA,EAAKjE,IAAE,GAEtD,IAAI8E,OAAO4B,SAER0R,EAAmB,SAAC3G,GAAI,iBAAuB,QAAlB,EAAA3F,EAAOuM,mBAAW,aAAlB,EAAqB5G,MACrC,QAAlB,EAAA3F,EAAOuM,mBAAW,aAAlB,EAAoBjI,OAAsC,KAAb,QAAlB,EAAAtE,EAAOuM,mBAAW,aAAlB,EAAqB5G,GAAgB,EAE3D6G,EAAiBvO,EAAUA,EAAQnG,OAAO+K,EAAAA,eAAgB,EAAF,WACpC,IAAnB5E,EAAQnL,QAAgB,CAAE4H,qBAAsB,KAC/C4R,EAAiB,UAAY,CAAE7R,iBAAazF,IAC5CsX,EAAiB,mBAAqB,CAAE5R,0BAAsB1F,IAC9DsX,EAAiB,qBAAuB,CAAE3R,cAAU3F,IACpDsX,EAAiB,eAAkB,CAAE/R,qBAAiBvF,KACzD,EAAH,WACMsX,EAAiB,UAAY,CAAE7R,iBAAazF,IAC5CsX,EAAiB,cAAgB,CAAE9R,oBAAgBxF,IACnDsX,EAAiB,mBAAqB,CAAE5R,0BAAsB1F,IAC9DsX,EAAiB,qBAAuB,CAAE3R,cAAU3F,IACpDsX,EAAiB,eAAkB,CAAE/R,qBAAiBvF,IAGxDuL,EAAUP,EAAOO,SAAW,UAC5BJ,EAAiBH,EAAOG,gBAAkB,OAE1CsM,EAAkBhW,KAAKiW,MAE7B,MAAO,CACH9F,KAAMmC,EAAAA,GAAAA,cACNrP,QAASkG,EAAYyM,EAAS,EAAF,GACxBpO,QAASuO,GACNxM,GAAM,IACTO,QAAAA,EACAJ,eAAAA,IACDR,EAAUyM,EAAAA,aAAoBzS,MAAK,gBAAGmI,EAAO,EAAPA,QAAYlI,GAAI,0BAClDA,GAAI,IACPqE,QAAAA,EACAiC,OAAQ,CAAEjI,IAAKsI,EAASH,UAAWD,GACnC2B,QAAShC,EAAMhN,OAAS,EAAIgN,EAAM5C,KAAI,SAAC7E,GAAI,cACpCA,EAAKnE,GAAKmE,EAAO,CAAEnE,GAAImE,IACvByJ,EAAQ3I,MAAK,gBAAGjF,EAAE,EAAFA,GAAE,OAAOA,IAAOmE,GAAQnE,IAAOmE,EAAKnE,EAAE,KAAK,CAAC,EAAC,IAC9D4N,EACNnG,KAAMqE,EAAOrE,OAAS/B,aAAI,EAAJA,EAAM+B,MAE5BoE,SAAUC,EAAOD,WAAanG,aAAI,EAAJA,EAAMmG,UACpCwM,YAAavM,EAAOuM,aAAW,IAEnCjU,KAAM,CACFqH,SAAAA,EACA8M,gBAAAA,GAGZ,EAEaE,EAAiB,WAAH,IAAI7M,EAAQ,UAAH,6CAAG,GAAE,MAAM,CAC3C8G,KAAM8C,EAAAA,GACNhQ,QAAS,CACLoI,QAAShC,GAEhB,EAEY8M,EAAe,SAACC,GAAY,MAAM,CAC3CjG,KAAMkD,EAAAA,GACNpQ,QAASmT,EACZ,EAEYC,EAAa,SAAC5Y,EAAI8L,EAAQ,GAAF,IAAIL,EAAQ,EAARA,SAAQ,MAAQ,CACrDiH,KAAMmC,EAAAA,GAAAA,YACNrP,SAAS0S,EAAAA,EAAAA,aAAmBlY,EAAI8L,EAAQL,GACxCrH,KAAM,CACFqH,SAAAA,GAEP,EAEYoN,EAAe,SAAC7Y,EAAIwE,GAAQ,MAAM,CAC3CkO,KAAMyC,EAAAA,GACN3P,QAAS,CAAExF,GAAAA,EAAIwE,SAAAA,GAClB,EAEYsU,EAAU,SAACpT,GAAI,MAAM,CAC9BgN,KAAM+C,EAAAA,GACNjQ,QAASE,EACZ,EAEYqT,EAAiB,SAAChV,EAAKiV,GAAY,MAAM,CAClDtG,KAAMgD,EAAAA,GACNlQ,QAAS,CAAEzB,IAAAA,EAAKiV,aAAAA,GACnB,EAEYC,EAAkB,WAAH,IAAIC,IAAY,UAAH,+CAAO,MAAM,CAClDxG,KAAMmD,EAAAA,GACNrQ,QAAS,CAAE0T,UAAAA,GACd,EAEYC,EAAe,WAAH,MAAU,CAC/BzG,KAAMoD,EAAAA,GACT,EAmCYxV,EAAW,SAACC,EAAUoP,EAAQnE,EAASnL,GAAK,MAAM,CAC3DqS,KAAMmC,EAAAA,GAAAA,UACNrP,SAAS0B,EAAAA,EAAAA,SAAQ3G,EAAUoP,EAAQnE,GACnCpH,KAAM,CACF6E,UAAW5I,EACXE,SAAAA,GAEP,EAEYM,EAAiB,SAAC3B,GAAM,MAAM,CACvCwT,KAAMqD,EAAAA,GACNvQ,QAAS,CAAEtG,OAAAA,GACd,EAEYmK,EAAe,SAACsG,EAAQ3H,GAAU,IAAEd,EAAU,UAAH,6CAAGkS,EAAAA,WAAiB,MAAM,CAC9E1G,KAAMmC,EAAAA,GAAAA,SACNrP,QAAS0B,EAAQyI,EAAQ3H,GACzB5D,KAAM,CAAEiV,oBAAqB9W,KAAKiW,OACrC,EAEYc,EAAc,SAAC3J,EAAQ3H,GAAU,MAAM,CAChD0K,KAAMmC,EAAAA,GAAAA,OACNrP,SAASuL,EAAAA,EAAAA,IAAUpB,EAAQ3H,GAC9B,EAEYuR,EAAmB,SAAC1H,GAAO,MAAM,CAC1Ca,KAAMmC,EAAAA,GAAAA,aACNrP,SAASoM,EAAAA,EAAAA,IAAeC,GAC3B,EAEY2H,EAAwB,WAAH,IAAIzJ,EAAS,UAAH,6CAAG,GAAE,MAAM,CACnD2C,KAAMmC,EAAAA,GAAAA,kBACNrP,SAASsK,EAAAA,EAAAA,qBAAoBC,GAChC,EAkBY0J,EAAgB,SAAC3N,GAAM,MAAM,CACtC4G,KAAMsD,EAAAA,GACNxQ,QAASsG,EACZ,EAEY4N,EAAe,SAACC,GAAQ,MAAM,CACvCjH,KAAMuD,EAAAA,GACNzQ,QAAS,CAAEmU,SAAAA,GACd,EAEYC,EAAyB,SAAC7J,GAAM,MAAM,CAC/C2C,KAAMmC,EAAAA,GAAAA,oBACNrP,QAASuH,EAAAA,UAAAA,qBAA+BgD,GAC3C","sources":["webpack:///./src/Utilities/DeleteModal.js","webpack:///./src/Utilities/TagWithDialog.js","webpack:///./src/Utilities/Wrapper.js","webpack:///./src/Utilities/constants.js","webpack:///./src/Utilities/TagsModal.js","webpack:///./src/Utilities/sharedFunctions.js","webpack:///./src/api/api.js","webpack:///./src/api/systemIssues.js","webpack:///./src/components/InventoryGroups/utils/api.js","webpack:///./src/constants.js","webpack:///./src/store/action-types.js","webpack:///./src/components/InventoryTable/utils/api.js","webpack:///./src/store/system-issues-actions.js","webpack:///./src/store/actions.js","webpack:///./src/store/inventory-actions.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n    ClipboardCopy,\n    Modal,\n    Split,\n    SplitItem,\n    Stack,\n    StackItem,\n    Level,\n    LevelItem,\n    Button\n} from '@patternfly/react-core';\n\nimport ExclamationTriangleIcon from  '@patternfly/react-icons/dist/js/icons/exclamation-triangle-icon';\n\nconst DeleteModal = ({ handleModalToggle, isModalOpen, currentSytems, onConfirm }) => {\n    let systemToRemove;\n    let systemLabel = 'system';\n    if (Array.isArray(currentSytems)) {\n        systemToRemove = currentSytems.length === 1 ? currentSytems[0].display_name : `${currentSytems.length} systems`;\n        systemLabel = currentSytems.length === 1 ? systemLabel : 'systems';\n    } else {\n        systemToRemove = currentSytems.display_name;\n    }\n\n    return <Modal\n        variant=\"small\"\n        title=\"Remove from inventory\"\n        className=\"ins-c-inventory__table--remove sentry-mask data-hj-suppress\"\n        ouiaId=\"inventory-delete-modal\"\n        isOpen={isModalOpen}\n        onClose={() => handleModalToggle(false)}\n        appendTo={document.getElementsByClassName('inventory')[0] || document.body}\n    >\n        <Split hasGutter>\n            <SplitItem><ExclamationTriangleIcon size=\"xl\" className=\"ins-m-alert\" /></SplitItem>\n            <SplitItem isFilled>\n                <Stack hasGutter>\n                    <StackItem>\n                        {systemToRemove} will be removed from\n                                    all {location.host} applications and services. You need to re-register\n                        the {systemLabel} to add it back to your inventory.\n                    </StackItem>\n                    <StackItem>\n                        To disable the daily upload for this {systemLabel}, use the following command:\n                    </StackItem>\n                    <StackItem>\n                        <ClipboardCopy>insights-client --unregister</ClipboardCopy>\n                    </StackItem>\n                </Stack>\n            </SplitItem>\n        </Split>\n        <Level hasGutter>\n            <LevelItem>\n                <Button\n                    variant=\"danger\"\n                    ouiaId=\"confirm-inventory-delete\"\n                    onClick={onConfirm}\n                >\n                    Remove\n                </Button>\n                <Button\n                    variant=\"link\"\n                    ouiaId=\"cancel-inventory-delete\"\n                    onClick={() => handleModalToggle(false)}\n                >\n                    Cancel\n                </Button>\n            </LevelItem>\n        </Level>\n    </Modal>;\n};\n\nconst ActiveSystemProp = PropTypes.shape({\n    id: PropTypes.string,\n    displayName: PropTypes.string\n});\n\nDeleteModal.propTypes = {\n    isModalOpen: PropTypes.bool,\n    currentSytems: PropTypes.oneOfType([ActiveSystemProp, PropTypes.arrayOf(ActiveSystemProp)]),\n    handleModalToggle: PropTypes.func,\n    onConfirm: PropTypes.func\n};\n\nDeleteModal.defaultProps = {\n    isModalOpen: false,\n    currentSytems: {},\n    handleModalToggle: () => undefined,\n    onConfirm: () => undefined\n};\n\nexport default DeleteModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { TagCount } from '@redhat-cloud-services/frontend-components/TagCount';\nimport { loadTags, toggleTagModal } from '../store/actions';\n\nconst TagWithDialog = ({ count, loadTags, systemId }) => (\n    <span\n        onClick={(e) => e.stopPropagation()}\n        className=\"ins-c-inventory__list-tags\"\n        data-ouia-component-id={`${systemId}-tag-button`}\n    >\n        <TagCount count={count} onTagClick={ () => loadTags(systemId, count) } />\n    </span>\n);\n\nTagWithDialog.propTypes = {\n    count: PropTypes.number,\n    loadTags: PropTypes.func,\n    systemId: PropTypes.string\n};\n\nconst dispatchToProps = (dispatch) => ({\n    loadTags: (systemId, count) => {\n        if (systemId) {\n            dispatch(toggleTagModal(true));\n            dispatch(loadTags(systemId, undefined, undefined, count));\n        }\n    }\n});\n\nexport default connect(() => ({}), dispatchToProps)(TagWithDialog);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { usePermissionsWithContext } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\n\nconst RenderWrapper = ({ cmp: Component, isRbacEnabled, inventoryRef, store, ...props }) => {\n    const { hasAccess } = usePermissionsWithContext([\n        'inventory:*:read',\n        'inventory:hosts:read'\n    ]);\n\n    return (\n        <Component\n            {...props}\n            {...inventoryRef && {\n                ref: inventoryRef\n            }}\n            isRbacEnabled={isRbacEnabled}\n            hasAccess={isRbacEnabled ? hasAccess : true}\n            store={store}\n        />\n    );\n};\n\nRenderWrapper.propTypes = {\n    cmp: PropTypes.any,\n    inventoryRef: PropTypes.any,\n    store: PropTypes.object,\n    customRender: PropTypes.bool,\n    isRbacEnabled: PropTypes.bool\n};\n\nexport default RenderWrapper;\n","import { createContext } from 'react';\nimport { usePermissionsWithContext } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\nimport { INVENTORY_WRITE_PERMISSIONS } from '../constants';\n\nexport const TEXT_FILTER = 'hostname_or_id';\nexport const TEXTUAL_CHIP = 'textual';\nexport const TAG_CHIP = 'tags';\nexport const STALE_CHIP = 'staleness';\nexport const REGISTERED_CHIP = 'registered_with';\nexport const OS_CHIP = 'operating_system';\nexport const RHCD_FILTER_KEY = 'rhc_client_id';\nexport const UPDATE_METHOD_KEY = 'system_update_method';\nexport const LAST_SEEN_CHIP = 'last_seen';\nexport const HOST_GROUP_CHIP = 'group_name'; // use the same naming as for the back end parameter\n\nexport function subtractDate(days) {\n    const date = new Date();\n    date.setDate(date.getDate() - days);\n    return date.toISOString();\n}\n\nexport const staleness = [\n    { label: 'Fresh', value: 'fresh' },\n    { label: 'Stale', value: 'stale' },\n    { label: 'Stale warning', value: 'stale_warning' },\n    { label: 'Unknown', value: 'unknown' }\n];\n\nexport const currentDate = new Date().toISOString();\nexport const lastSeenItems = [\n    {\n        value: { updatedStart: subtractDate(1), updatedEnd: currentDate, mark: 'last24' },\n        label: 'Within the last 24 hours'    },\n    {\n        value: {  updatedEnd: subtractDate(1), mark: '24more' },\n        label: 'More than 1 day ago'\n\n    },\n    {\n        value: { updatedEnd: subtractDate(7), mark: '7more' },\n        label: 'More than 7 days ago'\n    },\n    {\n        value: { updatedEnd: subtractDate(15), mark: '15more' },\n        label: 'More than 15 days ago'\n    },\n    {\n        value: { updatedEnd: subtractDate(30), mark: '30more' },\n        label: 'More than 30 days ago'\n    },\n    {\n        value: { mark: 'custom' },\n        label: 'Custom'\n    }\n];\nexport const registered = [\n    { label: 'insights-client', value: 'puptoo', idName: 'Insights id', idValue: 'insights_id' },\n    { label: 'subscription-manager', value: 'rhsm-conduit',\n        idName: 'Subscription manager id', idValue: 'subscription_manager_id' },\n    { label: 'Satellite/Discovery', value: 'yupana' },\n    { label: 'insights-client not connected', value: '!puptoo' }\n];\nexport const InventoryContext = createContext({});\n\nexport const rhcdOptions = [\n    { label: 'Active', value: 'not_nil' },\n    { label: 'Inactive', value: 'nil' }\n];\n\nexport const updateMethodOptions = [\n    { label: 'yum', value: 'yum' },\n    { label: 'dnf', value: 'dnf' },\n    { label: 'rpm-ostree', value: 'rpm-ostree' }\n];\n\nexport function filterToGroup(filter = [], valuesKey = 'values') {\n    return filter.reduce((accGroup, group) => ({\n        ...accGroup,\n        [group.key]: group[valuesKey].reduce((acc, curr) => ({ ...acc, [curr.key]: {\n            isSelected: true,\n            group: curr.group,\n            item: {\n                meta: {\n                    tag: {\n                        key: curr.tagKey,\n                        value: curr.value\n                    }\n                }\n            }\n        } }), {})\n    }), {});\n}\n\nexport const arrayToSelection = (selected) => selected.reduce((acc, { cells: [key, value, namespace] }) => ({\n    ...acc,\n    [namespace]: {\n        ...acc[namespace?.title || namespace],\n        [key?.title || key]: {\n            isSelected: true,\n            group: { value: namespace?.title || namespace, label: namespace?.title || namespace },\n            item: {\n                value: key?.title || key,\n                meta: { tag: { key: key?.title || key, value: value?.title || value } }\n            }\n        }\n    }\n}), {});\n\nexport function reduceFilters(filters = []) {\n    return filters.reduce((acc, oneFilter) => {\n        if (oneFilter.value === TEXT_FILTER) {\n            return { ...acc, textFilter: oneFilter.filter };\n        } else if ('tagFilters' in oneFilter) {\n            return {\n                ...acc,\n                tagFilters: filterToGroup(oneFilter.tagFilters)\n            };\n        }\n\n        const foundKey = ['staleFilter', 'registeredWithFilter', 'osFilter', 'rhcdFilter', 'updateMethodFilter',\n            'lastSeenFilter', 'hostGroupFilter', '']\n        .find(item => Object.keys(oneFilter).includes(item));\n\n        return {\n            ...acc,\n            ...foundKey && { [foundKey]: oneFilter[foundKey] }\n        };\n    }, {\n        textFilter: '',\n        tagFilters: {}\n    });\n}\n\nexport const reloadWrapper = (event, callback) => {\n    event.payload.then(data => {\n        callback();\n        return data;\n    });\n\n    return event;\n};\n\nexport const isEmpty = (check) => !check || check?.length === 0;\n\nexport const generateFilter = (status,\n    source,\n    tagsFilter,\n    filterbyName,\n    operatingSystem,\n    rhcdFilter,\n    updateMethodFilter,\n    hostGroupFilter,\n    lastSeenFilter\n) => ([\n    !isEmpty(status) && {\n        staleFilter: Array.isArray(status) ? status : [status]\n    },\n    !isEmpty(tagsFilter) && {\n        tagFilters: Array.isArray(tagsFilter) ? tagsFilter : [tagsFilter]\n    },\n    !isEmpty(source) && {\n        registeredWithFilter: Array.isArray(source) ? source : [source]\n    },\n    !isEmpty(filterbyName) && {\n        value: 'hostname_or_id',\n        filter: Array.isArray(filterbyName) ? filterbyName[0] : filterbyName\n    },\n    (!isEmpty(status) || !isEmpty(tagsFilter) || !isEmpty(filterbyName)) && isEmpty(source) && {\n        registeredWithFilter: []\n    },\n    (!isEmpty(source) || !isEmpty(tagsFilter) || !isEmpty(filterbyName)) && isEmpty(status) && {\n        staleFilter: []\n    },\n    !isEmpty(operatingSystem) && {\n        osFilter: Array.isArray(operatingSystem) ? operatingSystem : [operatingSystem]\n    },\n    !isEmpty(rhcdFilter) && {\n        rhcdFilter: Array.isArray(rhcdFilter) ? rhcdFilter : [rhcdFilter]\n    },\n    !isEmpty(lastSeenFilter) && {\n        lastSeenFilter: Array.isArray(lastSeenFilter)\n            ? lastSeenItems.filter((item)=> item.value.mark === lastSeenFilter[0])[0].value : [lastSeenFilter]\n    },\n    !isEmpty(updateMethodFilter) && {\n        updateMethodFilter: Array.isArray(updateMethodFilter) ? updateMethodFilter : [updateMethodFilter]\n    },\n    !isEmpty(hostGroupFilter) && {\n        hostGroupFilter: Array.isArray(hostGroupFilter) ? hostGroupFilter : [hostGroupFilter]\n    }\n].filter(Boolean));\n\nexport const useWritePermissions = () => {\n    const { hasAccess } = usePermissionsWithContext(INVENTORY_WRITE_PERMISSIONS);\n\n    return hasAccess;\n};\n\nexport const allStaleFilters = ['fresh', 'stale', 'stale_warning', 'unknown'];\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { toggleTagModal, fetchAllTags } from '../store/actions';\nimport { TagModal } from '@redhat-cloud-services/frontend-components/TagModal';\nimport { cellWidth } from '@patternfly/react-table';\nimport debounce from 'lodash/debounce';\nimport flatten from 'lodash/flatten';\n\nconst TagsModal = ({\n    filterTagsBy,\n    onToggleModal,\n    onApply,\n    getTags\n}) => {\n    const dispatch = useDispatch();\n    const [filterBy, setFilterBy] = useState('');\n    const [selected, setSelected] = useState([]);\n    const [statePagination, setStatePagination] = useState({\n        perPage: 10,\n        page: 1\n    });\n\n    const showTagDialog = useSelector(({ entities, entityDetails }) => (entities || entityDetails)?.showTagDialog);\n\n    const pagination = useSelector(({ entities, entityDetails }) => {\n        if (entities?.activeSystemTag || entityDetails?.entity) {\n            return statePagination;\n        }\n\n        return entities?.allTagsPagination || statePagination;\n    }, shallowEqual);\n\n    const loaded = useSelector(({ entities, entityDetails }) => entities?.tagModalLoaded || entityDetails?.tagModalLoaded);\n\n    const activeSystemTag = useSelector(({ entities, entityDetails }) => entities?.activeSystemTag || entityDetails?.entity);\n    const tags = useSelector(({ entities, entityDetails }) => {\n        const activeTags = entities?.activeSystemTag?.tags || entityDetails?.entity?.tags;\n\n        if (activeTags) {\n            return activeTags?.filter(\n                (tag) => Object.values(tag).some((val) => val?.toLowerCase().includes(filterBy.toLowerCase()))\n            ).slice(statePagination?.perPage * (statePagination?.page - 1), statePagination?.perPage * statePagination?.page);\n        }\n\n        return entities?.allTags?.reduce((acc, { tags }) => ([\n            ...acc,\n            ...flatten(tags.map(({ tag }) => tag))\n        ]), []);\n    });\n\n    const tagsCount = useSelector(({ entities, entityDetails }) => {\n        const activeTags = (entities?.activeSystemTag?.tags || entityDetails?.entity?.tags)?.filter(\n            (tag) => Object.values(tag).some((val) => val?.includes(filterBy))\n        );\n        return activeTags ? activeTags.length : entities?.allTagsTotal;\n    });\n\n    useEffect(() => {\n        setFilterBy(filterTagsBy);\n    }, [filterTagsBy]);\n\n    const fetchTags = (pagination, filterBy) => {\n        if (!activeSystemTag) {\n            dispatch(fetchAllTags(filterBy, pagination, getTags));\n        } else {\n            setStatePagination(() => pagination);\n        }\n    };\n\n    const debouncedFetch = useCallback(debounce(fetchTags, 800), [activeSystemTag]);\n\n    return (\n        <TagModal\n            className=\"ins-c-inventory__tags-modal\"\n            tableProps={{\n                canSelectAll: false\n            }}\n            {...loaded && {\n                loaded,\n                pagination: {\n                    ...pagination,\n                    count: tagsCount\n                },\n                rows: tags?.map(({ key, value, namespace }) => ({\n                    id: `${namespace}/${key}=${value}`,\n                    selected: selected.find(({ id }) => id === `${namespace}/${key}=${value}`),\n                    cells: [key, value, namespace]\n                })) || []\n            }}\n            loaded={ loaded }\n            width=\"auto\"\n            isOpen={ showTagDialog }\n            toggleModal={() => {\n                setSelected([]);\n                setFilterBy('');\n                onToggleModal();\n                dispatch(toggleTagModal(false));\n            }}\n            filters={[\n                {\n                    label: 'Tags filter',\n                    placeholder: 'Filter tags',\n                    value: 'tags-filter',\n                    filterValues: {\n                        value: filterBy,\n                        onChange: (_e, value) => {\n                            debouncedFetch(pagination, value);\n                            setFilterBy(value);\n                        }\n                    }\n                }\n            ]}\n            onUpdateData={ (pagination) => fetchTags(pagination, filterBy) }\n            columns={ [\n                { title: 'Name' },\n                { title: 'Value', transforms: [cellWidth(30)] },\n                { title: 'Tag source', transforms: [cellWidth(30)] }\n            ] }\n            {...!activeSystemTag && {\n                onSelect: (selected) => setSelected(selected),\n                selected,\n                onApply: () => onApply && onApply(selected)\n            }}\n            bulkSelect={{ id: 'bulk-select-tags' }}\n            title={ activeSystemTag ?\n                `${activeSystemTag.display_name} (${tagsCount})` :\n                `All tags in inventory (${tagsCount})`\n            }\n        />\n    );\n};\n\nTagsModal.propTypes = {\n    onApply: PropTypes.func,\n    onToggleModal: PropTypes.func,\n    filterTagsBy: PropTypes.string,\n    customFilters: PropTypes.shape({\n        tags: PropTypes.oneOfType([\n            PropTypes.object,\n            PropTypes.arrayOf(PropTypes.string)\n        ])\n    }),\n    getTags: PropTypes.func\n};\n\nTagsModal.defaultProps = {\n    filterTagsBy: '',\n    onToggleModal: () => undefined\n};\n\nexport default TagsModal;\n","import { loadEntities } from '../store/inventory-actions';\n\nexport const subtractWeeks = (numOfWeeks, date = new Date()) => {\n    date.setDate(date.getDate() - numOfWeeks * 7);\n\n    return date;\n};\n\nexport const verifyCollectorStaleness = (reporterStaleness) =>{\n    const stalenessDate = new Date(reporterStaleness.stale_timestamp);\n    const currentDateTime = new Date();\n\n    const twoWeeksPeriod = subtractWeeks(2);\n    const oneWeeksPeriod = subtractWeeks(1);\n\n    if (stalenessDate > currentDateTime) {\n        return 'Fresh';\n    } else if (oneWeeksPeriod < stalenessDate && stalenessDate < currentDateTime) {\n        return 'Stale';\n    }\n    else if (twoWeeksPeriod < stalenessDate && stalenessDate < oneWeeksPeriod) {\n        return 'Stale warning';\n    } else {\n        return 'Culled';\n    }\n};\n\nexport const verifyCulledInsightsClient = (perReporterStaleness) => {\n    //TODO: get rid of !perReporterStaleness condition when dependant apps have per_reporter_staleness info\n    if (!perReporterStaleness) {\n        return false;\n    }\n    else if (perReporterStaleness.puptoo) {\n        return verifyCollectorStaleness(perReporterStaleness.puptoo) === 'Culled';\n    } else {\n        return true;\n    }\n};\n\nexport const loadSystems = (options, showTags, getEntities) => {\n    const limitedItems = options?.items?.length > options.per_page ? options?.items?.slice(\n        (options?.page - 1) * options.per_page, options?.page * options.per_page\n    ) : options?.items;\n\n    const config = {\n        ...options.hasItems && {\n            sortBy: options?.sortBy?.key,\n            orderDirection: options?.sortBy?.direction?.toUpperCase()\n        },\n        ...options,\n        filters: options?.filters || options?.activeFilters,\n        orderBy: options?.orderBy || options?.sortBy?.key,\n        orderDirection: options?.orderDirection?.toUpperCase() || options?.sortBy?.direction?.toUpperCase(),\n        ...limitedItems?.length > 0 && {\n            itemsPage: options?.page,\n            page: 1\n        }\n    };\n\n    return loadEntities(limitedItems, config, { showTags }, getEntities);\n};\n","import 'abortcontroller-polyfill/dist/polyfill-patch-fetch';\nexport const INVENTORY_API_BASE = '/api/inventory/v1';\nimport flatMap from 'lodash/flatMap';\n\nimport instance from '@redhat-cloud-services/frontend-components-utilities/interceptors';\nimport { generateFilter, mergeArraysByKey } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport { HostsApi, TagsApi, SystemProfileApi, GroupsApi } from '@redhat-cloud-services/host-inventory-client';\nimport { allStaleFilters, RHCD_FILTER_KEY, UPDATE_METHOD_KEY } from '../Utilities/constants';\n\nexport { instance };\nexport const hosts = new HostsApi(undefined, INVENTORY_API_BASE, instance);\nexport const tags = new TagsApi(undefined, INVENTORY_API_BASE, instance);\nexport const systemProfile = new SystemProfileApi(undefined, INVENTORY_API_BASE, instance);\nexport const groupsApi = new GroupsApi(undefined, INVENTORY_API_BASE, instance);\nexport const getEntitySystemProfile = (item) => hosts.apiHostGetHostSystemProfileById([item]);\n\n/* eslint camelcase: off */\nexport const mapData = ({ facts = {}, ...oneResult }) => ({\n    ...oneResult,\n    rawFacts: facts,\n    facts: {\n        ...facts.reduce?.((acc, curr) => ({ ...acc, [curr.namespace]: curr.facts }), {}),\n        ...flatMap(facts, (oneFact => Object.values(oneFact)))\n        .map(item => typeof item !== 'string' ? ({\n            ...item,\n            // eslint-disable-next-line camelcase\n            os_release: item.os_release || item.release,\n            // eslint-disable-next-line camelcase\n            display_name: item.display_name || item.fqdn || item.id\n        }) : item)\n        .reduce(\n            (acc, curr) => ({ ...acc, ...(typeof curr !== 'string') ? curr : {} }), {}\n        )\n    }\n});\n\nexport const mapTags = (data = { results: [] }, { orderBy, orderDirection } = {}) => {\n    if (data.results.length > 0) {\n        return hosts.apiHostGetHostTags(data.results.map(({ id }) => id), data.per_page, 1, orderBy, orderDirection)\n        .then(({ results: tags }) => ({\n            ...data,\n            results: data.results.map(row => ({ ...row, tags: tags[row.id] || [] }))\n        }))\n        .catch(() => ({\n            ...data,\n            results: data.results.map(row => ({\n                ...row,\n                tags: []\n            }))\n        }));\n    }\n\n    return data;\n};\n\nexport const constructTags = (tagFilters) => {\n    return flatMap(\n        tagFilters,\n        ({ values, category: namespace }) => values.map(({ value: tagValue, tagKey }) => (\n            `${namespace ? `${namespace}/` : ''}${tagKey}${tagValue ? `=${tagValue}` : ''}`\n        ))\n    ) || '';\n};\n\nexport const calculateSystemProfile = ({ osFilter, rhcdFilter, updateMethodFilter }) => {\n    let systemProfile = {};\n    const osFilterValues = Array.isArray(osFilter) ? osFilter : Object.values(osFilter || {})\n    .flatMap((majorOsVersion) => Object.keys(majorOsVersion));\n\n    if (osFilterValues?.length > 0) {\n        systemProfile.operating_system = {\n            RHEL: {\n                version: {\n                    eq: osFilterValues\n                }\n            }\n        };\n    }\n\n    if (rhcdFilter) {\n        systemProfile[RHCD_FILTER_KEY] = rhcdFilter;\n    }\n\n    if (updateMethodFilter) {\n        systemProfile[UPDATE_METHOD_KEY] =  {\n            eq: updateMethodFilter\n        };\n    }\n\n    return generateFilter({ system_profile: systemProfile });\n};\n\nexport const filtersReducer = (acc, filter = {}) => ({\n    ...acc,\n    ...filter.value === 'hostname_or_id' && { hostnameOrId: filter.filter },\n    ...'tagFilters' in filter && { tagFilters: filter.tagFilters },\n    ...'staleFilter' in filter && { staleFilter: filter.staleFilter },\n    ...'registeredWithFilter' in filter && { registeredWithFilter: filter.registeredWithFilter },\n    ...'osFilter' in filter && { osFilter: filter.osFilter },\n    ...'rhcdFilter' in filter && { rhcdFilter: filter.rhcdFilter },\n    ...'lastSeenFilter' in filter && { lastSeenFilter: filter.lastSeenFilter },\n    ...'updateMethodFilter' in filter && { updateMethodFilter: filter.updateMethodFilter },\n    ...'hostGroupFilter' in filter && { hostGroupFilter: filter.hostGroupFilter }\n});\n\nexport async function getEntities(items, {\n    controller,\n    hasItems,\n    filters,\n    per_page: perPage,\n    page,\n    orderBy,\n    orderDirection,\n    fields = { system_profile: ['operating_system', /* needed by inventory groups */ 'system_update_method'] },\n    ...options\n}, showTags) {\n    if (hasItems && items?.length > 0) {\n        let data = await hosts.apiHostGetHostById(\n            items,\n            undefined,\n            perPage,\n            page,\n            orderBy,\n            orderDirection,\n            undefined,\n            undefined,\n            { cancelToken: controller && controller.token }\n        );\n        if (fields && Object.keys(fields).length) {\n            try {\n                const result = await hosts.apiHostGetHostSystemProfileById(\n                    items,\n                    perPage,\n                    undefined,\n                    undefined,\n                    undefined,\n                    undefined,\n                    undefined,\n                    {\n                        cancelToken: controller && controller.token,\n                        query: generateFilter(fields, 'fields')\n                    }\n                );\n\n                data = {\n                    ...data,\n                    results: mergeArraysByKey([\n                        data?.results,\n                        result?.results || []\n                    ], 'id')\n                };\n            } catch (e) {\n                console.error(e); // eslint-disable-line\n            }\n        }\n\n        data = showTags ? await mapTags(data) : data;\n\n        data = {\n            ...data,\n            filters,\n            results: data.results.map(result => mapData({\n                ...result,\n                display_name: result.display_name || result.fqdn || result.id\n            }))\n        };\n\n        return data;\n    } else if (!hasItems) {\n        return hosts.apiHostGetHostList(\n            undefined,\n            undefined,\n            filters.hostnameOrId,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            undefined,\n            filters.hostGroupFilter,\n            undefined,\n            perPage,\n            page,\n            orderBy,\n            orderDirection,\n            filters.staleFilter,\n            [\n                ...constructTags(filters?.tagFilters),\n                ...options?.globalFilter?.tags || []\n            ],\n            filters?.registeredWithFilter,\n            undefined,\n            undefined,\n            {\n                cancelToken: controller && controller.token,\n                query: {\n                    ...(options?.globalFilter?.filter && generateFilter(options.globalFilter.filter)),\n                    ...(options.filter && Object.keys(options.filter).length && generateFilter(options.filter)),\n                    ...(calculateSystemProfile(filters)),\n                    ...(fields && Object.keys(fields).length && generateFilter(fields, 'fields')),\n                    ...filters?.lastSeenFilter?.updatedStart && { updated_start: filters.lastSeenFilter.updatedStart },\n                    ...filters?.lastSeenFilter?.updatedEnd && { updated_end: filters.lastSeenFilter.updatedEnd }\n                }\n            }\n        )\n        .then((data) => showTags ? mapTags(data, { orderBy, orderDirection }) : data)\n        .then(({ results = [], ...data } = {}) => ({\n            ...data,\n            filters,\n            results: results.map(result => mapData({\n                ...result,\n                display_name: result.display_name || result.fqdn || result.id\n            }))\n        }));\n    }\n\n    return {\n        page,\n        per_page: perPage,\n        results: []\n    };\n}\n\nexport function getTags(systemId, search, { pagination } = { pagination: {} }) {\n    return hosts.apiHostGetHostTags(\n        systemId,\n        pagination.perPage || 10,\n        pagination.page || 1,\n        undefined,\n        undefined,\n        search\n    );\n}\n\nexport function getAllTags(search, pagination = {}) {\n    return tags.apiTagGetTags(\n        [],\n        'tag',\n        'ASC',\n        pagination.perPage || 10,\n        pagination.page || 1,\n        //TODO: ask the backend to return all tags by default.\n        allStaleFilters,\n        search,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined,\n        undefined\n    );\n}\n\nexport function getOperatingSystems(params = []) {\n    return systemProfile.apiSystemProfileGetOperatingSystem(...params);\n}\n","import instance from '@redhat-cloud-services/frontend-components-utilities/interceptors';\nexport const systemIssuesInstance = instance;\n\nexport const cves = async (systemId) => {\n    try {\n        const [low, moderate, important, critical] = await Promise.all([2, 4, 5, 7].map((impact) => (\n            instance.get(\n                `/api/vulnerability//v1/systems/${systemId}/cves?page=1&page_size=1&impact=${impact}`\n            )\n        )));\n        return { low, moderate, important, critical };\n    } catch (_e) {\n        return {};\n    }\n};\n\nexport const patch = async (systemId) => {\n    try {\n        return await instance.get(`/api/patch/v1/systems/${systemId}`);\n    } catch (_e) {\n        return {};\n    }\n};\n\nexport const advisor = async (systemId) => {\n    try {\n        return await instance.get(`/api/insights/v1/system/${systemId}/reports/`);\n    } catch (_e) {\n        return {};\n    }\n};\n\nexport const compliance = async (systemId) => {\n    const query = `query System($systemId: String!) {\n        system(id: $systemId) {\n            id\n            name\n            profiles {\n                id\n                name\n                refId\n                compliant\n                rulesFailed\n                rulesPassed\n                lastScanned\n                score\n                __typename\n            }\n            __typename\n        }\n    }`;\n    try {\n        return await instance.post('/api/compliance/graphql', {\n            operationName: 'System',\n            query,\n            variables: {\n                systemId\n            }\n        });\n    } catch (_e) {\n        return {};\n    }\n};\n","/* eslint-disable camelcase */\nimport { instance } from '@redhat-cloud-services/frontend-components-utilities/interceptors/interceptors';\nimport { INVENTORY_API_BASE } from '../../../api';\nimport { TABLE_DEFAULT_PAGINATION } from '../../../constants';\nimport PropTypes from 'prop-types';\n\nexport const getGroups = (search = {}, pagination = { page: 1, per_page: TABLE_DEFAULT_PAGINATION }) => {\n    const parameters = new URLSearchParams({\n        ...search,\n        ...pagination\n    }).toString();\n\n    return instance.get(`${INVENTORY_API_BASE}/groups?${parameters}` /* , { headers: { Prefer: 'code=404' } } */);\n};\n\nexport const getGroupsByIds = (groupIds, search = {}) => {\n    const parameters = new URLSearchParams(search).toString();\n    const path = `${INVENTORY_API_BASE}/groups/${groupIds.join(',')}${\n        parameters !== '' ? '?' + parameters : ''\n    }`;\n\n    return instance.get(path);\n};\n\nexport const createGroup = (payload) => {\n    return instance.post(`${INVENTORY_API_BASE}/groups`, {\n        name: payload.name\n    });\n};\n\nexport const validateGroupName = (name) => {\n    return instance.get(`${INVENTORY_API_BASE}/groups`)\n    .then((resp) => resp?.results.some((group) => group.name === name));\n};\n\nexport const getGroupDetail = (groupId) => {\n    return instance.get(`${INVENTORY_API_BASE}/groups/${groupId}`);\n};\n\nexport const updateGroupById = (id, payload) => {\n    return instance.patch(`${INVENTORY_API_BASE}/groups/${id}`, payload);\n};\n\nexport const deleteGroupsById = (ids = []) => {\n    return instance.delete(`${INVENTORY_API_BASE}/groups/${ids.join(',')}`);\n};\n\nexport const addHostsToGroupById = (id, hostIds) => {\n    return instance.post(`${INVENTORY_API_BASE}/groups/${id}/hosts`, hostIds);\n};\n\nexport const removeHostsFromGroup = (groupId, hostIds) => {\n    return instance.delete(`${INVENTORY_API_BASE}/groups/${groupId}/hosts/${hostIds.join(',')}`);\n};\n\ngetGroups.propTypes = {\n    search: PropTypes.shape({\n        name: PropTypes.string\n    }),\n    pagination: PropTypes.shape({\n        per_page: PropTypes.number,\n        page: PropTypes.number\n    })\n};\n\ngetGroupDetail.propTypes = {\n    groupId: PropTypes.string.isRequired\n};\n","import PropTypes from 'prop-types';\nimport { RHCD_FILTER_KEY, UPDATE_METHOD_KEY, HOST_GROUP_CHIP } from './Utilities/constants';\n\nexport const tagsMapper = (acc, curr) => {\n    let [namespace, keyValue] = curr.split('/');\n    if (!keyValue) {\n        keyValue = namespace;\n        namespace = null;\n    }\n\n    const [key, value = null] = keyValue.split('=');\n    const currTagKey = acc.findIndex(({ category }) => category === namespace);\n    const currTag = acc[currTagKey] || {\n        category: namespace,\n        key: namespace,\n        type: 'tags',\n        values: []\n    };\n    currTag.values.push({\n        name: `${key}${value ? `=${value}` : ''}`,\n        key: `${key}${value ? `=${value}` : ''}`,\n        tagKey: key,\n        value,\n        group: {\n            label: namespace,\n            value: namespace,\n            type: 'checkbox'\n        }\n    });\n    if (!acc[currTagKey]) {\n        acc.push(currTag);\n    }\n\n    return acc;\n};\n\nexport const prepareRows = (rows = [], pagination = {}) => (\n    rows\n    .slice((pagination.page - 1) * pagination.perPage, pagination.page * pagination.perPage)\n);\n\nexport const isDate = (date) => {\n    return !(isNaN(date) && isNaN(Date.parse(date)));\n};\n\nexport const filterRows = (rows = [], activeFilters = {}) => (\n    rows\n    .filter(row => (\n        Object.values(activeFilters).length === 0 ||\n        Object.values(activeFilters)\n        .every(\n            filter => {\n                const rowValue = row[filter.key] && (row[filter.key].sortValue || row[filter.key]);\n                return rowValue && (\n                    Array.isArray(filter.value) ?\n                        filter.value.includes(rowValue) :\n                        rowValue.toLocaleLowerCase().indexOf(filter.value.toLocaleLowerCase()) !== -1\n                );\n            }\n        )\n    ))\n);\n\nexport const generateFilters = (cells = [], filters = [], activeFilters = {}, onChange = () => undefined) => (\n    filters.map((filter, key) => {\n        const activeKey = filter.index || key;\n        const activeLabel = cells[activeKey] && (cells[activeKey].title || cells[activeKey]);\n        return ({\n            value: String(activeKey),\n            label: activeLabel,\n            type: filter.type || 'text',\n            filterValues: {\n                id: filter.id || `${activeLabel}-${activeKey}`,\n                onChange: (_e, newFilter) => onChange(activeKey, newFilter, activeLabel),\n                value: activeFilters[activeKey] && activeFilters[activeKey].value,\n                ...filter.options && { items: filter.options }\n            }\n        });\n    })\n);\n\nexport const onDeleteFilter = (deleted = {}, deleteAll = false, activeFilters = {}) => {\n    if (deleteAll) {\n        return {};\n    } else {\n        const { [deleted.key]: workingItem, ...filtersRest } = activeFilters;\n        const newValue = workingItem && Array.isArray(workingItem.value) &&\n            workingItem.value.filter(item => !deleted.chips.find(({ name }) => name === item));\n        const newFilter = workingItem && Array.isArray(workingItem.value) && newValue && newValue.length > 0 ? {\n            [deleted.key]: {\n                ...workingItem,\n                value: newValue\n            }\n        } : {};\n        return {\n            ...filtersRest,\n            ...newFilter\n        };\n    }\n};\n\nexport const extraShape = PropTypes.shape({\n    title: PropTypes.node,\n    value: PropTypes.node,\n    singular: PropTypes.node,\n    plural: PropTypes.node,\n    onClick: PropTypes.func\n});\n\nexport const INVENTORY_WRITE_PERMISSIONS = [\n    'inventory:*:*',\n    'inventory:hosts:write',\n    'inventory:*:write'\n];\n\nexport const getSearchParams = () => {\n    const searchParams = new URLSearchParams(location.search);\n    const status = searchParams.getAll('status');\n    const source = searchParams.getAll('source');\n    const filterbyName = searchParams.getAll('hostname_or_id');\n    const tagsFilter = searchParams.getAll('tags')?.[0]?.split?.(',').reduce?.(tagsMapper, []);\n    const operatingSystem = searchParams.getAll('operating_system');\n    const rhcdFilter = searchParams.getAll(RHCD_FILTER_KEY);\n    const updateMethodFilter = searchParams.getAll(UPDATE_METHOD_KEY);\n    const hostGroupFilter = searchParams.getAll(HOST_GROUP_CHIP);\n    const page = searchParams.getAll('page');\n    const perPage = searchParams.getAll('per_page');\n    const lastSeenFilter = searchParams.getAll('last_seen');\n    return { status, source, tagsFilter, filterbyName, operatingSystem, rhcdFilter, updateMethodFilter, lastSeenFilter,\n        page, perPage, hostGroupFilter };\n};\n\nexport const TABLE_DEFAULT_PAGINATION = 50; // from UX table audit\n","import keyBy from 'lodash/keyBy';\n\nconst makeActions = (actions) => {\n    return actions?.reduce?.((acc, curr) => ({\n        ...acc,\n        [curr]: curr,\n        [`${curr}_PENDING`]: `${curr}_PENDING`,\n        [`${curr}_FULFILLED`]: `${curr}_FULFILLED`,\n        [`${curr}_REJECTED`]: `${curr}_REJECTED`\n    }), {});\n};\n\nconst actions = [\n    'ALERT_ADD',\n    'ALERT_DISMISS',\n    'REMOVE_ENTITY'\n];\n\nexport const asyncActions = [\n    'GET_ENTITIES',\n    'GET_ENTITY',\n    'UPDATE_DISPLAY_NAME',\n    'LOAD_WRITE_PERMISSIONS',\n    'LOAD_SYSTEM_PROFILE',\n    'SET_ANSIBLE_HOST'\n];\n\nexport const asyncInventory = [\n    'LOAD_ENTITIES',\n    'LOAD_ENTITY',\n    'REMOVE_ENTITY',\n    'LOAD_SYSTEM_PROFILE',\n    'SET_DISPLAY_NAME',\n    'SET_ANSIBLE_HOST',\n    'LOAD_TAGS',\n    'ALL_TAGS',\n    'OPERATING_SYSTEMS',\n    'GROUPS',\n    'GROUP_DETAIL',\n    'GROUPS_FOR_ENTITIES'\n];\n\nexport const systemIssues = [\n    'LOAD_ADVISOR_RECOMMENDATIONS',\n    'LOAD_APPLICABLE_CVES',\n    'LOAD_APPLICABLE_ADVISORIES',\n    'LOAD_COMPLIANCE_POLICIES'\n];\n\nexport const ACTION_TYPES = { ...keyBy(actions, k => k), ...makeActions(asyncActions), ...makeActions(asyncInventory) };\nexport const INVENTORY_ACTION_TYPES = makeActions(asyncInventory);\nexport const SYSTEM_ISSUE_TYPES = makeActions(systemIssues);\n\nexport const CLEAR_NOTIFICATIONS = '@@INSIGHTS-CORE/NOTIFICATIONS/CLEAR_NOTIFICATIONS';\nexport const SELECT_ENTITY = 'SELECT_ENTITY';\nexport const SET_INVENTORY_FILTER = 'SET_INVENTORY_FILTER';\nexport const SET_PAGINATION = 'SET_PAGINATION';\nexport const SET_DISPLAY_NAME = 'SET_DISPLAY_NAME';\nexport const SET_ANSIBLE_HOST = 'SET_ANSIBLE_HOST';\n\nexport const UPDATE_ENTITIES = 'UPDATE_ENTITIES';\nexport const CHANGE_SORT = 'CHANGE_SORT';\nexport const FILTER_ENTITIES = 'FILTER_ENTITIES';\nexport const SHOW_ENTITIES = 'SHOW_ENTITIES';\nexport const FILTER_SELECT = 'FILTER_SELECT';\nexport const ENTITIES_LOADING = 'ENTITIES_LOADING';\nexport const CLEAR_FILTERS = 'CLEAR_FILTERS';\nexport const TOGGLE_TAG_MODAL = 'TOGGLE_TAG_MODAL';\nexport const CONFIG_CHANGED = 'CONFIG_CHANGED';\nexport const TOGGLE_DRAWER = 'TOGGLE_INVENTORY_DRAWER';\nexport const CLEAR_ENTITIES = 'CLEAR_ENTITIES';\n","import { hosts } from '../../../api';\nimport pAll from 'p-all';\n\nconst resolve = async (fns, limit = 2) => {\n    const results = await pAll(fns, {\n        concurrency: limit\n    });\n    return results;\n};\n\nexport const deleteSystemsById = (items, batchSize = 50) => {\n    let arr = [];\n    for (let i = 0; i < items.length; i += batchSize) {\n        let chunk;\n        chunk = items.slice(i, i + batchSize);\n        arr.push(chunk);\n    }\n\n    const results = resolve(\n        arr.map(itemArray => () => {\n            return hosts.apiHostDeleteHostById(itemArray); }\n        )\n    );\n    return results;\n};\n","import { SYSTEM_ISSUE_TYPES } from './action-types';\nimport {\n    cves,\n    compliance,\n    advisor,\n    patch\n} from '../api';\n\nexport const getAdvisorData = (systemId) => ({\n    type: SYSTEM_ISSUE_TYPES.LOAD_ADVISOR_RECOMMENDATIONS,\n    payload: advisor(systemId)\n});\n\nexport const getVulnData = (systemId) => ({\n    type: SYSTEM_ISSUE_TYPES.LOAD_APPLICABLE_CVES,\n    payload: cves(systemId)\n});\n\nexport const getPatchData = (systemId) => ({\n    type: SYSTEM_ISSUE_TYPES.LOAD_APPLICABLE_ADVISORIES,\n    payload: patch(systemId)\n});\n\nexport const getComplianceData = (systemId) => ({\n    type: SYSTEM_ISSUE_TYPES.LOAD_COMPLIANCE_POLICIES,\n    payload: compliance(systemId)\n});\n","import { ACTION_TYPES, CLEAR_NOTIFICATIONS, SET_INVENTORY_FILTER, SET_PAGINATION,\n    CLEAR_ENTITIES } from './action-types';\nimport { hosts, getEntitySystemProfile } from '../api';\nimport { deleteSystemsById } from '../components/InventoryTable/utils/api';\nexport * from './system-issues-actions';\nexport * from './inventory-actions';\n\nexport const deleteEntity = (systems, displayName) => ({\n    type: ACTION_TYPES.REMOVE_ENTITY,\n    payload: deleteSystemsById(systems),\n    meta: {\n        notifications: {\n            fulfilled: {\n                variant: 'success',\n                title: 'Delete operation finished',\n                description: `${displayName} has been successfully removed.`,\n                dismissable: true\n            }\n        },\n        systems\n    }\n});\n\nexport const setFilter = (filtersList) => ({\n    type: SET_INVENTORY_FILTER,\n    payload: {\n        filtersList\n    }\n});\n\nexport const clearNotifications = () => {\n    return ({\n        type: CLEAR_NOTIFICATIONS\n    });\n};\n\nexport const editDisplayName = (id, value, origValue) => ({\n    type: ACTION_TYPES.UPDATE_DISPLAY_NAME,\n    payload: hosts.apiHostPatchHostById([id], { display_name: value }), // eslint-disable-line camelcase\n    meta: {\n        id,\n        value,\n        origValue,\n        notifications: {\n            fulfilled: {\n                variant: 'success',\n                title: `Display name for entity with ID ${id} has been changed to ${value}`,\n                dismissable: true\n            }\n        }\n    }\n});\n\nexport const setPagination = (page, perPage) => ({\n    type: SET_PAGINATION,\n    payload: {\n        page, perPage\n    }\n});\n\nexport const systemProfile = (itemId) => ({\n    type: ACTION_TYPES.LOAD_SYSTEM_PROFILE,\n    payload: getEntitySystemProfile(itemId, {})\n});\n\nexport const editAnsibleHost = (id, value, origValue) => ({\n    type: ACTION_TYPES.SET_ANSIBLE_HOST,\n    payload: hosts.apiHostPatchHostById([id], { ansible_host: value }), // eslint-disable-line camelcase\n    meta: {\n        id,\n        value,\n        origValue,\n        notifications: {\n            fulfilled: {\n                variant: 'success',\n                title: 'Ansible hostname has been updated',\n                dismissable: true\n            }\n        }\n    }\n});\n\nexport const clearEntitiesAction = () => ({\n    type: CLEAR_ENTITIES,\n    payload: []\n});\n","import {\n    ACTION_TYPES,\n    SELECT_ENTITY,\n    CHANGE_SORT,\n    FILTER_ENTITIES,\n    FILTER_SELECT,\n    UPDATE_ENTITIES,\n    ENTITIES_LOADING,\n    CLEAR_FILTERS,\n    TOGGLE_TAG_MODAL,\n    CONFIG_CHANGED,\n    TOGGLE_DRAWER\n} from './action-types';\nimport {\n    getEntities as defaultGetEntities,\n    getEntitySystemProfile,\n    hosts,\n    getAllTags as defaultGetAllTags,\n    getTags,\n    filtersReducer,\n    getOperatingSystems,\n    groupsApi\n} from '../api';\nimport { getGroupDetail, getGroups } from '../components/InventoryGroups/utils/api';\n\nexport const loadEntities = (items = [], { filters, ...config }, { showTags } = {}, getEntities = defaultGetEntities) => {\n    const itemIds = items.reduce((acc, curr) => (\n        [\n            ...acc,\n            curr && typeof curr === 'string' ? curr : curr.id\n        ]\n    ), []).filter(Boolean);\n\n    const isFilterDisabled = (name) => config.hideFilters?.[name] ||\n    (config.hideFilters?.all && config.hideFilters?.[name] !== false);\n\n    const updatedFilters = filters ? filters.reduce(filtersReducer, {\n        ...filters.length === 0 && { registeredWithFilter: [] },\n        ...(isFilterDisabled('stale') && { staleFilter: undefined }),\n        ...(isFilterDisabled('registeredWith') && { registeredWithFilter: undefined }),\n        ...(isFilterDisabled('operating_system') && { osFilter: undefined }),\n        ...(isFilterDisabled('host_group')) && { hostGroupFilter: undefined }\n    }) : {\n        ...(isFilterDisabled('stale') && { staleFilter: undefined }),\n        ...(isFilterDisabled('last_seen') && { lastSeenFilter: undefined }),\n        ...(isFilterDisabled('registeredWith') && { registeredWithFilter: undefined }),\n        ...(isFilterDisabled('operating_system') && { osFilter: undefined }),\n        ...(isFilterDisabled('host_group')) && { hostGroupFilter: undefined }\n    };\n\n    const orderBy = config.orderBy || 'updated';\n    const orderDirection = config.orderDirection || 'DESC';\n\n    const lastDateRequest = Date.now();\n\n    return {\n        type: ACTION_TYPES.LOAD_ENTITIES,\n        payload: getEntities(itemIds, {\n            filters: updatedFilters,\n            ...config,\n            orderBy,\n            orderDirection\n        }, showTags, defaultGetEntities).then(({ results, ...data }) => ({\n            ...data,\n            filters,\n            sortBy: { key: orderBy, direction: orderDirection },\n            results: items.length > 0 ? items.map((item) => ({\n                ...item.id ? item : { id: item },\n                ...results.find(({ id }) => id === item || id === item.id) || {}\n            })) : results,\n            page: config.page || (data?.page),\n            // eslint-disable-next-line camelcase\n            per_page: config.per_page || (data?.per_page),\n            hideFilters: config.hideFilters\n        })),\n        meta: {\n            showTags,\n            lastDateRequest\n        }\n    };\n};\n\nexport const updateEntities = (items = []) => ({\n    type: UPDATE_ENTITIES,\n    payload: {\n        results: items\n    }\n});\n\nexport const filterSelect = (selectedItem) => ({\n    type: FILTER_SELECT,\n    payload: selectedItem\n});\n\nexport const loadEntity = (id, config, { showTags }) => ({\n    type: ACTION_TYPES.LOAD_ENTITY,\n    payload: defaultGetEntities(id, config, showTags),\n    meta: {\n        showTags\n    }\n});\n\nexport const selectEntity = (id, selected) => ({\n    type: SELECT_ENTITY,\n    payload: { id, selected }\n});\n\nexport const setSort = (data) => ({\n    type: CHANGE_SORT,\n    payload: data\n});\n\nexport const filterEntities = (key, filterString) => ({\n    type: FILTER_ENTITIES,\n    payload: { key, filterString }\n});\n\nexport const entitiesLoading = (isLoading = true) => ({\n    type: ENTITIES_LOADING,\n    payload: { isLoading }\n});\n\nexport const clearFilters = () => ({\n    type: CLEAR_FILTERS\n});\n\nexport const systemProfile = (itemId) => ({\n    type: ACTION_TYPES.LOAD_SYSTEM_PROFILE,\n    payload: getEntitySystemProfile(itemId, {})\n});\n\nexport const editDisplayName = (id, value) => ({\n    type: ACTION_TYPES.SET_DISPLAY_NAME,\n    payload: hosts.apiHostPatchHostById(id, { display_name: value }), // eslint-disable-line camelcase\n    meta: {\n        notifications: {\n            fulfilled: {\n                variant: 'success',\n                title: 'Display name has been updated',\n                dismissable: true\n            }\n        }\n    }\n});\n\nexport const editAnsibleHost = (id, value) => ({\n    type: ACTION_TYPES.SET_ANSIBLE_HOST,\n    payload: hosts.apiHostPatchHostById(id, { ansible_host: value }), // eslint-disable-line camelcase\n    meta: {\n        notifications: {\n            fulfilled: {\n                variant: 'success',\n                title: 'Ansible hostname has been updated',\n                dismissable: true\n            }\n        }\n    }\n});\n\nexport const loadTags = (systemId, search, options, count) => ({\n    type: ACTION_TYPES.LOAD_TAGS,\n    payload: getTags(systemId, search, options),\n    meta: {\n        tagsCount: count,\n        systemId\n    }\n});\n\nexport const toggleTagModal = (isOpen) => ({\n    type: TOGGLE_TAG_MODAL,\n    payload: { isOpen }\n});\n\nexport const fetchAllTags = (search, pagination, getTags = defaultGetAllTags) => ({\n    type: ACTION_TYPES.ALL_TAGS,\n    payload: getTags(search, pagination),\n    meta: { lastDateRequestTags: Date.now() }\n});\n\nexport const fetchGroups = (search, pagination) => ({\n    type: ACTION_TYPES.GROUPS,\n    payload: getGroups(search, pagination)\n});\n\nexport const fetchGroupDetail = (groupId) => ({\n    type: ACTION_TYPES.GROUP_DETAIL,\n    payload: getGroupDetail(groupId)\n});\n\nexport const fetchOperatingSystems = (params = []) => ({\n    type: ACTION_TYPES.OPERATING_SYSTEMS,\n    payload: getOperatingSystems(params)\n});\n\nexport const deleteEntity = (systems, displayName) => ({\n    type: ACTION_TYPES.REMOVE_ENTITY,\n    payload: hosts.apiHostDeleteHostById(systems),\n    meta: {\n        notifications: {\n            fulfilled: {\n                variant: 'success',\n                title: 'Delete operation finished',\n                description: `${displayName} has been successfully removed.`,\n                dismissable: true\n            }\n        },\n        systems\n    }\n});\n\nexport const configChanged = (config) => ({\n    type: CONFIG_CHANGED,\n    payload: config\n});\n\nexport const toggleDrawer = (isOpened) => ({\n    type: TOGGLE_DRAWER,\n    payload: { isOpened }\n});\n\nexport const fetchGroupsForEntities = (params) => ({\n    type: ACTION_TYPES.GROUPS_FOR_ENTITIES,\n    payload: groupsApi.apiGroupGetGroupList(params)\n});\n"],"names":["DeleteModal","systemToRemove","handleModalToggle","isModalOpen","currentSytems","onConfirm","systemLabel","Array","isArray","length","display_name","variant","title","className","ouiaId","isOpen","onClose","appendTo","document","getElementsByClassName","body","hasGutter","size","isFilled","location","host","onClick","ActiveSystemProp","PropTypes","id","displayName","propTypes","defaultProps","TagWithDialog","count","loadTags","systemId","e","stopPropagation","onTagClick","connect","dispatch","toggleTagModal","undefined","RenderWrapper","Component","cmp","isRbacEnabled","inventoryRef","store","props","hasAccess","usePermissionsWithContext","ref","customRender","TEXT_FILTER","TEXTUAL_CHIP","TAG_CHIP","STALE_CHIP","REGISTERED_CHIP","OS_CHIP","RHCD_FILTER_KEY","UPDATE_METHOD_KEY","LAST_SEEN_CHIP","HOST_GROUP_CHIP","subtractDate","days","date","Date","setDate","getDate","toISOString","staleness","label","value","currentDate","lastSeenItems","updatedStart","updatedEnd","mark","registered","idName","idValue","InventoryContext","createContext","rhcdOptions","updateMethodOptions","filterToGroup","valuesKey","reduce","accGroup","group","key","acc","curr","isSelected","item","meta","tag","tagKey","arrayToSelection","selected","cells","namespace","reduceFilters","oneFilter","textFilter","filter","tagFilters","foundKey","find","Object","keys","includes","reloadWrapper","event","callback","payload","then","data","isEmpty","check","generateFilter","status","source","tagsFilter","filterbyName","operatingSystem","rhcdFilter","updateMethodFilter","hostGroupFilter","lastSeenFilter","staleFilter","registeredWithFilter","osFilter","Boolean","useWritePermissions","INVENTORY_WRITE_PERMISSIONS","allStaleFilters","TagsModal","filterTagsBy","onToggleModal","onApply","getTags","useDispatch","useState","filterBy","setFilterBy","setSelected","perPage","page","statePagination","setStatePagination","showTagDialog","useSelector","entities","entityDetails","pagination","activeSystemTag","entity","allTagsPagination","shallowEqual","loaded","tagModalLoaded","tags","activeTags","values","some","val","toLowerCase","slice","allTags","flatten","map","tagsCount","allTagsTotal","useEffect","fetchTags","fetchAllTags","debouncedFetch","useCallback","debounce","TagModal","tableProps","canSelectAll","rows","width","toggleModal","filters","placeholder","filterValues","onChange","_e","onUpdateData","columns","transforms","cellWidth","onSelect","bulkSelect","customFilters","subtractWeeks","numOfWeeks","verifyCollectorStaleness","reporterStaleness","stalenessDate","stale_timestamp","currentDateTime","twoWeeksPeriod","oneWeeksPeriod","verifyCulledInsightsClient","perReporterStaleness","puptoo","loadSystems","options","showTags","getEntities","limitedItems","items","per_page","config","hasItems","sortBy","orderDirection","direction","toUpperCase","activeFilters","orderBy","itemsPage","loadEntities","INVENTORY_API_BASE","hosts","HostsApi","instance","TagsApi","systemProfile","SystemProfileApi","groupsApi","GroupsApi","getEntitySystemProfile","apiHostGetHostSystemProfileById","mapData","facts","rawFacts","flatMap","oneFact","os_release","release","fqdn","mapTags","results","apiHostGetHostTags","row","catch","constructTags","category","tagValue","calculateSystemProfile","osFilterValues","majorOsVersion","operating_system","RHEL","version","eq","system_profile","filtersReducer","hostnameOrId","controller","fields","apiHostGetHostById","cancelToken","token","query","result","mergeArraysByKey","console","error","apiHostGetHostList","globalFilter","updated_start","updated_end","search","getAllTags","apiTagGetTags","getOperatingSystems","params","apiSystemProfileGetOperatingSystem","systemIssuesInstance","cves","Promise","all","impact","low","moderate","important","critical","patch","advisor","compliance","operationName","variables","getGroups","TABLE_DEFAULT_PAGINATION","parameters","URLSearchParams","toString","getGroupsByIds","groupIds","path","join","createGroup","name","validateGroupName","resp","getGroupDetail","groupId","updateGroupById","deleteGroupsById","ids","addHostsToGroupById","hostIds","removeHostsFromGroup","tagsMapper","split","keyValue","currTagKey","findIndex","currTag","type","push","prepareRows","isDate","isNaN","parse","filterRows","every","rowValue","sortValue","toLocaleLowerCase","indexOf","generateFilters","activeKey","index","activeLabel","String","newFilter","onDeleteFilter","deleted","workingItem","filtersRest","newValue","chips","extraShape","singular","plural","getSearchParams","searchParams","getAll","makeActions","actions","asyncActions","asyncInventory","systemIssues","ACTION_TYPES","keyBy","k","INVENTORY_ACTION_TYPES","SYSTEM_ISSUE_TYPES","CLEAR_NOTIFICATIONS","SELECT_ENTITY","SET_INVENTORY_FILTER","SET_PAGINATION","SET_DISPLAY_NAME","SET_ANSIBLE_HOST","UPDATE_ENTITIES","CHANGE_SORT","FILTER_ENTITIES","SHOW_ENTITIES","FILTER_SELECT","ENTITIES_LOADING","CLEAR_FILTERS","TOGGLE_TAG_MODAL","CONFIG_CHANGED","TOGGLE_DRAWER","CLEAR_ENTITIES","i","resolve","fns","limit","pAll","concurrency","deleteSystemsById","batchSize","arr","chunk","itemArray","getAdvisorData","getVulnData","getPatchData","getComplianceData","deleteEntity","systems","notifications","fulfilled","description","dismissable","setFilter","filtersList","clearNotifications","editDisplayName","origValue","setPagination","itemId","editAnsibleHost","ansible_host","clearEntitiesAction","defaultGetEntities","itemIds","isFilterDisabled","hideFilters","updatedFilters","lastDateRequest","now","updateEntities","filterSelect","selectedItem","loadEntity","selectEntity","setSort","filterEntities","filterString","entitiesLoading","isLoading","clearFilters","defaultGetAllTags","lastDateRequestTags","fetchGroups","fetchGroupDetail","fetchOperatingSystems","configChanged","toggleDrawer","isOpened","fetchGroupsForEntities"],"sourceRoot":""}