{"version":3,"file":"js/7722.17847d0bd9e9286194b1.js","mappings":"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","sources":["webpack:///./src/Utilities/constants.js","webpack:///./src/components/InventoryDetail/AppInfo.js","webpack:///./src/components/InventoryDetail/FullDetail.js","webpack:///./src/constants.js","webpack:///./src/store/systemProfileStore.js"],"sourcesContent":["import { createContext } from 'react';\nimport { usePermissionsWithContext } from '@redhat-cloud-services/frontend-components-utilities/RBACHook';\nimport { INVENTORY_WRITE_PERMISSIONS } from '../constants';\n\nexport const TEXT_FILTER = 'hostname_or_id';\nexport const TEXTUAL_CHIP = 'textual';\nexport const TAG_CHIP = 'tags';\nexport const STALE_CHIP = 'staleness';\nexport const REGISTERED_CHIP = 'registered_with';\nexport const OS_CHIP = 'operating_system';\nexport const RHCD_FILTER_KEY = 'rhc_client_id';\nexport const UPDATE_METHOD_KEY = 'system_update_method';\n\nexport const staleness = [\n    { label: 'Fresh', value: 'fresh' },\n    { label: 'Stale', value: 'stale' },\n    { label: 'Stale warning', value: 'stale_warning' },\n    { label: 'Unknown', value: 'unknown' }\n];\nexport const registered = [\n    { label: 'insights-client', value: 'puptoo', idName: 'Insights id', idValue: 'insights_id' },\n    { label: 'subscription-manager', value: 'rhsm-conduit',\n        idName: 'Subscription manager id', idValue: 'subscription_manager_id' },\n    { label: 'Satellite/Discovery', value: 'yupana' },\n    { label: 'insights-client not connected', value: '!puptoo' }\n];\nexport const InventoryContext = createContext({});\n\nexport const rhcdOptions = [\n    { label: 'Active', value: 'not_nil' },\n    { label: 'Inactive', value: 'nil' }\n];\n\nexport const updateMethodOptions = [\n    { label: 'yum', value: 'yum' },\n    { label: 'dnf', value: 'dnf' },\n    { label: 'rpm-ostree', value: 'rpm-ostree' }\n];\n\nexport function filterToGroup(filter = [], valuesKey = 'values') {\n    return filter.reduce((accGroup, group) => ({\n        ...accGroup,\n        [group.key]: group[valuesKey].reduce((acc, curr) => ({ ...acc, [curr.key]: {\n            isSelected: true,\n            group: curr.group,\n            item: {\n                meta: {\n                    tag: {\n                        key: curr.tagKey,\n                        value: curr.value\n                    }\n                }\n            }\n        } }), {})\n    }), {});\n}\n\nexport const arrayToSelection = (selected) => selected.reduce((acc, { cells: [key, value, namespace] }) => ({\n    ...acc,\n    [namespace]: {\n        ...acc[namespace?.title || namespace],\n        [key?.title || key]: {\n            isSelected: true,\n            group: { value: namespace?.title || namespace, label: namespace?.title || namespace },\n            item: {\n                value: key?.title || key,\n                meta: { tag: { key: key?.title || key, value: value?.title || value } }\n            }\n        }\n    }\n}), {});\n\nexport function reduceFilters(filters = []) {\n    return filters.reduce((acc, oneFilter) => {\n        if (oneFilter.value === TEXT_FILTER) {\n            return { ...acc, textFilter: oneFilter.filter };\n        } else if ('tagFilters' in oneFilter) {\n            return {\n                ...acc,\n                tagFilters: filterToGroup(oneFilter.tagFilters)\n            };\n        }\n\n        const foundKey = ['staleFilter', 'registeredWithFilter', 'osFilter', 'rhcdFilter', 'updateMethodFilter', '']\n        .find(item => Object.keys(oneFilter).includes(item));\n\n        return {\n            ...acc,\n            ...foundKey && { [foundKey]: oneFilter[foundKey] }\n        };\n    }, {\n        textFilter: '',\n        tagFilters: {}\n    });\n}\n\nexport const reloadWrapper = (event, callback) => {\n    event.payload.then(data => {\n        callback();\n        return data;\n    });\n\n    return event;\n};\n\nexport const isEmpty = (check) => !check || check?.length === 0;\n\nexport const generateFilter = (status, source, tagsFilter, filterbyName, operatingSystem, rhcdFilter, updateMethodFilter) => ([\n    !isEmpty(status) && {\n        staleFilter: Array.isArray(status) ? status : [status]\n    },\n    !isEmpty(tagsFilter) && {\n        tagFilters: Array.isArray(tagsFilter) ? tagsFilter : [tagsFilter]\n    },\n    !isEmpty(source) && {\n        registeredWithFilter: Array.isArray(source) ? source : [source]\n    },\n    !isEmpty(filterbyName) && {\n        value: 'hostname_or_id',\n        filter: Array.isArray(filterbyName) ? filterbyName[0] : filterbyName\n    },\n    (!isEmpty(status) || !isEmpty(tagsFilter) || !isEmpty(filterbyName)) && isEmpty(source) && {\n        registeredWithFilter: []\n    },\n    (!isEmpty(source) || !isEmpty(tagsFilter) || !isEmpty(filterbyName)) && isEmpty(status) && {\n        staleFilter: []\n    },\n    !isEmpty(operatingSystem) && {\n        osFilter: Array.isArray(operatingSystem) ? operatingSystem : [operatingSystem]\n    },\n    !isEmpty(rhcdFilter) && {\n        rhcdFilter: Array.isArray(rhcdFilter) ? rhcdFilter : [rhcdFilter]\n    },\n    !isEmpty(updateMethodFilter) && {\n        updateMethodFilter: Array.isArray(updateMethodFilter) ? updateMethodFilter : [updateMethodFilter]\n    }\n].filter(Boolean));\n\nexport const useWritePermissions = () => {\n    const { hasAccess } = usePermissionsWithContext(INVENTORY_WRITE_PERMISSIONS);\n\n    return hasAccess;\n};\n\nexport const allStaleFilters = ['fresh', 'stale', 'stale_warning', 'unknown'];\n","/* eslint-disable camelcase */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { useStore, useSelector } from 'react-redux';\nimport { Skeleton, SkeletonSize } from '@redhat-cloud-services/frontend-components/Skeleton';\n\n/**\n * Small component that just renders active detail with some specific class.\n * This component detail is accessed from redux if no component found `missing component` is displayed.\n * @param {*} props `componentsMapper` if you want to pass different components list.\n */\nconst AppInfo = ({ componentMapper: Cmp, activeApp }) => {\n    const store = useStore();\n    const loaded = useSelector(({ entityDetails }) => entityDetails?.loaded);\n    const entity = useSelector(({ entityDetails }) => entityDetails?.entity);\n\n    if (loaded === true && !entity) {\n        return null;\n    }\n\n    return (\n        <Fragment>\n            {\n                loaded ? activeApp && (\n                    <div className={ `ins-active-app-${activeApp?.name}` }>\n                        { Cmp ?\n                            <Cmp\n                                store={store}\n                                inventoryId={entity?.id}\n                                appName={activeApp?.name}\n                            /> :\n                            'missing component'}\n                    </div>\n                ) : <Skeleton size={ SkeletonSize.md } />\n            }\n        </Fragment>\n    );\n};\n\nAppInfo.propTypes = {\n    componentMapper: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n    activeApp: PropTypes.shape({\n        title: PropTypes.node,\n        name: PropTypes.string,\n        pageId: PropTypes.string\n    })\n};\n\n/**\n * This component can be removed once all apps migrate to componentMapper and activeApp.\n * @param { componentMapper, activeApp } props.\n * @returns AppInfo component\n */\nconst AppInfoWrapper = ({ componentMapper, activeApp, ...props }) => {\n    const { search } = useLocation();\n    const searchParams = new URLSearchParams(search);\n    if (!componentMapper || !activeApp) {\n        console.warn('Please pass componentMapper and activeApp. We will be deprecating the old store controls');\n    }\n\n    const currApp = useSelector(({ entityDetails }) => {\n        const activeItem = searchParams.get('appName') || entityDetails?.activeApp?.appName;\n        return entityDetails?.activeApps?.find?.(item => item?.name === activeItem) || entityDetails?.activeApps?.[0];\n    });\n\n    const currComponent = componentMapper || (activeApp || currApp)?.component;\n\n    return <AppInfo componentMapper={currComponent} activeApp={activeApp || currApp} {...props} />;\n};\n\nAppInfoWrapper.propTypes = AppInfo.propTypes;\n\n// TODO: Remove once all apps send `componentMapper` and `activeApp` and use directly AppInfo\nconst AppInfoCmp = (props) => (props.componentMapper && props.activeApp) ? <AppInfo {...props} /> : <AppInfoWrapper {...props} />;\n\nAppInfoCmp.propTypes = AppInfo.propTypes;\n\nexport default AppInfoCmp;\n","import React, { Fragment } from 'react';\nimport InventoryDetail from './InventoryDetail';\nimport AppInfo from './AppInfo';\n\n/**\n * Fallback component that binds together App info and inventory Detail.\n * You should not use this component unless you know what you are doing.\n * @param {*} props any parent props, just passed to InventoryDetail and AppInfo.\n */\nexport const FullDetail = (props) => (\n    <Fragment>\n        <InventoryDetail { ...props } />\n        <AppInfo { ...props } />\n    </Fragment>\n);\n\nexport default FullDetail;\n","import PropTypes from 'prop-types';\nimport { RHCD_FILTER_KEY, UPDATE_METHOD_KEY } from './Utilities/constants';\n\nexport const tagsMapper = (acc, curr) => {\n    let [namespace, keyValue] = curr.split('/');\n    if (!keyValue) {\n        keyValue = namespace;\n        namespace = null;\n    }\n\n    const [key, value = null] = keyValue.split('=');\n    const currTagKey = acc.findIndex(({ category }) => category === namespace);\n    const currTag = acc[currTagKey] || {\n        category: namespace,\n        key: namespace,\n        type: 'tags',\n        values: []\n    };\n    currTag.values.push({\n        name: `${key}${value ? `=${value}` : ''}`,\n        key: `${key}${value ? `=${value}` : ''}`,\n        tagKey: key,\n        value,\n        group: {\n            label: namespace,\n            value: namespace,\n            type: 'checkbox'\n        }\n    });\n    if (!acc[currTagKey]) {\n        acc.push(currTag);\n    }\n\n    return acc;\n};\n\nexport const prepareRows = (rows = [], pagination = {}) => (\n    rows\n    .slice((pagination.page - 1) * pagination.perPage, pagination.page * pagination.perPage)\n);\n\nexport const isDate = (date) => {\n    return !(isNaN(date) && isNaN(Date.parse(date)));\n};\n\nexport const filterRows = (rows = [], activeFilters = {}) => (\n    rows\n    .filter(row => (\n        Object.values(activeFilters).length === 0 ||\n        Object.values(activeFilters)\n        .every(\n            filter => {\n                const rowValue = row[filter.key] && (row[filter.key].sortValue || row[filter.key]);\n                return rowValue && (\n                    Array.isArray(filter.value) ?\n                        filter.value.includes(rowValue) :\n                        rowValue.toLocaleLowerCase().indexOf(filter.value.toLocaleLowerCase()) !== -1\n                );\n            }\n        )\n    ))\n);\n\nexport const generateFilters = (cells = [], filters = [], activeFilters = {}, onChange = () => undefined) => (\n    filters.map((filter, key) => {\n        const activeKey = filter.index || key;\n        const activeLabel = cells[activeKey] && (cells[activeKey].title || cells[activeKey]);\n\n        return ({\n            value: String(activeKey),\n            label: activeLabel,\n            type: filter.type || 'text',\n            filterValues: {\n                id: filter.id || `${activeLabel}-${activeKey}`,\n                onChange: (_e, newFilter) => onChange(activeKey, newFilter, activeLabel),\n                value: activeFilters[activeKey] && activeFilters[activeKey].value,\n                ...filter.options && { items: filter.options }\n            }\n        });\n    })\n);\n\nexport const onDeleteFilter = (deleted = {}, deleteAll = false, activeFilters = {}) => {\n    if (deleteAll) {\n        return {};\n    } else {\n        const { [deleted.key]: workingItem, ...filtersRest } = activeFilters;\n        const newValue = workingItem && Array.isArray(workingItem.value) &&\n            workingItem.value.filter(item => !deleted.chips.find(({ name }) => name === item));\n        const newFilter = workingItem && Array.isArray(workingItem.value) && newValue && newValue.length > 0 ? {\n            [deleted.key]: {\n                ...workingItem,\n                value: newValue\n            }\n        } : {};\n        return {\n            ...filtersRest,\n            ...newFilter\n        };\n    }\n};\n\nexport const extraShape = PropTypes.shape({\n    title: PropTypes.node,\n    value: PropTypes.node,\n    singular: PropTypes.node,\n    plural: PropTypes.node,\n    onClick: PropTypes.func\n});\n\nexport const INVENTORY_WRITE_PERMISSIONS = [\n    'inventory:*:*',\n    'inventory:hosts:write',\n    'inventory:*:write'\n];\n\nexport const getSearchParams = () => {\n    const searchParams = new URLSearchParams(location.search);\n    const status = searchParams.getAll('status');\n    const source = searchParams.getAll('source');\n    const filterbyName = searchParams.getAll('hostname_or_id');\n    const tagsFilter = searchParams.getAll('tags')?.[0]?.split?.(',').reduce?.(tagsMapper, []);\n    const operatingSystem = searchParams.getAll('operating_system');\n    const rhcdFilter = searchParams.getAll(RHCD_FILTER_KEY);\n    const updateMethodFilter = searchParams.getAll(UPDATE_METHOD_KEY);\n    const page = searchParams.getAll('page');\n    const perPage = searchParams.getAll('per_page');\n    return { status, source, tagsFilter, filterbyName, operatingSystem, rhcdFilter, updateMethodFilter, page, perPage };\n};\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { ACTION_TYPES } from './action-types';\n\nexport const defaultState = { loaded: false };\n\nexport const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n// Kudos to https://stackoverflow.com/a/18650828/2560321\nexport const formatBytes = (bytes) => {\n    if (bytes === 0 || isNaN(Number(bytes))) {\n        return '0 B';\n    }\n\n    const index = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${parseFloat((bytes / Math.pow(1024, index)).toFixed(2))} ${sizes[index]}`;\n};\n\nexport function systemProfilePending(state) {\n    return {\n        ...state,\n        systemProfile: {\n            loaded: false\n        }\n    };\n}\n\nexport function calculateRepos(repos) {\n    return repos && repos.reduce((acc, curr) => ({\n        ...acc,\n        ...curr.enabled ? {\n            enabled: [...acc.enabled, curr]\n        } : {\n            disabled: [...acc.disabled, curr]\n        }\n    }), { enabled: [], disabled: [] });\n}\n\nexport function calculateInterfaces(interfaces) {\n    return interfaces && interfaces.reduce((acc, curr) => ({\n        interfaces: [...acc.interfaces, curr],\n        ipv4: [...acc.ipv4, ...curr.ipv4_addresses || []].filter(Boolean),\n        ipv6: [...acc.ipv6, ...curr.ipv6_addresses || []].filter(Boolean)\n    }), { interfaces: [], ipv4: [], ipv6: [] });\n}\n\nexport function onSystemProfile(state, { payload: { results } }) {\n    const systemProfile = (results && results[0] && results[0].system_profile) || {};\n    const cloudProviderObj = (results && results[0] && (typeof results[0].system_profile.cloud_provider !== 'undefined'))\n                        && results[0].system_profile.cloud_provider;\n    return {\n        ...state,\n        disabledApps: [\n            ...(cloudProviderObj === 'aws' || cloudProviderObj === 'azure') ? [] : ['ros']\n        ],\n        systemProfile: {\n            loaded: true,\n            ...systemProfile,\n            ramSize: systemProfile.system_memory_bytes && formatBytes(systemProfile.system_memory_bytes),\n            repositories: calculateRepos(systemProfile.yum_repos),\n            network: calculateInterfaces(systemProfile.network_interfaces)\n        }\n    };\n}\n\nexport default applyReducerHash(\n    {\n        [ACTION_TYPES.LOAD_SYSTEM_PROFILE_FULFILLED]: onSystemProfile,\n        [ACTION_TYPES.LOAD_SYSTEM_PROFILE_PENDING]: systemProfilePending\n    },\n    {\n        systemProfile: defaultState\n    }\n);\n"],"names":["TEXT_FILTER","TEXTUAL_CHIP","TAG_CHIP","STALE_CHIP","REGISTERED_CHIP","OS_CHIP","RHCD_FILTER_KEY","UPDATE_METHOD_KEY","staleness","label","value","registered","idName","idValue","InventoryContext","createContext","rhcdOptions","updateMethodOptions","filterToGroup","filter","valuesKey","reduce","accGroup","group","key","acc","curr","isSelected","item","meta","tag","tagKey","arrayToSelection","selected","cells","namespace","title","reduceFilters","filters","oneFilter","textFilter","tagFilters","foundKey","find","Object","keys","includes","reloadWrapper","event","callback","payload","then","data","isEmpty","check","length","generateFilter","status","source","tagsFilter","filterbyName","operatingSystem","rhcdFilter","updateMethodFilter","staleFilter","Array","isArray","registeredWithFilter","osFilter","Boolean","useWritePermissions","usePermissionsWithContext","INVENTORY_WRITE_PERMISSIONS","hasAccess","allStaleFilters","AppInfo","Cmp","componentMapper","activeApp","store","useStore","loaded","useSelector","entityDetails","entity","Fragment","className","name","inventoryId","id","appName","size","SkeletonSize","propTypes","PropTypes","pageId","AppInfoWrapper","props","search","useLocation","searchParams","URLSearchParams","console","warn","currApp","activeItem","get","activeApps","currComponent","component","AppInfoCmp","tagsMapper","split","keyValue","currTagKey","findIndex","category","currTag","type","values","push","prepareRows","rows","pagination","slice","page","perPage","isDate","date","isNaN","Date","parse","filterRows","activeFilters","row","every","rowValue","sortValue","toLocaleLowerCase","indexOf","generateFilters","onChange","map","activeKey","index","activeLabel","String","filterValues","_e","newFilter","options","items","onDeleteFilter","deleted","deleteAll","workingItem","filtersRest","newValue","chips","extraShape","singular","plural","onClick","getSearchParams","location","getAll","defaultState","sizes","formatBytes","bytes","Number","Math","floor","log","parseFloat","pow","toFixed","systemProfilePending","state","systemProfile","calculateRepos","repos","enabled","disabled","calculateInterfaces","interfaces","ipv4","ipv4_addresses","ipv6","ipv6_addresses","onSystemProfile","results","system_profile","cloudProviderObj","cloud_provider","disabledApps","ramSize","system_memory_bytes","repositories","yum_repos","network","network_interfaces","applyReducerHash","ACTION_TYPES"],"sourceRoot":""}