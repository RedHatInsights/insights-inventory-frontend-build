{"version":3,"file":"js/7406.1660054268259.664b6084a9a69ab58180.js","mappings":"8OAmCA,QA3BY,WACR,IAAMA,GAAUC,EAAAA,EAAAA,cAgBhB,OAfAC,EAAAA,EAAAA,YAAU,WAGN,OAFAC,SAASC,OAAOC,OAChBF,SAASC,OAAOE,YAAYC,EAAAA,GACrBJ,SAASC,OAAOI,GACnB,kBACA,SAAAC,GACwB,cAAhBA,EAAMC,MACNV,EAAQW,KAAR,WAAiBC,SAASC,QAA1B,OAAmCD,SAASE,OAE5Cd,EAAQW,KAAR,WAAiBF,EAAMC,OAAvB,OAA+BE,SAASC,QAAxC,OAAiDD,SAASE,YAIvE,IAGC,yBAAKC,UAAU,aACX,kBAAC,EAAAC,oBAAD,MACA,kBAAC,IAAD,CAAcC,QAAQ,aAClB,kBAAC,IAAD,U,8JCKhB,QAzBqB,WACjB,OAAgCC,EAAAA,EAAAA,YAAhC,eAAOC,EAAP,KAAiBC,EAAjB,KACMC,EAAQF,MAAAA,OAAH,EAAGA,EAAUG,WAUxB,OARApB,EAAAA,EAAAA,YAAU,WAGN,OAFAkB,GAAoCf,EAAAA,EAAAA,OAE7B,WACHe,OAAYG,MAEjB,IAEKJ,EACJ,kBAAC,cAAD,CAA0BK,MAAO,CAC7BC,YAAa,kBAAMN,KAEnB,kBAAC,EAAAO,SAAD,CAAUL,MAAOA,GACb,kBAAC,gBAAD,CAAQM,UAAUC,EAAAA,EAAAA,IAAYC,OAAOjB,SAASkB,WAC1C,kBAAC,IAAD,SAIZ,kBAAC,IAAD,Q,4rBCzBR,IAAMC,GAAiBC,EAAAA,EAAAA,OAAK,kBAAM,+EAC5BC,GAAkBD,EAAAA,EAAAA,OAAK,kBAAM,+EAEtBE,EAAS,CAClBC,MAAO,IACPC,OAAQ,iBAGCC,EAAS,WAClB,IAAQZ,GAAgBa,EAAAA,EAAAA,YAAWC,EAAAA,IAA3Bd,aACRvB,EAAAA,EAAAA,YAAU,WACNuB,IAAce,SAAd,OACOC,EAAAA,KACAC,EAAAA,EAAAA,IAAkBC,EAAAA,OAE1B,CAAClB,IACJ,IAAMmB,EAAe,IAAIC,gBAAgBjC,SAASC,QAElD,OACI,kBAAC,EAAAiC,SAAD,CAAUC,SAAS,IACf,kBAAC,EAAAC,OAAD,KACI,kBAAC,EAAAC,MAAD,CACIC,OAAK,EACLC,KAAMjB,EAAOC,MACbiB,OAAQ,gCAAM,kBAACrB,EAAD,CACVsB,OAAQT,EAAaU,OAAO,UAC5BC,OAAQX,EAAaU,OAAO,UAC5BE,aAAcZ,EAAaU,OAAO,kBAClCG,WAAU,UAAEb,EAAaU,OAAO,eAAtB,iBAAE,EAA8B,UAAhC,iBAAE,EAAkCI,aAApC,kBAAE,WAA0C,MAAKC,cAAjD,aAAE,SAAwDC,EAAAA,GAAY,IAChFC,gBAAiBjB,EAAaU,OAAO,oBACrCQ,KAAMlB,EAAaU,OAAO,QAC1BS,QAASnB,EAAaU,OAAO,eAEjCU,UAAU,cAEd,kBAAC,EAAAf,MAAD,CAAOC,OAAK,EAACC,KAAMjB,EAAOE,OAAQ6B,UAAWhC,EAAiB+B,UAAU,cACxE,kBAAC,EAAAE,SAAD,CAAUf,KAAK,IAAIgB,GAAG,U,iCCzC/B,IACM5D,EAAiB","sources":["webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/Routes.js","webpack:///./src/config.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Routes } from './Routes';\nimport './App.scss';\nimport { INVENTORY_ROOT } from './config';\nimport { NotificationsPortal } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { RBACProvider } from '@redhat-cloud-services/frontend-components/RBACProvider';\n\nconst App = () => {\n    const history = useHistory();\n    useEffect(() => {\n        insights.chrome.init();\n        insights.chrome.identifyApp(INVENTORY_ROOT);\n        return insights.chrome.on(\n            'APP_NAVIGATION',\n            event => {\n                if (event.navId === 'inventory') {\n                    history.push(`/${location.search}${location.hash}`);\n                } else {\n                    history.push(`/${event.navId}${location.search}${location.hash}`);\n                }\n            }\n        );\n    }, []);\n\n    return (\n        <div className=\"inventory\">\n            <NotificationsPortal />\n            <RBACProvider appName=\"inventory\">\n                <Routes />\n            </RBACProvider>\n        </div>\n    );\n};\n\nexport default App;\n","import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { init, RegistryContext } from './store';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport logger from 'redux-logger';\nimport Fallback from './components/SpinnerFallback';\n\nconst InventoryApp = () => {\n    const [registry, setRegistry] = useState();\n    const store = registry?.getStore();\n\n    useEffect(() => {\n        setRegistry(IS_DEV ? init(logger) : init());\n\n        return () => {\n            setRegistry(undefined);\n        };\n    }, []);\n\n    return (registry ? (\n        <RegistryContext.Provider value={{\n            getRegistry: () => registry\n        }}>\n            <Provider store={store}>\n                <Router basename={getBaseName(window.location.pathname)}>\n                    <App />\n                </Router>\n            </Provider>\n        </RegistryContext.Provider>\n    ) : <Fallback />);\n};\n\nexport default InventoryApp;\n","import { Route, Redirect, Switch } from 'react-router-dom';\nimport React, { lazy, Suspense, useContext, useEffect } from 'react';\nimport { tagsMapper } from './constants';\nimport { reducers, RegistryContext, tableReducer } from './store';\nimport { mergeWithEntities } from './store/reducers';\n\nconst InventoryTable = lazy(() => import('./routes/InventoryTable'));\nconst InventoryDetail = lazy(() => import('./routes/InventoryDetail'));\n\nexport const routes = {\n    table: '/',\n    detail: '/:inventoryId'\n};\n\nexport const Routes = () => {\n    const { getRegistry } = useContext(RegistryContext);\n    useEffect(() => {\n        getRegistry().register({\n            ...reducers,\n            ...mergeWithEntities(tableReducer)\n        });\n    }, [getRegistry]);\n    const searchParams = new URLSearchParams(location.search);\n\n    return (\n        <Suspense fallback=\"\">\n            <Switch>\n                <Route\n                    exact\n                    path={routes.table}\n                    render={() => <InventoryTable\n                        status={searchParams.getAll('status')}\n                        source={searchParams.getAll('source')}\n                        filterbyName={searchParams.getAll('hostname_or_id')}\n                        tagsFilter={searchParams.getAll('tags')?.[0]?.split?.(',').reduce?.(tagsMapper, [])}\n                        operatingSystem={searchParams.getAll('operating_system')}\n                        page={searchParams.getAll('page')}\n                        perPage={searchParams.getAll('per_page')}\n                    />}\n                    rootClass='inventory'\n                />\n                <Route exact path={routes.detail} component={InventoryDetail} rootClass='inventory' />\n                <Redirect path=\"*\" to=\"/\" />\n            </Switch>\n        </Suspense>\n    );\n};\n","\nexport const INVENTORY_API_BASE = '/api/inventory/v1';\nexport const INVENTORY_ROOT = 'inventory';\n"],"names":["history","useHistory","useEffect","insights","chrome","init","identifyApp","INVENTORY_ROOT","on","event","navId","push","location","search","hash","className","NotificationsPortal","appName","useState","registry","setRegistry","store","getStore","undefined","value","getRegistry","Provider","basename","getBaseName","window","pathname","InventoryTable","lazy","InventoryDetail","routes","table","detail","Routes","useContext","RegistryContext","register","reducers","mergeWithEntities","tableReducer","searchParams","URLSearchParams","Suspense","fallback","Switch","Route","exact","path","render","status","getAll","source","filterbyName","tagsFilter","split","reduce","tagsMapper","operatingSystem","page","perPage","rootClass","component","Redirect","to"],"sourceRoot":""}