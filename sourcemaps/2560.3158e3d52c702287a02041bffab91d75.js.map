{"version":3,"file":"js/2560.072dd670749a61c6ffe2.js","mappings":"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","sources":["webpack:///./node_modules/@redhat-cloud-services/frontend-components-notifications/esm/redux/actions/notifications.js","webpack:///./src/App.js","webpack:///./src/AppEntry.js","webpack:///./src/Routes.js","webpack:///./src/Utilities/useFeatureFlag.js","webpack:///./src/components/SpinnerFallback.js","webpack:///./src/store/index.js","webpack:///./src/store/reducers.js","webpack:///./src/store/registeryContext.js","webpack:///./src/store/systemProfileStore.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { ADD_NOTIFICATION, CLEAR_NOTIFICATIONS, REMOVE_NOTIFICATION } from './action-types';\nfunction generateID(type) {\n    return 'cloud-services' + type + '-' + new Date().getTime() + Math.random().toString(36).slice(2);\n}\nexport var addNotification = function (notification) { return ({\n    type: ADD_NOTIFICATION,\n    payload: __assign({ id: generateID('notification') }, notification),\n}); };\nexport var removeNotification = function (index) { return ({\n    type: REMOVE_NOTIFICATION,\n    payload: index,\n}); };\nexport var clearNotifications = function () { return ({\n    type: CLEAR_NOTIFICATIONS,\n}); };\nexport default {\n    addNotification: addNotification,\n    removeNotification: removeNotification,\n    clearNotifications: clearNotifications,\n};\n//# sourceMappingURL=notifications.js.map","import React, { useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Routes } from './Routes';\nimport './App.scss';\nimport { NotificationsPortal } from '@redhat-cloud-services/frontend-components-notifications/';\nimport { RBACProvider } from '@redhat-cloud-services/frontend-components/RBACProvider';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\n\nconst App = () => {\n    const history = useHistory();\n    const chrome = useChrome();\n    useEffect(() => {\n        chrome.init();\n        return chrome.on(\n            'APP_NAVIGATION',\n            event => {\n                if (event.navId === 'inventory') {\n                    history.push(`/${location.search}${location.hash}`);\n                } else {\n                    history.push(`/${event.navId}${location.search}${location.hash}`);\n                }\n            }\n        );\n    }, []);\n\n    return (\n        <div className=\"inventory\">\n            <NotificationsPortal />\n            <RBACProvider appName=\"inventory\">\n                <Routes />\n            </RBACProvider>\n        </div>\n    );\n};\n\nexport default App;\n","import React, { useMemo } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { getStore, updateReducers } from './store';\nimport RegistryContext from './store/registeryContext';\nimport App from './App';\nimport { getBaseName } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport logger from 'redux-logger';\nimport Fallback from './components/SpinnerFallback';\n\nconst InventoryApp = () => {\n    const registry = useMemo(() => {\n        const store = IS_DEV ? getStore(logger) : getStore();\n        return {\n            register: (newReducers) => store.replaceReducer(updateReducers(newReducers)),\n            getStore: () => store\n        };\n    }, []);\n\n    return (registry ? (\n        <RegistryContext.Provider value={{\n            getRegistry: () => registry\n        }}>\n            <Provider store={registry.getStore()}>\n                <Router basename={getBaseName(window.location.pathname)}>\n                    <App />\n                </Router>\n            </Provider>\n        </RegistryContext.Provider>\n    ) : <Fallback />);\n};\n\nexport default InventoryApp;\n","import { Route, Redirect, Switch } from 'react-router-dom';\nimport React, { lazy, Suspense, useMemo } from 'react';\nimport { EmptyState, EmptyStateBody } from '@patternfly/react-core';\nimport { InvalidObject } from '@redhat-cloud-services/frontend-components';\nimport { getSearchParams } from './constants';\nimport RenderWrapper from './Utilities/Wrapper';\nimport useFeatureFlag from './Utilities/useFeatureFlag';\n\nconst InventoryTable = lazy(() => import('./routes/InventoryTable'));\nconst InventoryDetail = lazy(() => import('./routes/InventoryDetail'));\nconst InventoryGroups = lazy(() => import('./routes/InventoryGroups'));\n\nexport const routes = {\n    table: '/',\n    detail: '/:inventoryId',\n    detailWithModal: '/:inventoryId/:modalId',\n    groups: '/groups'\n};\n\nexport const Routes = () => {\n    const searchParams = useMemo(() => getSearchParams(), []);\n    const groupsEnabled = useFeatureFlag('hbi.ui.inventory-groups');\n\n    return (\n        <Suspense fallback=\"\">\n            <Switch>\n                <Route\n                    exact\n                    path={routes.table}\n                    render={() =>\n                        <RenderWrapper\n                            cmp={InventoryTable}\n                            isRbacEnabled\n                            {...searchParams}\n                        />}\n                    rootClass='inventory'\n                />\n                <Route\n                    exact\n                    path={routes.groups}\n                    component={\n                        groupsEnabled\n                            ? InventoryGroups\n                            : () => (\n                                <EmptyState>\n                                    <EmptyStateBody>\n                                        <InvalidObject />\n                                    </EmptyStateBody>\n                                </EmptyState>\n                            )\n                    }\n                    rootClass=\"inventory\"\n                />\n                <Route exact path={routes.detailWithModal} component={InventoryDetail} rootClass='inventory' />\n                <Route exact path={routes.detail} component={InventoryDetail} rootClass='inventory' />\n                <Redirect path=\"*\" to=\"/\" />\n            </Switch>\n        </Suspense>\n    );\n};\n","import { useFlag, useFlagsStatus } from '@unleash/proxy-client-react';\n\nexport default (flag) => {\n    const { flagsReady } = useFlagsStatus();\n    const isFlagEnabled = useFlag(flag);\n    return flagsReady ? isFlagEnabled : false;\n};\n","import React from 'react';\nimport { Bullseye, Spinner } from '@patternfly/react-core';\n\nconst Fallback = () => (\n    <Bullseye>\n        <Spinner size=\"xl\" />\n    </Bullseye>\n);\n\nexport default Fallback;\n","\nimport MiddlewareListener from '@redhat-cloud-services/frontend-components-utilities/MiddlewareListener';\nimport notificationsMiddleware from '@redhat-cloud-services/frontend-components-notifications/notificationsMiddleware';\nimport promise  from 'redux-promise-middleware';\nimport reducers, { entitesDetailReducer, mergeWithDetail, mergeWithEntities, tableReducer } from './reducers';\nexport { default as reducers, tableReducer, entitesDetailReducer } from './reducers';\nimport { applyMiddleware, combineReducers, compose, legacy_createStore as createStore } from 'redux';\nimport { INVENTORY_ACTION_TYPES } from './action-types';\n\nlet middlewareListener;\n\nconst appReducers = {\n    ...reducers,\n    ...mergeWithEntities(tableReducer),\n    ...mergeWithDetail(entitesDetailReducer(INVENTORY_ACTION_TYPES))\n};\n\nconst composeEnhancers = IS_DEV ? (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose) : compose;\n\nexport const getStore = (...middleware) => {\n    middlewareListener = new MiddlewareListener();\n    return createStore(combineReducers(appReducers), {}, composeEnhancers(applyMiddleware(...[\n        middlewareListener.getMiddleware(),\n        promise,\n        notificationsMiddleware({\n            errorTitleKey: ['message'],\n            errorDescriptionKey: ['response.data.detail']\n        }),\n        ...middleware\n    ])));\n};\n\nexport const updateReducers = (newReducers = {}) =>\n    combineReducers({\n        ...appReducers,\n        ...newReducers\n    });\n\nexport function addNewListener ({ actionType, callback }) {\n    return middlewareListener.addNew({\n        on: actionType,\n        callback\n    });\n}\n","import {\n    INVENTORY_ACTION_TYPES,\n    ACTION_TYPES,\n    SELECT_ENTITY,\n    SET_INVENTORY_FILTER,\n    SET_PAGINATION\n} from './action-types';\nimport systemProfileStore from './systemProfileStore';\nimport { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { mergeArraysByKey } from '@redhat-cloud-services/frontend-components-utilities/helpers';\nimport { notificationsReducer } from '@redhat-cloud-services/frontend-components-notifications/redux';\nimport entitiesReducer, { defaultState as entitiesDefault } from './entities';\nimport entityDetailsReducer, { entityDefaultState as entityDefault, updateEntity } from './entityDetails';\nimport groups from './groups';\n\nexport { entitiesReducer, entityDetailsReducer };\n\nconst defaultState = { loaded: false, selected: new Map() };\n\nfunction entitiesLoaded(state, { payload }) {\n    return {\n        ...state,\n        rows: mergeArraysByKey([state.rows, payload.results]),\n        entities: mergeArraysByKey([state.entities, payload.results])\n    };\n}\n\nfunction entityLoaded(state) {\n    return {\n        ...state,\n        loaded: true\n    };\n}\n\nfunction entitySelected(state, { payload }) {\n    const selected = state.selected || (new Map());\n    if (payload.selected) {\n        if (payload.id === 0) {\n            state.rows.forEach(row => selected.set(row.id, row));\n        } else {\n            const selectedRow = state.rows && state.rows.find(({ id }) => id === payload.id);\n            selected.set(payload.id, { ...selectedRow || {}, id: payload.id });\n        }\n    } else {\n        if (payload.id === 0) {\n            state.rows.forEach(row => selected.delete(row.id));\n        } else if (payload.id === -1) {\n            selected.clear();\n        } else {\n            selected.delete(payload.id);\n        }\n    }\n\n    return {\n        ...state,\n        selected: new Map(selected)\n    };\n}\n\nfunction resourceOptTabVisibility(state, { payload }) {\n    return {\n        ...state,\n        activeApps: state.activeApps?.map((entity) => entity.name === 'ros' ? ({\n            ...entity,\n            isVisible: payload\n        }) : entity\n        )\n    };\n}\n\nfunction entityDeleted(state, { meta }) {\n    const selected = state.selected || (new Map());\n    meta.systems.forEach(id => selected.delete(id));\n\n    return {\n        ...state,\n        selected: new Map(selected)\n    };\n}\n\nfunction onEntitiesLoaded(state, { payload, meta }) {\n    if (meta?.lastDateRequest < state?.lastDateRequest) {\n        return state;\n    }\n\n    return {\n        ...state,\n        rows: mergeArraysByKey([state.rows, payload.results.map(result => {\n            return {\n                ...result,\n                selected: state.selected && state.selected.has(result.id)\n            };\n        })])\n    };\n}\n\nfunction onSetFilter(state, { payload }) {\n    return {\n        ...state,\n        activeFilters: payload.filtersList\n    };\n}\n\nfunction onSetPagination(state, { payload }) {\n    const perPage = parseInt(payload.perPage, 10);\n    const page = parseInt(payload.page, 10);\n    return {\n        ...state,\n        perPage: isNaN(perPage) ? 50 : perPage,\n        page: isNaN(page) ? 1 : page\n    };\n}\n\nlet reducers = {\n    notifications: notificationsReducer,\n    systemProfileStore,\n    groups\n};\n\nexport const tableReducer = applyReducerHash(\n    {\n        [ACTION_TYPES.GET_ENTITIES_FULFILLED]: entitiesLoaded,\n        [INVENTORY_ACTION_TYPES.LOAD_ENTITIES_FULFILLED]: onEntitiesLoaded,\n        [`${ACTION_TYPES.REMOVE_ENTITY}_FULFILLED`]: entityDeleted,\n        [SELECT_ENTITY]: entitySelected,\n        FILTER_SELECT: (state) => ({ ...state, selected: {} }),\n        [SET_INVENTORY_FILTER]: onSetFilter,\n        [SET_PAGINATION]: onSetPagination,\n        [ACTION_TYPES.UPDATE_DISPLAY_NAME_FULFILLED]: updateEntity\n    },\n    defaultState\n);\n\nexport const entitesDetailReducer = () => applyReducerHash(\n    {\n        [INVENTORY_ACTION_TYPES.LOAD_ENTITY_FULFILLED]: entityLoaded,\n        [INVENTORY_ACTION_TYPES.LOAD_SYSTEM_PROFILE_FULFILLED]: resourceOptTabVisibility\n    },\n    defaultState\n);\n\nexport function mergeWithEntities(additionalReducers = (state) => state, defaultState = {}) {\n    return ({\n        entities: (state, payload) => ({\n            ...additionalReducers({\n                ...applyReducerHash({\n                    ...entitiesReducer\n                }, { ...entitiesDefault, ...defaultState })(state, payload)\n            }, payload)\n        })\n    });\n}\n\nexport function mergeWithDetail(additionalReducers = (state) => state, defaultState = {}) {\n    return ({\n        entityDetails: (state, payload) => ({\n            ...additionalReducers({\n                ...applyReducerHash({\n                    ...entityDetailsReducer\n                }, { ...entityDefault, ...defaultState })(state, payload)\n            }, payload)\n        })\n    });\n}\n\nexport default reducers;\n","import { createContext } from 'react';\n\nconst RegistryContext = createContext({\n    getRegistry: () => { }\n});\n\nexport default RegistryContext;\n","import { applyReducerHash } from '@redhat-cloud-services/frontend-components-utilities/ReducerRegistry';\nimport { ACTION_TYPES } from './action-types';\n\nexport const defaultState = { loaded: false };\n\nexport const sizes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n\n// Kudos to https://stackoverflow.com/a/18650828/2560321\nexport const formatBytes = (bytes) => {\n    if (bytes === 0 || isNaN(Number(bytes))) {\n        return '0 B';\n    }\n\n    const index = Math.floor(Math.log(bytes) / Math.log(1024));\n    return `${parseFloat((bytes / Math.pow(1024, index)).toFixed(2))} ${sizes[index]}`;\n};\n\nexport function systemProfilePending(state) {\n    return {\n        ...state,\n        systemProfile: {\n            loaded: false\n        }\n    };\n}\n\nexport function calculateRepos(repos) {\n    return repos && repos.reduce((acc, curr) => ({\n        ...acc,\n        ...curr.enabled ? {\n            enabled: [...acc.enabled, curr]\n        } : {\n            disabled: [...acc.disabled, curr]\n        }\n    }), { enabled: [], disabled: [] });\n}\n\nexport function calculateInterfaces(interfaces) {\n    return interfaces && interfaces.reduce((acc, curr) => ({\n        interfaces: [...acc.interfaces, curr],\n        ipv4: [...acc.ipv4, ...curr.ipv4_addresses || []].filter(Boolean),\n        ipv6: [...acc.ipv6, ...curr.ipv6_addresses || []].filter(Boolean)\n    }), { interfaces: [], ipv4: [], ipv6: [] });\n}\n\nexport function onSystemProfile(state, { payload: { results } }) {\n    const systemProfile = (results && results[0] && results[0].system_profile) || {};\n    const cloudProviderObj = (results && results[0] && (typeof results[0].system_profile.cloud_provider !== 'undefined'))\n                        && results[0].system_profile.cloud_provider;\n    return {\n        ...state,\n        disabledApps: [\n            ...(cloudProviderObj === 'aws' || cloudProviderObj === 'azure') ? [] : ['ros']\n        ],\n        systemProfile: {\n            loaded: true,\n            ...systemProfile,\n            ramSize: systemProfile.system_memory_bytes && formatBytes(systemProfile.system_memory_bytes),\n            repositories: calculateRepos(systemProfile.yum_repos),\n            network: calculateInterfaces(systemProfile.network_interfaces)\n        }\n    };\n}\n\nexport default applyReducerHash(\n    {\n        [ACTION_TYPES.LOAD_SYSTEM_PROFILE_FULFILLED]: onSystemProfile,\n        [ACTION_TYPES.LOAD_SYSTEM_PROFILE_PENDING]: systemProfilePending\n    },\n    {\n        systemProfile: defaultState\n    }\n);\n"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","addNotification","notification","type","payload","id","Date","getTime","Math","random","toString","slice","history","useHistory","chrome","useChrome","useEffect","init","on","event","navId","push","location","search","hash","className","NotificationsPortal","appName","registry","useMemo","store","getStore","register","newReducers","replaceReducer","updateReducers","value","getRegistry","Provider","basename","getBaseName","window","pathname","InventoryTable","lazy","InventoryDetail","InventoryGroups","routes","table","detail","detailWithModal","groups","Routes","searchParams","getSearchParams","groupsEnabled","useFeatureFlag","Suspense","fallback","Switch","Route","exact","path","render","cmp","isRbacEnabled","rootClass","component","Redirect","to","flag","flagsReady","useFlagsStatus","isFlagEnabled","useFlag","size","middlewareListener","appReducers","reducers","mergeWithEntities","tableReducer","mergeWithDetail","entitesDetailReducer","INVENTORY_ACTION_TYPES","composeEnhancers","compose","MiddlewareListener","middleware","createStore","combineReducers","applyMiddleware","getMiddleware","promise","notificationsMiddleware","errorTitleKey","errorDescriptionKey","defaultState","loaded","selected","Map","entityLoaded","state","resourceOptTabVisibility","activeApps","map","entity","name","isVisible","notifications","notificationsReducer","systemProfileStore","applyReducerHash","ACTION_TYPES","rows","mergeArraysByKey","results","entities","meta","lastDateRequest","result","has","systems","forEach","delete","SELECT_ENTITY","row","set","selectedRow","find","clear","SET_INVENTORY_FILTER","activeFilters","filtersList","SET_PAGINATION","perPage","parseInt","page","isNaN","updateEntity","additionalReducers","entitiesReducer","entitiesDefault","entityDetails","entityDetailsReducer","entityDefault","createContext","sizes","formatBytes","bytes","Number","index","floor","log","parseFloat","pow","toFixed","systemProfilePending","systemProfile","calculateRepos","repos","reduce","acc","curr","enabled","disabled","calculateInterfaces","interfaces","ipv4","ipv4_addresses","filter","Boolean","ipv6","ipv6_addresses","onSystemProfile","system_profile","cloudProviderObj","cloud_provider","disabledApps","ramSize","system_memory_bytes","repositories","yum_repos","network","network_interfaces"],"sourceRoot":""}